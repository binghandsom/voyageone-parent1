<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:mongo="http://www.springframework.org/schema/data/mongo"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
          http://www.springframework.org/schema/beans/spring-beans-3.2.xsd">
	  
	<bean id="newOrderJsonImportJob"
		class="com.voyageone.batch.oms.job.NewOrderJsonImportJob">
	</bean>
	
	<bean id="newOrderJsonImportTask"
		class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
		<property name="targetObject">
			<ref local="newOrderJsonImportJob" />
		</property>
		<property name="targetMethod">
			<value>run</value>
		</property>
		<property name="concurrent">
			<value>false</value>
		</property>
	</bean>
	<bean id="newOrderJsonImportTaskContri"
		name="newOrderJsonImportTaskContri"
		class="org.springframework.scheduling.quartz.CronTriggerFactoryBean">
		<property name="jobDetail">
			<ref bean="newOrderJsonImportTask" />
		</property>
		<property name="cronExpression">
			<value>${quartz.new.order.json.import}</value>
		</property>
	</bean>
	
	<bean id="changedOrderJsonImportJob"
		class="com.voyageone.batch.oms.job.ChangedOrderJsonImportJob">
	</bean>
	<bean id="changedOrderJsonImportTask"
		class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
		<property name="targetObject">
			<ref local="changedOrderJsonImportJob" />
		</property>
		<property name="targetMethod">
			<value>run</value>
		</property>
		<property name="concurrent">
			<value>false</value>
		</property>
	</bean>
	<bean id="changedOrderJsonImportTaskContri"
		name="changedOrderJsonImportTaskContri"
		class="org.springframework.scheduling.quartz.CronTriggerFactoryBean">
		<property name="jobDetail">
			<ref bean="changedOrderJsonImportTask" />
		</property>
		<property name="cronExpression">
			<value>${quartz.changed.order.json.import}</value>
		</property>
	</bean>
	
	<bean id="newOrderInfoBatchImportJob"
		class="com.voyageone.batch.oms.job.NewOrderInfoBatchImportJob">
	</bean>
	<bean id="newOrderInfoBatchImportTask"
		class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
		<property name="targetObject">
			<ref local="newOrderInfoBatchImportJob" />
		</property>
		<property name="targetMethod">
			<value>run</value>
		</property>
		<property name="concurrent">
			<value>false</value>
		</property>
	</bean>
	<bean id="newOrderInfoBatchImportTaskContri"
		name="newOrderInfoBatchImportTaskContri"
		class="org.springframework.scheduling.quartz.CronTriggerFactoryBean">
		<property name="jobDetail">
			<ref bean="newOrderInfoBatchImportTask" />
		</property>
		<property name="cronExpression">
			<value>${quartz.new.order.info.batch.import}</value>
		</property>
	</bean>
	
	<bean id="newOrderInfoEachImportJob"
		class="com.voyageone.batch.oms.job.NewOrderInfoEachImportJob">
	</bean>
	<bean id="newOrderInfoEachImportTask"
		class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
		<property name="targetObject">
			<ref local="newOrderInfoEachImportJob" />
		</property>
		<property name="targetMethod">
			<value>run</value>
		</property>
		<property name="concurrent">
			<value>false</value>
		</property>
	</bean>
	<bean id="newOrderInfoEachImportTaskContri"
		name="newOrderInfoEachImportTaskContri"
		class="org.springframework.scheduling.quartz.CronTriggerFactoryBean">
		<property name="jobDetail">
			<ref bean="newOrderInfoEachImportTask" />
		</property>
		<property name="cronExpression">
			<value>${quartz.new.order.info.each.import}</value>
		</property>
	</bean>
	
	<bean id="changedOrderInfoImportJob"
		class="com.voyageone.batch.oms.job.ChangedOrderInfoImportJob">
	</bean>
	<bean id="changedOrderInfoImportTask"
		class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
		<property name="targetObject">
			<ref local="changedOrderInfoImportJob" />
		</property>
		<property name="targetMethod">
			<value>run</value>
		</property>
		<property name="concurrent">
			<value>false</value>
		</property>
	</bean>
	<bean id="changedOrderInfoImportTaskContri"
		name="changedOrderInfoImportTaskContri"
		class="org.springframework.scheduling.quartz.CronTriggerFactoryBean">
		<property name="jobDetail">
			<ref bean="changedOrderInfoImportTask" />
		</property>
		<property name="cronExpression">
			<value>${quartz.changed.order.info.import}</value>
		</property>
	</bean>
	
	<bean id="syncSynShipNewOrderJob"
		class="com.voyageone.batch.oms.job.SyncSynShipNewOrderJob">
	</bean>
	<bean id="syncSynShipNewOrderTask"
		class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
		<property name="targetObject">
			<ref local="syncSynShipNewOrderJob" />
		</property>
		<property name="targetMethod">
			<value>run</value>
		</property>
		<property name="concurrent">
			<value>false</value>
		</property>
	</bean>
	<bean id="syncSynShipNewOrderTaskContri"
		name="syncSynShipNewOrderTaskContri"
		class="org.springframework.scheduling.quartz.CronTriggerFactoryBean">
		<property name="jobDetail">
			<ref bean="syncSynShipNewOrderTask" />
		</property>
		<property name="cronExpression">
			<value>${quartz.sync.order.synship}</value>
		</property>
	</bean>
<!-- ===================add by sky for reservation start================ -->	
	<bean id="ReservationInfoTransferJob"
		class="com.voyageone.batch.oms.job.ReservationInfoTransferJob">
	</bean>	
	<bean id="ReservationInfoTransferTask"
		class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
		<property name="targetObject">
			<ref local="ReservationInfoTransferJob" />
		</property>
		<property name="targetMethod">
			<value>run</value>
		</property>
		<property name="concurrent">
			<value>false</value>
		</property>
	</bean>	
	<bean id="ReservationInfoTransferTaskContri" 
		name="ReservationInfoTransferTaskContri"
		class="org.springframework.scheduling.quartz.CronTriggerFactoryBean">
		<property name="jobDetail">
			<ref bean="ReservationInfoTransferTask" />
		</property>
		<property name="cronExpression">
			<value>${quartz.order.reservationInfo.transfer}</value>
		</property>
	</bean>

<!-- ===================add by sky for reservation end================ -->	

	<bean autowire="no"
		class="org.springframework.scheduling.quartz.SchedulerFactoryBean">
		<property name="triggers">
			<list>

				<!-- 新付款订单信息从json临时表同步到单条记录临时表  -->
				<ref local="newOrderJsonImportTaskContri" />
				
				<!-- 新付款订单信息从单条记录临时表批量同步到正式表  -->
				<ref local="newOrderInfoBatchImportTaskContri" />
				
				<!-- 新付款订单信息从单条记录临时表单条循环同步到正式表  -->
				<ref local="newOrderInfoEachImportTaskContri" />
				
				<!-- 状态变化订单信息从json临时表同步到单条记录临时表  -->
				<ref local="changedOrderJsonImportTaskContri" />
				
				<!-- 状态变化订单信息从单条记录临时表单条循环同步到正式表  -->
				<ref local="changedOrderInfoImportTaskContri" />
				
				<!-- 进入OMS正式表的新订单同步到SynShip -->
				<ref local="syncSynShipNewOrderTaskContri" />
				
				<!-- 对未分配过库存及捡货的订单物品记录进行库存及获得reservionId处理 -->
				<ref local="ReservationInfoTransferTaskContri" />
				
				<!-- OMS里PA漏单检查定时任务 -->
				<ref bean="CheckOmitSecResultPATaskContri" />

				<!-- OMS里JC漏单检查定时任务 -->
				<ref bean="CheckOmitSecResultJCTaskContri" />
				
				<!-- OMS里Spalding漏单检查定时任务 -->
				<ref bean="CheckOmitSecResultSPTaskContri" />

				<!-- OMS里SneakerHead漏单检查定时任务 -->
				<ref bean="CheckOmitSecResultSNTaskContri" />

				<!-- OMS里BHFO漏单检查定时任务 -->
				<ref bean="CheckOmitSecResultBHFOTaskContri" />

				<!-- OMS里RM漏单检查定时任务 -->
				<ref bean="CheckOmitSecResultRMTaskContri" />

				<!-- OMS里CP漏单检查定时任务 -->
				<ref bean="CheckOmitSecResultCPTaskContri" />

				<!-- OMS里JE漏单检查定时任务 -->
				<ref bean="CheckOmitSecResultJETaskContri" />

				<!-- 订单重复检查 -->
				<ref local="sendSameOrderTaskContri"/>
				
				<!-- 取得用户评价 -->
				<ref bean="GetTradeRateResultTaskContri" />
				
				<!-- 订单日报统计邮件 -->
				<ref local="SendOrderMailTaskContri" />
				
				<!-- Juicy订单推送OneStop -->
				<ref bean="PostOrderJCTaskContri"/>
				
				<!-- BHFO订单推送CA -->
				<ref bean="PostOrderBHFOTaskContri"/>
				
				<!-- JEWELRY订单推送CA -->
				<ref bean="PostOrderJEWELRYTaskContri"/>
				
				<!-- CA订单状态更新 -->
				<ref bean="UpdateOrderStatusTaskContri"/>
				
				<!-- Spalding独立域名订单取得 -->
				<ref bean="OrderFromSpaldingWebContri" />
				
				<!-- SneakerHead独立域名订单取得 -->
				<ref bean="OrderFromSneakerHeadWebContri" />
				
				<!-- 向斯伯丁独立域名推送订单状态 -->
				<ref bean="selfSpaldingOrderStatusPostTaskContri" />
				
				<!-- 向sneakerhead独立域名推送订单状态 -->
				<ref bean="selfSneakerheadOrderStatusPostTaskContri" />
				
				<!-- 京东取得新订单 -->
				<ref bean="jdNewOrderImportJobTaskContri" />
				
				<!-- 京东取得状态变化订单 -->
				<ref bean="jdChangedOrderImportJobTaskContri" />
				
				<!-- 京东国际取得新订单 -->
				<ref bean="jdGjNewOrderImportJobTaskContri" />
				
				<!-- 京东国际取得状态变化订单 -->
				<ref bean="jdGjChangedOrderImportJobTaskContri" />
				
				<!-- 京东、京东国际新订单短链接推送 -->
				<ref bean="shortUrlGenerateTaskContri" />

				<!-- 皇马正常订单推送 -->
				<ref bean="postRMNormalOrderJobTaskContri" />

				<!-- 皇马准备取消订单推送 -->
				<ref bean="postRMPendingCancelOrderJobTaskContri" />

				<!-- 皇马退货订单推送 -->
				<ref bean="postRMReturnOrderJobTaskContri" />

				<!-- 皇马取消订单下载 -->
				<ref bean="downloadRMCancelOrderJobTaskContri" />

				<!-- 皇马更新订单下载 -->
				<ref bean="downloadRMUpdateOrderJobTaskContri" />

				<!-- 手动倒入订单任务 -->
				<ref bean="manualNewOrderInfoBatchImportJobTaskContri" />
				
				<!-- 聚美新订单导入 -->
				<ref local="jumeiOrderImportJobTaskContri" />

				<!-- 聚美新订单短链接推送 -->
				<ref bean="jumeiShortUrlGenerateJobTaskContri" />

				<!-- 统计消费排名顾客邮件 -->
				<ref bean="SendTopRankingTaskContri" />

				<!-- BCBG Daily Sales推送 -->
				<ref bean="postBCBGDailySalesJobTaskContri" />

				<!-- BCBG Demands推送 -->
				<ref bean="postBCBGDemandJobTaskContri" />

				<!-- Sears Create Order推送 -->
				<!--<ref bean="postSearsCreateOrderTaskContri" />-->

				<!-- Sears Order Lookup订单信息取得 -->
				<!--<ref bean="getSearsOrderLookupTaskContri" />-->

				<!-- JuicyCouture独立域名订单取得 -->
				<ref bean="OrderFromJuicyCoutureContri" />

				<!-- 向JuicyCouture独立域名推送订单状态 -->
				<ref bean="selfJuicyCoutureOrderStatusPostTaskContri" />

				<!-- WMF准备取消订单推送 -->
				<ref bean="postWMFPendingCancelOrderJobTaskContri" />
			
			</list>
		</property>
		<property name="quartzProperties">
			<map>
				<entry key="org.quartz.threadPool.threadCount" value="3"></entry>
			</map>
		</property>
	</bean>

</beans>
