<?xml version="1.0"?>
<Schema name="SalesSchema">
	<!-- store sales -->
	<Cube name="sales_store">
		<Table name="vt_sales_store"/>
		<!-- date dimension -->
        <Dimension name="Date" foreignKey="date">
            <!-- Year, Month, Day -->
            <Hierarchy name="YMD" hasAll="true" allMemberName="All Dates" primaryKey="id" type="TimeDimension">
                <Table name="vm_date"/>
                <Level name="Year" column="year" uniqueMembers="true" levelType="TimeYears" type="Numeric"/>
                <Level name="Month" column="month" uniqueMembers="false" levelType="TimeMonths" type="Numeric">
					<Property name="month_code" column="month_code"/>
                </Level>
                <Level name="Day" column="day" uniqueMembers="false" levelType="TimeDays" type="Numeric">
                    <Property name="code" column="code"/>
                </Level>
            </Hierarchy>
        </Dimension>

		<!-- shop dimension -->
        <Dimension name="Shop" foreignKey="shop_id">
            <Hierarchy name="Shops" hasAll="true" allMemberName="All Shops" primaryKey="id">
                <Table name="vm_shop"/>
				<Level name="id" column="id" uniqueMembers="true" type="Numeric">
					<Property name="name" column="name"/>
					<Property name="name_cn" column="name_cn"/>
					<Property name="name_cns" column="name_cns"/>
                </Level>
                <Level name="channel_id" column="channel_id" uniqueMembers="false" type="Numeric"/>
                <Level name="ecomm_id" column="ecomm_id" uniqueMembers="false" type="Numeric"/>
            </Hierarchy>
        </Dimension>

		<!-- Buy Channel dimension -->
        <Dimension name="BuyChannel" foreignKey="buy_channel">
            <Hierarchy name="BuyChannels" hasAll="true" allMemberName="All BuyChannels" primaryKey="id">
                <Table name="vm_buy_channel"/>
				<Level name="id" column="id" uniqueMembers="true" type="Numeric">
					<Property name="name" column="name"/>
                </Level>
            </Hierarchy>
        </Dimension>

		<Measure name="qty" column="qty" aggregator="sum" formatString="Standard"/>
        <Measure name="amt" column="amt" aggregator="sum" formatString="Standard"/>
        <Measure name="orders" column="orders" aggregator="sum" formatString="Standard"/>
	</Cube>

	<Cube name="sales_store_extend">
		<Table name="vt_sales_store_extend"/>
		<!-- date dimension -->
        <Dimension name="Date" foreignKey="date">
            <!-- Year, Month, Day -->
            <Hierarchy name="YMD" hasAll="true" allMemberName="All Dates" primaryKey="id" type="TimeDimension">
                <Table name="vm_date"/>
                <Level name="Year" column="year" uniqueMembers="true" levelType="TimeYears" type="Numeric"/>
                <Level name="Month" column="month" uniqueMembers="false" levelType="TimeMonths" type="Numeric">
					<Property name="month_code" column="month_code"/>
                </Level>
                <Level name="Day" column="day" uniqueMembers="false" levelType="TimeDays" type="Numeric">
                    <Property name="code" column="code"/>
                </Level>
            </Hierarchy>
        </Dimension>

		<!-- shop dimension -->
        <Dimension name="Shop" foreignKey="shop_id">
            <Hierarchy name="Shops" hasAll="true" allMemberName="All Shops" primaryKey="id">
                <Table name="vm_shop"/>
				<Level name="id" column="id" uniqueMembers="true" type="Numeric">
					<Property name="name" column="name"/>
					<Property name="name_cn" column="name_cn"/>
					<Property name="name_cns" column="name_cns"/>
                </Level>
                <Level name="channel_id" column="channel_id" uniqueMembers="false" type="Numeric"/>
                <Level name="ecomm_id" column="ecomm_id" uniqueMembers="false" type="Numeric"/>
            </Hierarchy>
        </Dimension>

		<!-- Buy Channel dimension -->
        <Dimension name="BuyChannel" foreignKey="buy_channel">
            <Hierarchy name="BuyChannels" hasAll="true" allMemberName="All BuyChannels" primaryKey="id">
                <Table name="vm_buy_channel"/>
				<Level name="id" column="id" uniqueMembers="true" type="Numeric">
					<Property name="name" column="name"/>
                </Level>
            </Hierarchy>
        </Dimension>

		<Measure name="qty" column="num_case_paid" aggregator="sum" formatString="Standard"/>
        <Measure name="amt" column="amt_paid" aggregator="sum" formatString="Standard"/>
        <Measure name="orders" column="num_f_paid" aggregator="sum" formatString="Standard"/>
		<Measure name="pv" column="pv" aggregator="sum" formatString="Standard"/>
        <Measure name="uv" column="uv" aggregator="sum" formatString="Standard"/>
        <Measure name="tr" column="cvr_order" aggregator="avg" formatString="Standard"/>
	</Cube>

	<Cube name="sales_product">
		<Table name="vt_sales_product"/>
		<!-- date dimension -->
        <Dimension name="Date" foreignKey="date">
            <!-- Year, Month, Day -->
            <Hierarchy name="YMD" hasAll="true" allMemberName="All Dates" primaryKey="id" type="TimeDimension">
                <Table name="vm_date"/>
                <Level name="Year" column="year" uniqueMembers="true" levelType="TimeYears" type="Numeric"/>
                <Level name="Month" column="month" uniqueMembers="false" levelType="TimeMonths" type="Numeric"/>
                <Level name="Day" column="day" uniqueMembers="false" levelType="TimeDays" type="Numeric">
                    <Property name="code" column="code"/>
                </Level>
            </Hierarchy>
        </Dimension>

		<!-- shop dimension -->
        <Dimension name="Shop" foreignKey="shop_id">
            <Hierarchy name="Shops" hasAll="true" allMemberName="All Shops" primaryKey="id">
                <Table name="vm_shop"/>
				<Level name="id" column="id" uniqueMembers="true" type="Numeric">
					<Property name="name" column="name"/>
					<Property name="name_cn" column="name_cn"/>
					<Property name="name_cns" column="name_cns"/>
                </Level>
                <Level name="channel_id" column="channel_id" uniqueMembers="false" type="Numeric"/>
                <Level name="ecomm_id" column="ecomm_id" uniqueMembers="false" type="Numeric"/>
            </Hierarchy>
        </Dimension>

		<!-- Buy Channel dimension -->
        <Dimension name="BuyChannel" foreignKey="buy_channel">
            <Hierarchy name="BuyChannels" hasAll="true" allMemberName="All BuyChannels" primaryKey="id">
                <Table name="vm_buy_channel"/>
				<Level name="id" column="id" uniqueMembers="true" type="Numeric">
					<Property name="name" column="name"/>
                </Level>
            </Hierarchy>
        </Dimension>

		<!-- product dimension -->
        <Dimension name="Product" foreignKey="product_id">
            <Hierarchy name="Products" hasAll="true" allMemberName="All Products" primaryKey="id">
                <Table name="vm_product"/>
				<Level name="id" column="id" uniqueMembers="true" type="Numeric">
					<Property name="code" column="code"/>
					<Property name="name" column="name"/>
                </Level>
            </Hierarchy>
        </Dimension>

		<!-- brand dimension -->
        <Dimension name="Brand" foreignKey="brand_id">
            <Hierarchy name="Brands" hasAll="true" allMemberName="All Brands" primaryKey="id">
                <Table name="vm_brand"/>
				<Level name="id" column="id" uniqueMembers="true" type="Numeric">
					<Property name="name" column="name"/>
                </Level>
            </Hierarchy>
        </Dimension>

		<!-- category dimension -->
        <Dimension name="Category" foreignKey="product_id">
            <Hierarchy name="Categorys" hasAll="true" allMemberName="All Categorys" primaryKey="product_id">
                <Table name="vm_product_category_view"/>
				<Level name="category1" column="category1_id" uniqueMembers="true" type="Numeric">
					<Property name="name" column="category1_name"/>
					<Property name="level" column="category1_level"/>
					<Property name="isParent" column="is_parent1" />
                </Level>
				<Level name="category2" column="category2_id" uniqueMembers="false" type="Numeric">
					<Property name="name" column="category2_name"/>
					<Property name="level" column="category2_level"/>
					<Property name="isParent" column="is_parent2"/>
                </Level>
				<Level name="category3" column="category3_id" uniqueMembers="false" type="Numeric">
					<Property name="name" column="category3_name"/>
					<Property name="level" column="category3_level"/>
					<Property name="isParent" column="is_parent3"/>
                </Level>
            </Hierarchy>
        </Dimension>

		<Measure name="qty" column="qty" aggregator="sum" formatString="Standard"/>
        <Measure name="amt" column="amt" aggregator="sum" formatString="Standard"/>
        <Measure name="orders" column="orders" aggregator="sum" formatString="Standard"/>
	</Cube>
	
	<Cube name="sales_sku">
		<Table name="vt_sales_sku"/>
		<!-- date dimension -->
        <Dimension name="Date" foreignKey="date">
            <!-- Year, Month, Day -->
            <Hierarchy name="YMD" hasAll="true" allMemberName="All Dates" primaryKey="id" type="TimeDimension">
                <Table name="vm_date"/>
                <Level name="Year" column="year" uniqueMembers="true" levelType="TimeYears" type="Numeric"/>
                <Level name="Month" column="month" uniqueMembers="false" levelType="TimeMonths" type="Numeric"/>
                <Level name="Day" column="day" uniqueMembers="false" levelType="TimeDays" type="Numeric">
                    <Property name="code" column="code"/>
                </Level>
            </Hierarchy>
        </Dimension>

		<!-- shop dimension -->
        <Dimension name="Shop" foreignKey="shop_id">
            <Hierarchy name="Shops" hasAll="true" allMemberName="All Shops" primaryKey="id">
                <Table name="vm_shop"/>
				<Level name="id" column="id" uniqueMembers="true" type="Numeric">
					<Property name="name" column="name"/>
					<Property name="name_cn" column="name_cn"/>
					<Property name="name_cns" column="name_cns"/>
                </Level>
                <Level name="channel_id" column="channel_id" uniqueMembers="false" type="Numeric"/>
                <Level name="ecomm_id" column="ecomm_id" uniqueMembers="false" type="Numeric"/>
            </Hierarchy>
        </Dimension>

		<!-- Buy Channel dimension -->
        <Dimension name="BuyChannel" foreignKey="buy_channel">
            <Hierarchy name="BuyChannels" hasAll="true" allMemberName="All BuyChannels" primaryKey="id">
                <Table name="vm_buy_channel"/>
				<Level name="id" column="id" uniqueMembers="true" type="Numeric">
					<Property name="name" column="name"/>
                </Level>
            </Hierarchy>
        </Dimension>

		<!-- product dimension -->
        <Dimension name="Product" foreignKey="product_id">
            <Hierarchy name="Products" hasAll="true" allMemberName="All Products" primaryKey="id">
                <Table name="vm_product"/>
				<Level name="id" column="id" uniqueMembers="true">
					<Property name="code" column="code"/>
					<Property name="name" column="name"/>
                </Level>
            </Hierarchy>
        </Dimension>

		<!-- sku dimension -->
        <Dimension name="Sku" foreignKey="sku_id">
            <Hierarchy name="Skus" hasAll="true" allMemberName="All Skus" primaryKey="id">
                <Table name="vm_sku"/>
				<Level name="productId" column="product_id" uniqueMembers="false"/>
				<Level name="id" column="id" uniqueMembers="true" type="Numeric">
					<Property name="code" column="sku_code"/>
                </Level>
            </Hierarchy>
        </Dimension>

		<!-- brand dimension -->
        <Dimension name="Brand" foreignKey="brand_id">
            <Hierarchy name="Brands" hasAll="true" allMemberName="All Brands"  primaryKey="id">
                <Table name="vm_brand"/>
				<Level name="id" column="id" uniqueMembers="true" type="Numeric">
					<Property name="name" column="name"/>
                </Level>
            </Hierarchy>
        </Dimension>

		<!-- category dimension -->
        <Dimension name="Category" foreignKey="product_id">
            <Hierarchy name="Categorys" hasAll="true" allMemberName="All Categorys" primaryKey="product_id">
                <Table name="vm_product_category_view"/>
				<Level name="category1" column="category1_id" uniqueMembers="true" type="Numeric">
					<Property name="name" column="category1_name"/>
					<Property name="level" column="category1_level"/>
					<Property name="isParent" column="is_parent1"/>
                </Level>
				<Level name="category2" column="category2_id" uniqueMembers="false" type="Numeric">
					<Property name="name" column="category2_name"/>
					<Property name="level" column="category2_level"/>
					<Property name="isParent" column="is_parent2"/>
                </Level>
				<Level name="category3" column="category3_id" uniqueMembers="false" type="Numeric">
					<Property name="name" column="category3_name"/>
					<Property name="level" column="category3_level"/>
					<Property name="isParent" column="is_parent3"/>
                </Level>
            </Hierarchy>
        </Dimension>

		<!-- Color dimension -->
        <Dimension name="Color" foreignKey="main_color_id">
            <Hierarchy name="Colors" hasAll="true" allMemberName="All Colors"  primaryKey="id">
                <Table name="vm_color_define"/>
				<Level name="id" column="id" uniqueMembers="true" type="Numeric">
					<Property name="name" column="name"/>
                </Level>
            </Hierarchy>
        </Dimension>

		<!-- Size dimension -->
        <Dimension name="Size" foreignKey="size_id">
            <Hierarchy name="Sizes" hasAll="true" allMemberName="All Sizes"  primaryKey="id">
                <Table name="vm_size"/>
				<Level name="id" column="id" uniqueMembers="true" type="Numeric">
					<Property name="name" column="name"/>
                </Level>
            </Hierarchy>
        </Dimension>

		<Measure name="qty" column="qty" aggregator="sum" formatString="Standard"/>
        <Measure name="amt" column="amt" aggregator="sum" formatString="Standard"/>
        <Measure name="orders" column="orders" aggregator="sum" formatString="Standard"/>
	</Cube>	
</Schema>