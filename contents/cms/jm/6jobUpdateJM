 CmsBtJmPromotionProductModel model=当前上新的商品;
         if (model.getSynchStatus() != 2) {
                //获取在售商品的model
                CmsBtJmPromotionProductModel onSaleModel = daoExtCmsBtJmPromotionProduct.selectOnSaleByCode(model.getChannelId(), model.getProductCode(), DateTimeUtilBeijing.getCurrentBeiJingDate());
                if (onSaleModel != null) {
                    model.setErrorMsg("存在在售商品JmHashId:" + onSaleModel.getJmHashId() + "已在其它聚美专场，且未过期。该商品上传失败不能上传");
                    daoCmsBtJmPromotionProduct.update(model);
                    return result;
                }
                // 再售
                if (StringUtil.isEmpty(model.getJmHashId())) {
                    copyDeal(modelCmsBtJmPromotion, model, shopBean);
                } else {
                    model.setStockStatus(1);//库存设置待更新
                    model.setSynchStatus(2);//有jmHashId 已上传
                }
                updateDealStock(model, shopBean);//更新库存
                //更新deal   商品属性 价格
                updateDeal(model, shopBean);
                if (model.getDealEndTimeStatus() == 1) {
                    updateDealEndTime(modelCmsBtJmPromotion, model, shopBean);//deal延期
                }

            } else {
                if (model.getPriceStatus() == 1) //更新价格
                {
                    updateDeal(model, shopBean);//更新deal   商品属性 价格
                }
                if (model.getDealEndTimeStatus() == 1) {
                    updateDealEndTime(modelCmsBtJmPromotion, model, shopBean);//deal延期
                }
                if (model.getStockStatus() != 2) {
                    updateDealStock(model, shopBean);//更新库存
                }
            }



2.专场上传
   商品无聚美上新用HID的场合，启动【专场再售流程】
       （1）上新流程、更新流程、专场再售流程、专场更新流程、专场价格同步流程、专场延期流程，启动前共通Check（库存同步除外）
       （2）复制Deal(特卖)信息[htDeal/copyDeal]调用前Check
       （3）调用 复制Deal(特卖)信息[htDeal/copyDeal]
       （4）复制Deal(特卖)信息[htDeal/copyDeal]调用后Check

   商品有聚美上新用HID的场合，启动【专场更新流程】
       （1）上新流程、更新流程、专场再售流程、专场更新流程、专场价格同步流程、专场延期流程，启动前共通Check（库存同步除外）
       （2）调用 修改Deal(特卖)信息【htDeal/update】
       （3）同步库存FLG为否的场合，调用 批量同步deal库存【htDeal/updateDealStockBatch】
           同步库存失败。
           同步库存FLG为否。
           状态为“上传失败”。
          写入专场错误信息。
                  “库存同步失败，请重新点击【重刷】/【批量上传】。”
                   +聚美Response
       （4）同步价格FLG为否的场合，调用 批量更新deal价格【htDeal/updateDealPriceBatch】
           同步价格失败。
           同步价格FLG为否。
           修改类API调用后Check。

3.专场价格同步
   商品无聚美上新用HID的场合，启动【专场再售流程】
       （1）上新流程、更新流程、专场再售流程、专场更新流程、专场价格同步流程、专场延期流程，启动前共通Check（库存同步除外）
       （2）复制Deal(特卖)信息[htDeal/copyDeal]调用前Check
       （3）调用 复制Deal(特卖)信息[htDeal/copyDeal]
       （4）复制Deal(特卖)信息[htDeal/copyDeal]调用后Check

   商品有聚美上新用HID的场合，启动【专场价格同步流程】
       （1）上新流程、更新流程、专场再售流程、专场更新流程、专场价格同步流程、专场延期流程，启动前共通Check（库存同步除外）
       （2）调用 批量更新deal价格【htDeal/updateDealPriceBatch】
       （3）修改类API调用后Check

4.专场延期
   商品无聚美上新用HID的场合，启动【专场再售流程】
       （1）上新流程、更新流程、专场再售流程、专场更新流程、专场价格同步流程、专场延期流程，启动前共通Check（库存同步除外）
       （2）复制Deal(特卖)信息[htDeal/copyDeal]调用前Check
       （3）调用 复制Deal(特卖)信息[htDeal/copyDeal]
       （4）复制Deal(特卖)信息[htDeal/copyDeal]调用后Check

   商品有聚美上新用HID的场合，启动【专场价格同步流程】
       （1）上新流程、更新流程、专场再售流程、专场更新流程、专场价格同步流程、专场延期流程，启动前共通Check（库存同步除外）
       （2）延迟Deal结束时间【htDeal/updateDealEndTime】调用前Check
       （2）调用 延迟Deal结束时间【htDeal/updateDealEndTime】
       （3）修改类API调用后Check