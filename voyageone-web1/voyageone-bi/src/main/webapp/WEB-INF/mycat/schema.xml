<?xml version="1.0"?>
<!DOCTYPE mycat:schema SYSTEM "schema.dtd">
<mycat:schema xmlns:mycat="http://org.opencloudb/">

	<schema name="bi_stores" checkSQLschema="false" sqlMaxLimit="10000">

		<!-- auto sharding by id (long) -->
		<table name="vm_date"									primaryKey="id"					type="global"	dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" />
		<table name="vm_shop"									primaryKey="id"					type="global"	dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" />
		<table name="vm_buy_channel"						primaryKey="id"					type="global"	dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" />

		<table name="vm_category"							primaryKey="id"					type="global"	dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" />
		<table name="vm_brand"									primaryKey="id"					type="global"	dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" />
		<table name="vm_color"									primaryKey="id"					type="global"	dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" />
		<table name="vm_color_define"						primaryKey="id"					type="global"	dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" />
		<table name="vm_size"										primaryKey="id"					type="global"	dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" />
		<table name="vm_material"								primaryKey="id"					type="global"	dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" />
		<table name="vm_size_type"							primaryKey="id"					type="global"	dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" />
		<table name="vm_model"								primaryKey="id"					type="global"	dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" />
		<table name="vm_product"								primaryKey="id"					type="global"	dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" />
		<table name="vm_product_category"				primaryKey="product_id"	type="global"	dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" />
		<table name="vm_product_category_view"		primaryKey="product_id"	type="global"	dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" />
		<table name="vm_sku"										primaryKey="id"          		type="global"	dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" />

		<table name="vt_sales_store"							dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" rule="auto-sharding-long" />
		<table name="vt_sales_store_extend"				dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" rule="auto-sharding-long" />
		<table name="vt_sales_model"							dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" rule="auto-sharding-long" />
		<table name="vt_sales_product"						dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" rule="auto-sharding-long" />
		<table name="vt_sales_sku"								dataNode="bi_s001,bi_s004,bi_s005,bi_s006,bi_s008" rule="auto-sharding-long" />
		
	</schema>

	<dataNode name="bi_s001" dataHost="localhost1" database="bi_s001" />
	<dataNode name="bi_s004" dataHost="localhost1" database="bi_s004" />
	<dataNode name="bi_s005" dataHost="localhost1" database="bi_s005" />
	<dataNode name="bi_s006" dataHost="localhost1" database="bi_s006" />
	<dataNode name="bi_s008" dataHost="localhost1" database="bi_s008" />

	<dataHost name="localhost1" maxCon="1000" minCon="10" balance="0" writeType="0" dbType="mysql" dbDriver="native" switchType="1"  slaveThreshold="100">
		<heartbeat>select user()</heartbeat>
		<writeHost host="hostM1" url="10.0.0.59:3306" user="biuser" password="packpen"></writeHost>
	</dataHost>

</mycat:schema>
