<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.voyageone.service.daoext.jumei.CmsMtMasterInfoDaoExt">
    <resultMap id="ResultMap" type="CmsMtMasterInfoModel">
        
    </resultMap>
    <select id="getByKey" resultMap="ResultMap">
        select *  from cms_mt_master_info where  `platform_id`=#{platformId} and  `channel_id`=#{channelId}  and `brand_name`=#{brandName}
        and  `product_type`=#{productType} and `data_type`=#{dataType} limit 1

    </select>
    <select id="getByKeySizeType" resultMap="ResultMap">
        select *  from cms_mt_master_info where  `platform_id`=#{platformId} and  `channel_id`=#{channelId}  and `brand_name`=#{brandName}
        and  `product_type`=#{productType} and `data_type`=#{dataType}     and size_type=#{sizeType} limit 1

    </select>
    <select id="getListByWhere" resultMap="ResultMap">
        select *
        from cms_mt_master_info
        <where>
            <if test="id != null">
                AND id = #{id}
            </if>
            <if test="platformId != null">
                AND platform_id = #{platformId}
            </if>
            <if test="channelId != null">
                AND channel_id = #{channelId}
            </if>
            <if test="brandName != null">
                AND brand_name = #{brandName}
            </if>
            <if test="productType != null">
                AND product_type = #{productType}
            </if>
            <if test="sizeType != null">
                AND size_type = #{sizeType}
            </if>
            <if test="dataType != null">
                AND data_type = #{dataType}
            </if>
            <if test="imageIndex != null">
                AND image_index = #{imageIndex}
            </if>
            <if test="value1 != null">
                AND value1 = #{value1}
            </if>
            <if test="value2 != null">
                AND value2 = #{value2}
            </if>
            <if test="synFlgList != null">
            <if test="synFlgList.size()!=0">
                and  syn_flg in
                <foreach item="item" index="i" collection="synFlgList"
                         open="(" separator="," close=")">
                    #{item}
                </foreach>
            </if>
            </if>
            <if test="beginModified != null">
                AND modified >= #{beginModified}
            </if>
            <if test="endModified != null">
                AND modified &lt;= #{endModified}
            </if>
        </where>
    </select>
</mapper>