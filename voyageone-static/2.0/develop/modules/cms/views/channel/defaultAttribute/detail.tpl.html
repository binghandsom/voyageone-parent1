<!--2.9.0-->
<div class="wrapper-md default-attr" ng-init="ctrl.init()">
    <div class="panel panel-vo">
        <div class="panel-heading">
            <h4 class="panel-title"><i class="fa fa-reorder"></i>&nbsp;<span translate="TXT_DEFAULT_MAPPING"></span>
            </h4>
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-sm-4">
                    <div class="form-horizontal">
                        <div class="form-group">
                            <label class="col-sm-4 control-label" translate="TXT_CART_NAME"></label>
                            <div class="col-sm-7">
                                <select class="form-control" ng-change="ctrl.tryGetCart()"
                                        ng-model="ctrl.searchInfo.cartId"
                                        ng-options="option.value as option.name for option in ctrl.platformTypes"
                                        ng-disabled="ctrl.platformMappingFrontId">
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-8">
                    <div class="row">
                        <div class="col-sm-4">
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <label class="control-label" translate="TXT_PLATFORM_CATEGORY"></label>
                                    <span>&nbsp;</span>
                                    <label>
                                        <input name="category" type="radio" value="1"
                                               ng-model="ctrl.searchInfo.categoryType" ng-change="ctrl.tryGetCategory()"
                                               ng-disabled="ctrl.platformMappingFrontId">&nbsp;全类目
                                    </label>&nbsp;
                                    <label>
                                        <input name="category" type="radio" value="2"
                                               ng-model="ctrl.searchInfo.categoryType" ng-change="ctrl.tryGetCategory()"
                                               ng-disabled="ctrl.platformMappingFrontId">&nbsp;选择类目
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-horizontal">
                                <div class="row">
                                    <button class="col-sm-3 btn btn-default" ng-click="ctrl.openCategorySelector()"
                                            ng-disabled="!ctrl.searchInfo.cartId || ctrl.searchInfo.categoryType != '2' || ctrl.platformMappingFrontId">
                                        <i class="fa  fa-th-list"></i>&nbsp;<span
                                            translate="TXT_PLATFORM_CATEGORY"></span>
                                    </button>
                                    <div class="col-sm-7">
                                        <input class="form-control" title="{{ctrl.searchInfo.categoryPath}}"
                                               ng-model="ctrl.searchInfo.categoryPath" disabled>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-5 col-md-offset-4">
                    <div class="text-warnings">
                        <i class="icon fa fa-bell-o"></i>&nbsp;属性配置项必须在平台类目选择后才能出现！&nbsp;如果选择的类目的默认属性已经编辑过，编辑后保存会覆盖原来默认属性。
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="panel panel-vo">
        <div class="panel-heading">
            <h4 class="panel-title"><i class="fa fa-gears"></i>&nbsp;<span translate="TXT_DEFAULT_MAPPING"></span>:<span
                    ng-bind="ctrl.categoryTitle"></span></h4>
        </div>
        <div class="panel-body" style="position: relative;">
            <div class="col-md-10">
                <default-attr data="ctrl.fields.item"></default-attr>
                <hr ng-if="ctrl.fields.item && ctrl.fields.product">
                <default-attr data="ctrl.fields.product"></default-attr>
            </div>
            <sticky top-fix="200" style="position: absolute; right: 0; top: 15px;">
                <ul class="nav nav-pills nav-stacked">
                    <li>
                        <button type="button" ng-click="ctrl.close()" class="btn btn-default"><i class="fa fa-reply"></i>&nbsp;&nbsp;返回</button>
                    </li>
                    <li>
                        <button type="button" ng-click="ctrl.save()" class="btn btn-vo"><i class="fa fa-save"></i>&nbsp;&nbsp;保存</button>
                    </li>
                    <li>
                        <button type="button" ng-click="ctrl.confirmRefresh()" class="btn btn-primary"><i class="fa fa-warning"></i>&nbsp;&nbsp;强制重刷</button>
                    </li>
                </ul>
            </sticky>
        </div>
    </div>
</div>