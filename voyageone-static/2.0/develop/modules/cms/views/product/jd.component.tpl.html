<div class="product-shema-detail" ng-controller="popupCtrl" >
    <form class="form-horizontal" name="productFieldForm" novalidate>
        <div class="panel vo_panel tab_panel">
            <div class="row wrapper">
                <div class="container-fluid"  id="{{cartInfo.name}}1">
                    <div class="col-md-8 form-group">
                            <!----------------------------------check 状态------------------------------------------>
                            <ul class="nav nav-pills col-md-8">
                                <li>
                                    <span ng-class = "{tagFlag:vm.checkFlag.translate != 1}">翻译&emsp;
                                        <i class="fa fa-check" ng-if="vm.checkFlag.translate == 1"></i>
                                        <i class="fa fa-times" ng-if="vm.checkFlag.translate != 1"></i>
                                    </span>
                                </li>
                                <li>
                                    <span ng-class = "{tagFlag:vm.checkFlag.tax != 1}">税号&emsp;
                                        <i class="fa fa-check" ng-if="vm.checkFlag.tax == 1"></i>
                                        <i class="fa fa-times" ng-if="vm.checkFlag.tax != 1"></i>
                                    </span>
                                </li>
                                <li>
                                    <span ng-class = "{tagFlag:vm.checkFlag.category != 1}">平台类目&emsp;
                                        <i class="fa fa-check" ng-if="vm.checkFlag.category == 1"></i>
                                        <i class="fa fa-times" ng-if="vm.checkFlag.category != 1"></i>
                                    </span>
                                </li>
                                <li>
                                    <span ng-class = "{tagFlag:!validSchema()}">属性&emsp;
                                        <i class="fa fa-check" ng-if="vm.checkFlag.attribute = validSchema()"></i>
                                        <i class="fa fa-times" ng-if="!validSchema()"></i>
                                    </span>
                                </li>
                            </ul>
                            <div class="col-md-4">
                            </div>

                    </div>
                    <div class="col-md-4">
                        <div class="pull-right m-t-xs m-r-xs ng-scope" ng-if="vm.status == 'Pending'">
                            <button class="btn btn-vo ng-binding" ng-click="saveProduct()" ng-disabled="vm.checkFlag.category != 1 || vm.checkFlag.attribute == false"><i class="glyphicon glyphicon-floppy-disk"></i> 保存</button>
                        </div>
                        <div class="pull-right m-t-xs m-r-xs ng-scope" ng-if="vm.status == 'Ready' || vm.status == 'Approved'">
                            <button class="btn btn-vo ng-binding" ng-click="saveProduct()" ng-disabled="vm.checkFlag.category != 1 || vm.checkFlag.attribute == false"><i class="glyphicon glyphicon-floppy-disk"></i> 上新</button>
                        </div>
                    </div>
                    <div class="col-sm-7">
                        <div class="form-group ng-scope ng-isolate-scope">
                            <label class="col-md-2 control-label">{{cartInfo.name}}</label>
                            <div class="col-md-8">
                                <span>
                                    <a ng-href="#/group/detail/{vm.mastData.groupId}}" title="{{vm.mastData.model}}"
                                       target="_blank">{{vm.mastData.model | limitTo: 30}}{{vm.mastData.model.length > 30 ? '...' : ''}}
                                    </a>
                                </span>
                                <span class="label m-r-sm m-l" ng-class="{'label-success-new': vm.platform.pStatus == 'OnSale','label-yellow-new': vm.platform.pStatus == 'InStock', 'label-danger-new': vm.platform.pStatus == 'WaitingPublish'}">
                                    &nbsp;{{vm.platform.pStatus}}&nbsp;
                                </span>
                                <span class="m-r-sm" ng-if="vm.platform.pNumIId">&nbsp;
                                    <a ng-href="{{$root.productUrl}}{{vm.platform.pNumIId}}" target="_blank" ng-bind="vm.platform.pNumIId"></a>
                                </span>&nbsp;

                                <div class="text-warnings" style="padding-left:0px">
                                    <i class="icon fa fa-bell-o"></i>&nbsp;拆分Group 或 切换主商品，请点击以上Number ID，进入Group详情画面编辑
                                </div>
                            </div>
                        </div>
                        <div class="form-group ng-scope ng-isolate-scope">
                            <label class="col-md-2 control-label">Group Info</label>
                            <div class="col-md-8" ng-repeat="image in vm.mastData.images">
                                <div class="row">
                                    <div class="col-xs-6 col-md-2">
                                        <a href="javascript:void(0)" class="thumbnail" ng-class="{'main': image.isMain == true,'current': image.productCode == vm.mastData.productCode}">
                                            <img src="http://s7d5.scene7.com/is/image/sneakerhead/{{image.imageName}}" title="{{image.productCode}}">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group ng-scope ng-isolate-scope">
                                <button class="col-md-2 btn btn-default ng-binding" ng-click="jdCategoryMapping(vm.productDetails, popupNewCategory)" ng-disabled = "vm.platform.status == 'Approved'"><i class="fa fa-arrow-circle-right"></i>&nbsp;<span>{{cartInfo.name}} Category</span>
                                </button>
                            <div class="col-md-8">
                                <input class="form-control ng-pristine ng-valid ng-not-empty ng-valid-required ng-touched" required="" style="" ng-model="vm.platform.pCatPath" disabled>
                                <div class="text-warnings" style="padding-left:0px">
                                    <i class="icon fa fa-bell-o"></i>&nbsp;切换平台类目将影响整个Group中的所有商品，请慎重！
                                </div>
                            </div>
                        </div>
                        <div class="form-group ng-scope ng-isolate-scope">
                            <label class="col-md-2 control-label">Product Code</label>
                            <div class="col-md-8">
                                <input class="form-control ng-pristine ng-valid ng-not-empty ng-valid-required ng-touched" required="" style="" ng-model="vm.mastData.productCode" disabled>
                            </div>

                        </div>
                        <div class="form-group ng-scope ng-isolate-scope">
                            <label class="col-md-2 control-label">Brand</label>
                            <div class="col-md-8">
                                <input class="form-control ng-pristine ng-valid ng-not-empty ng-valid-required ng-touched" required="" style="" ng-model="vm.platform.pBrandName" disabled>
                                <div class="text-warnings" style="padding-left:0px">
                                    <i class="icon fa fa-bell-o"></i>&nbsp;如没有显示品牌，请先确认是否在京东后台申请过相应品牌，然后联系IT处理
                                </div>
                            </div>
                        </div>
                        <div class="form-group ng-scope ng-isolate-scope">
                                <label class="col-md-2 control-label">Product Name</label>
                            <div class="col-md-8">
                                <input class="form-control ng-pristine ng-valid ng-not-empty ng-valid-required ng-touched" required="" style="" ng-model="vm.mastData.productName" disabled>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3" style="width: 230px;">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <i class="fa fa-th-list"></i> sellerCats
                            </div>
                            <div class="panel-body">
                                <div class="seller-cat" style="height: 250px;overflow-y:auto;">
                                    <ul class="list-group" style="padding:5px;">
                                        <li ng-repeat="item in vm.sellerCats" class="list-group-item">{{item.cName}}</li>
                                    </ul>
                                </div>
                                <a href="javascript:void(0)" style="margin-top: 5px;" class="btn btn-default btn-block" ng-click="openSellerCat(openAddChannelCategoryEdit)">View Details</a>
                            </div>

                        </div>
                        <div class="text-warnings" style="padding-left:0px">
                            <i class="icon fa fa-bell-o"></i>&nbsp;设置店铺内分类，将改变本Group下所有商品的店铺内分类
                        </div>
                    </div>
                    <!----------------------------------------右侧悬浮框-------------------------------------------->
                    <div class="col-sm-2" style="float: right;">
                        <nav class="bs-docs-sidebar">
                            <h3>导航栏</h3>
                            <ul class="nav bs-docs-sidenav">
                                <li class="">
                                    <a href="javascript:void(0)" ng-click="pageAnchor(1,1000)">group</a>
                                </li>
                                <li class="">
                                    <a href="javascript:void(0)" ng-click="pageAnchor(2,1000)">product</a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)" ng-click="pageAnchor(3,1000)">sku</a>
                                </li>
                            </ul>
                        </nav>
                    </div>

                </div>

                <hr>
                <!------------------------------------------------以下为产品schema------------------------------------------------------->

                <div class="container-fluid" id="{{cartInfo.name}}2">
                    <div class="col-sm-7">
                        <schema-header ng-repeat="field in vm.platform.schemaFields" data="field" ng-if="field.isDisplay != 0">
                            <schema-item data="field"></schema-item>
                        </schema-header>
                    </div>
                </div>

                <hr>
                <!------------------------------------------------以下为产品schema------------------------------------------------------->
                <div class="container-fluid" id="{{cartInfo.name}}3">
                    <div class="table-responsive">
                        <table class="table text-left">
                            <thead>
                            <tr>
                                <th><input class="sku_check" type="checkbox" ng-click="selectAll()">All</th>
                                <th class="text-left ng-binding ng-scope vo_reqfield">skuCode</th>
                                <th class="text-left ng-binding ng-scope vo_reqfield">库存</th>
                                <th class="text-left ng-binding ng-scope vo_reqfield">size</th>
                                <th class="text-left ng-binding ng-scope vo_reqfield">retail price</th>
                                <th class="text-left ng-binding ng-scope vo_reqfield">容量/尺码</th>
                                <th class="text-left ng-binding ng-scope vo_reqfield">sale price</th>
                                <th class="text-left ng-binding ng-scope vo_reqfield">条形码</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="entity in vm.platform.skus" class="ng-scope">
                                <th><input class="sku_check" type="checkbox" ng-model="entity.isSale"></th>
                                <td class="text-left ng-scope">{{entity.skuCode}}</td>
                                <td class="text-left ng-scope">{{vm.skuTemp[entity.skuCode].qty}}</td>
                                <td class="text-left ng-scope">{{vm.skuTemp[entity.skuCode].size}}</td>
                                <td class="text-left ng-scope">{{vm.skuTemp[entity.skuCode].priceRetail}}</td>
                                <td class="text-left ng-scope"></td>
                                <td class="text-left ng-scope"><input type="number" ng-model="entity.priceSale"></td>
                                <td class="text-left ng-scope">{{vm.skuTemp[entity.skuCode].barcode}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

            </div>
        </div>
<!--        <div class="panel vo_panel tab_panel">
            <div class="row wrapper">
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            </div>
        </div>-->
    </form>
</div>