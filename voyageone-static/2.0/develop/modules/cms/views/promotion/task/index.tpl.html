<div class="wrapper-md" ng-init="$ctrl.init()">
	<div class="vo_accordion vo_attr">
		<div class="panel-group">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h4 class="panel-title"><i class="glyphicon glyphicon-star"></i>&nbsp;{{'TXT_TASK_LIST' | translate}}</h4>
				</div>
				<div class="container-fluid m-t-sm m-b-md">
					<div class="col-sm-12">
						<div class="col-sm-4">
							<div class="form-horizontal">
								<div class="form-group" >
									<label class="col-sm-4  control-label" translate="TXT_TASK_TYPE"></label>
									<div class="col-sm-7">
										<select class="form-control" ng-model="$ctrl.searchInfo.taskType">
											<option value='' translate="TXT_SELECT_NO_VALUE"></option>
											<option ng-repeat="type in $ctrl.taskType" value={{type.value}}>{{type.name}}</option>
										</select>
									</div>
								</div>
								<!--<div class="col-sm-3">-->
								<!--<div class="form-horizontal">-->
								<div class="form-group">
									<label class="col-sm-4 control-label" translate="TXT_CREATE_TIME"></label>
									<div class="col-sm-8 form-inline">
										<div class="col-sm-5 input-group" ng-controller="datePickerCtrl">
											<input type="text" class="form-control" datepicker-popup="{{formatDate}}" ng-model="$parent.$ctrl.searchInfo.createdStart" date-model-format="{{formatDate}}" is-open="opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" />
								              <span class="input-group-btn">
								                <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
								              </span>
										</div>&nbsp;~&nbsp;
										<div class="col-sm-5 input-group" ng-controller="datePickerCtrl">
											<input type="text" class="form-control" datepicker-popup="{{formatDate}}" ng-model="$parent.$ctrl.searchInfo.createdEnd" date-model-format="{{formatDate}}" is-open="opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" />
								              <span class="input-group-btn">
								                <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
								              </span>
										</div>
									</div>
								</div>
								<!--</div>-->
								<!--</div>-->
							</div>
						</div>

						<!--<div class="col-sm-4">-->
							<!--<div class="form-horizontal">-->
								<!--<div class="form-group" >-->
									<!--<label class="col-sm-4  control-label" translate="TXT_PROMOTION_STATUS"></label>-->
									<!--<div class="col-sm-7">-->
										<!--<select class="form-control" ng-model="searchInfo.promotionStatus">-->
											<!--<option value='' translate="TXT_SELECT_NO_VALUE"></option>-->
											<!--<option ng-repeat="status in vm.promotionStatus" value={{status.value}}>{{status.name}}</option>-->
										<!--</select>-->
									<!--</div>-->
								<!--</div>-->
							<!--</div>-->
						<!--</div>-->

						<div class="col-sm-4">
							<div class="form-horizontal">
								<div class="form-group">
									<label class="col-sm-4 control-label" translate="TXT_PROMOTION_NAME"></label>
									<div class="col-sm-7">
										<input class="form-control" ng-model="$ctrl.searchInfo.promotionName">
									</div>
								</div>
							</div><!-- .form-group -->
						</div>
						<div class="col-sm-12 text-center m-t-sm" ng-controller="popupCtrl">
							<div class="form-inline">
								<button class="btn btn-default" ng-click="$parent.clear()"><i class="fa fa-remove"></i>&nbsp;{{'BTN_CLEAR' | translate}}</button>
								<button class="btn btn-vo" ng-click="$ctrl.search()"><i class="fa fa-search"></i>&nbsp;{{'BTN_SEARCH' | translate}}</button>
							</div><!-- .form-inline -->
						</div>
					</div>
				</div>
			</div>
		</div>
	</div><!-- .accordion -->
	<div class="box">
		<div class="box-body">
			<table class="table table-hover-new text-center" ng-controller="popupCtrl">
				<thead>
				<tr>
					<th class="mfb-xt3 text-center">Seq.</th>
					<th class="mfb-xxs text-left">{{'TXT_PROMOTION_NAME' | translate}}</th>
					<th class="mfb-xxs text-left">{{'TXT_TASK_NAME' | translate}}</th>
					<th class="mfb-xt text-center">{{'TXT_TYPE' | translate}}</th>
					<th class="mfb-xxs text-left">{{'TXT_ACTION' | translate}}</th>
				</tr>
				</thead>
				<tbody>
				<tr ng-repeat="task in $ctrl.tasks">
					<td class="mfb-xt3 text-center">{{::$index+1}}</td>
					<td class="mfb-xt text-left"><a ng-href="#/promotion/detail/{{::task.promotion.promotionId}}" target="_blank">{{::task.promotion.promotionName}}</a></td>
					<td class="mfb-xxs text-left">{{::task.task_name}}</td>
					<td class="mfb-xt text-center">{{::$ctrl.typeName(task)}}</td>
					<td class="mfb-xxs text-left">
						<a ng-if="task.task_type == 1" ng-href="#/promotion/task/beat/{{::task.task_id}}" class="btn btn-default-vo btn-xs">
							<i class="fa fa-reorder"></i>&nbsp;{{'TXT_TASK_DETAIL' | translate}}
						</a>
						<a ng-if="task.task_type == 0" ng-href="#/promotion/task/price/{{::task.promotion.promotionId}}" class="btn btn-default-vo btn-xs">
							<i class="fa fa-reorder"></i>&nbsp;{{'TXT_TASK_DETAIL' | translate}}
						</a>
					</td>
				</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>
