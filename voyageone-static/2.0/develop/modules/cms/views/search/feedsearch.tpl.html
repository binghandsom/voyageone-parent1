<div class="wrapper-md" ng-init="initialize()">
    <div class="vo_accordion vo_attr">
        <div class="panel-group">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title"><i class="fa fa-search"></i>&nbsp;Feed 检索</h4>
                </div>
                <div class="container-fluid m-t-xs m-b-xs">
                    <div class="col-sm-12">
                        <div class="col-sm-4">
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <label class="col-sm-3 control-label" translate="TXT_CATEGORY"></label>
                                    <div class="col-sm-8">
                                        <select search-contains="true" class="form-control" chosen ng-model="vm.searchInfo.category"
                                                ng-options="category.catPath as category.catPath for category in vm.masterData.categoryList">
                                            <option value="">{{'TXT_SELECT_NO_VALUE' | translate}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Product Name</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" ng-model="vm.searchInfo.name">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label ng-scope">Fuzzy Search</label>
                                    <div class="col-sm-8">
                                        <textarea class="form-control inherited" rows="4" ng-model="vm.searchInfo.fuzzySearch"></textarea>
                                        <div class="text-warnings">
                                            <i class="icon fa fa-bell-o"></i>&nbsp;模糊查询包括:款号Model(多项换行分割),产品Code(多项换行分割),产品Sku(多项换行分割),产品名称（英文）,详情描述（英文）
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Price</label>
                                    <div class="col-sm-8">
                                        <label class="checkbox-inline c-radio">
                                            <input name="priceType" type="radio" value="priceClientMsrp" ng-model="vm.searchInfo.priceType"><span class="fa fa-check"></span> MSRP(USD)
                                        </label>
                                        <label class="checkbox-inline c-radio">
                                            <input name="priceType" type="radio" value="priceClientRetail" ng-model="vm.searchInfo.priceType"><span class="fa fa-check"></span> Retail Price(USD)
                                        </label>
                                        <label class="checkbox-inline c-radio">
                                            <input name="priceType" type="radio" value="priceNet" ng-model="vm.searchInfo.priceType"><span class="fa fa-check"></span> Cost Price(USD)
                                        </label>
                                        <label class="checkbox-inline c-radio">
                                            <input name="priceType" type="radio" value="priceMsrp" ng-model="vm.searchInfo.priceType"><span class="fa fa-check"></span> MSRP(RMB)
                                        </label>
                                        <label class="checkbox-inline c-radio">
                                            <input name="priceType" type="radio" value="priceCurrent" ng-model="vm.searchInfo.priceType"><span class="fa fa-check"></span> Retail Price(RMB)
                                        </label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label"></label>
                                    <div class="col-sm-8 form-inline">
                                        <div class="input-group col-sm-4">
                                            <input type="text" class="form-control" ng-maxvalue="vm.searchInfo.priceValueEnd" ng-checked="true" ng-model="vm.searchInfo.priceValueSta"></div>&nbsp;~&nbsp;
                                        <div class="input-group col-sm-4"><input type="text" class="form-control" ng-maxvalue="vm.searchInfo.priceValueSta" ng-checked="true" ng-model="vm.searchInfo.priceValueEnd"></div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Create Time</label>
                                    <div class="col-sm-8 form-inline">
                                        <div class="col-sm-5 input-group" >
                                            <input type="text" class="form-control" datepicker-popup ng-model="vm.searchInfo.createTimeSta" max-date="vm.searchInfo.createTimeEnd" date-model-format="yyyy-MM-dd" is-open="datePicker1" close-text="Close" />
								              <span class="input-group-btn">
								                <button type="button" class="btn btn-default" ng-click="datePicker1 = !datePicker1"><i class="glyphicon glyphicon-calendar"></i></button>
								              </span>
                                        </div>&nbsp;~&nbsp;
                                        <div class="col-sm-5 input-group" >
                                            <input type="text" class="form-control" datepicker-popup ng-model="vm.searchInfo.createTimeEnd" min-date="vm.searchInfo.createTimeSta" date-model-format="yyyy-MM-dd" is-open="datePicker2" close-text="Close" />
								              <span class="input-group-btn">
								                <button type="button" class="btn btn-default" ng-click="datePicker2 = !datePicker2"><i class="glyphicon glyphicon-calendar"></i></button>
								              </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Update Time</label>
                                    <div class="col-sm-8 form-inline">
                                        <div class="col-sm-5 input-group" >
                                            <input type="text" class="form-control" datepicker-popup ng-model="vm.searchInfo.updateTimeSta" max-date="vm.searchInfo.updateTimeEnd" date-model-format="yyyy-MM-dd" is-open="datePicker3" close-text="Close" />
								              <span class="input-group-btn">
								                <button type="button" class="btn btn-default" ng-click="datePicker3 = !datePicker3"><i class="glyphicon glyphicon-calendar"></i></button>
								              </span>
                                        </div>&nbsp;~&nbsp;
                                        <div class="col-sm-5 input-group" >
                                            <input type="text" class="form-control" datepicker-popup ng-model="vm.searchInfo.updateTimeEnd" min-date="vm.searchInfo.updateTimeSta" date-model-format="yyyy-MM-dd" is-open="datePicker4" close-text="Close" />
								              <span class="input-group-btn">
								                <button type="button" class="btn btn-default" ng-click="datePicker4 = !datePicker4"><i class="glyphicon glyphicon-calendar"></i></button>
								              </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Status</label>
                                    <div class="col-sm-8">
                                        <label class="checkbox-inline c-radio">
                                            <input name="priceType" type="radio" value="9" ng-model="vm.searchInfo.status"><span class="fa fa-check"></span> {{'TXT_FeedStatus_New' | translate}}
                                        </label>
                                        <label class="checkbox-inline c-radio">
                                            <input name="priceType" type="radio" value="0" ng-model="vm.searchInfo.status"><span class="fa fa-check"></span> {{'TXT_FeedStatus_WaitingForImport' | translate}}
                                        </label>
                                        <label class="checkbox-inline c-radio">
                                            <input name="priceType" type="radio" value="1" ng-model="vm.searchInfo.status"><span class="fa fa-check"></span> {{'TXT_FeedStatus_FinishImport' | translate}}
                                        </label>
                                        <label class="checkbox-inline c-radio">
                                            <input name="priceType" type="radio" value="2" ng-model="vm.searchInfo.status"><span class="fa fa-check"></span> {{'TXT_FeedStatus_Error' | translate}}
                                        </label>
                                        <label class="checkbox-inline c-radio">
                                            <input name="priceType" type="radio" value="3" ng-model="vm.searchInfo.status"><span class="fa fa-check"></span> {{'TXT_FeedStatus_NotImport' | translate}}
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <label class="col-sm-3 control-label" translate="TXT_BRAND"></label>
                                    <div class="col-sm-8">
                                        <select search-contains="true" chosen class="form-control" ng-model="vm.searchInfo.brand"
                                                ng-options="brand.value as brand.name for brand in vm.masterData.brandList">
                                            <option value="">{{'TXT_SELECT_NO_VALUE' | translate}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Color</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" ng-model="vm.searchInfo.color">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Product Type</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" ng-model="vm.searchInfo.productType">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label">Size Type</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" ng-model="vm.searchInfo.sizeType">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label" translate="TXT_INVENTORY"></label>
                                    <div class="col-sm-8 form-inline" style="padding-left:0px">
                                        <div class="col-sm-5">
                                            <select class="form-control m-r-xs" ng-model="vm.searchInfo.compareType"
                                                    ng-options="compareType.value as compareType.name for compareType in vm.masterData.compareTypeList">
                                                <option value="">{{'TXT_SELECT_NO_VALUE' | translate}}</option>
                                            </select>
                                        </div>
                                        <div class="col-sm-4"><input class="form-control" ng-model="vm.searchInfo.inventory" ng-pattern="/^(\d+)$/"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12 text-center m-b-xs" ng-controller="popupCtrl">
                            <div class="form-horizontal form-inline">
                                <button class="btn btn-default" ng-click="clear()"><i class="fa fa-remove"></i>&nbsp;清除</button>
                                <button class="btn btn-vo" ng-click="search(1)"><i class="fa fa-search"></i>&nbsp;搜索</button>
                            </div><!-- .form-inline -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="box">
        <div class="box-body">
            <div class="table-responsive">
                <table class="table table-hover-new vo_table tableWordBreak dropdown_table_main" style="width:2300px;table-layout: fixed;margin-bottom:0px" ng-controller="popupCtrl">
                    <thead>
                    <tr>
                        <th class="text-center mfb-xt" style="white-space: nowrap">No.</th>
                        <th class="text-center mfb-x" style="white-space: nowrap">图片</th>
                        <th class="text-left mfb-xxt" style="white-space: nowrap">Category</th>
                        <th class="text-center mfb-xxt" style="white-space: nowrap">Code</th>
                        <th class="text-left mfb-xxt" style="white-space: nowrap">Name</th>
                        <th class="text-left mfb-xxt" style="white-space: nowrap">Model</th>
                        <th class="text-left mfb-xxt" style="white-space: nowrap">Status</th>
                        <th class="text-left mfb-xxt" style="white-space: nowrap">Inventory</th>
                        <th class="text-left mfb-xxx" style="white-space: nowrap">Short Description</th>
                        <th class="text-left mfb-xxx" style="white-space: nowrap">Long Description</th>
                        <th class="text-left mfb-xxt" style="white-space: nowrap">Color</th>
                        <th class="text-left mfb-x" style="white-space: nowrap">Origin</th>
                        <th class="text-left mfb-x" style="white-space: nowrap">Product Type</th>
                        <th class="text-left mfb-x" style="white-space: nowrap">Size Type</th>
                        <th class="text-left mfb-x" style="white-space: nowrap">Brand</th>
                        <th class="text-right mfb-xxt" style="white-space: nowrap">MSRP(USD)</th>
                        <th class="text-right mfb-xxt" style="white-space: nowrap">Retail Price(USD)</th>
                        <th class="text-right mfb-xxt" style="white-space: nowrap">Cost Price(USD)</th>
                        <th class="text-right mfb-xxt" style="white-space: nowrap">MSRP(RMB)</th>
                        <th class="text-right mfb-xxt" style="white-space: nowrap">Retail Price(RMB)</th>
                        <th class="text-center mfb-x" style="white-space: nowrap">SKU 数</th>
                        <th class="text-center" style="width:140px;white-space: nowrap">创建时间</th>
                        <th class="text-center" style="width:160px;white-space: nowrap">更新时间</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr><td colspan="16"><div if-no-rows="vm.feedList.length"></div></td></tr>
                    <tr  ng-if="vm.feedList.length > 0" ng-repeat="feedInfo in vm.feedList">
                        <td style="overflow: hidden;" class="text-center mfb-xt3">{{$index + 1}}</td>
                        <td style="overflow: hidden;"  ng-controller="popupCtrl" class="text-center mfb-x">
                            <a ng-if="feedInfo.hasImgFlg > 0"><img class="thumb-xs m-b-xs" ng-src="{{feedInfo.image[0]}}" ng-click="openFeedImagedetail($index)"></a>
                        </td>
                        <td style="overflow: hidden;" class="text-left mfb-xxt">{{feedInfo.category}}</td>
                        <td class="text-center mfb-xxt" style="overflow: hidden;" ng-if="feedInfo.attsList.length > 0" ng-controller="popupCtrl"><a ng-click="openFeedCodeDetail($index)">{{feedInfo.code}}</a></td>
                        <td class="text-center mfb-xxt" style="overflow: hidden;" ng-if="feedInfo.attsList.length == 0">{{feedInfo.code}}</td>
                        <td class="text-left mfb-xxt" style="overflow: hidden;">{{feedInfo.name}}</td>
                        <td class="text-left mfb-xxt"style="overflow: hidden;">{{feedInfo.model}}</td>
                        <td class="text-left mfb-xxt" style="overflow: hidden;"><key-value type="feedStatus" ng-model="feedInfo.updFlg"></key-value></td>
                        <td class="text-left mfb-xxt"style="overflow: hidden;">{{feedInfo.qty}}</td>
                        <td class="text-left mfb-xxt" style="overflow: hidden;">
                            <span ng-if="feedInfo.shortDescription.length > 50"><popover-text content="feedInfo.shortDescription" direct="left" size="50"></popover-text></span>
                            <span ng-if="feedInfo.shortDescription.length <= 50">{{feedInfo.shortDescription}}</span>
                        </td>
                        <td class="text-left mfb-xxt" style="overflow: hidden;">
                            <span ng-if="feedInfo.longDescription.length > 50"><popover-text content="feedInfo.longDescription" direct="left" size="50"></popover-text></span>
                            <span ng-if="feedInfo.longDescription.length <= 50">{{feedInfo.longDescription}}</span>
                        </td>
                        <td class="text-left mfb-xxt" style="overflow: hidden;">{{feedInfo.color}}</td>
                        <td class="text-left mfb-x" style="overflow: hidden;">{{feedInfo.origin}}</td>
                        <td class="text-left mfb-x" style="overflow: hidden;">{{feedInfo.productType}}</td>
                        <td class="text-left mfb-x" style="overflow: hidden;">{{feedInfo.sizeType}}</td>
                        <td class="text-left mfb-x" style="overflow: hidden;">{{feedInfo.brand}}</td>
                        <td class="text-right" style="overflow: hidden;">{{feedInfo.skus[0].priceClientMsrp}}</td>
                        <td class="text-right" style="overflow: hidden;">{{feedInfo.skus[0].priceClientRetail}}</td>
                        <td class="text-right" style="overflow: hidden;">{{feedInfo.skus[0].priceNet}}</td>
                        <td class="text-right" style="overflow: hidden;">{{feedInfo.skus[0].priceMsrp}}</td>
                        <td class="text-right" style="overflow: hidden;">{{feedInfo.skus[0].priceCurrent}}</td>
                        <td class="text-center mfb-x" style="overflow: hidden;">
                            <small ng-controller="showPopoverCtrl" popover-html="showInfo(feedInfo._popSkuInfo)" popover-trigger="mouseenter" popover-placement="left" class="ng-scope">
                                <div class="table_main">
                                    <ul>
                                        <li><button class="btn btn-default btn-xs">{{feedInfo.skusCnt}}</button></li>
                                    </ul>
                                </div>
                            </small>
                        </td>
                        <td class="text-right" style="overflow: hidden;">{{feedInfo.created}}</td>
                        <td class="text-right" style="overflow: hidden;">{{feedInfo.modified}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div><!-- /.box-body -->
        <div class="col-sm-12 m-t-lg m-b-lg">
            <vpagination config="vm.feedPageOption"></vpagination>
        </div>
    </div>
</div><!-- end .wrapper-md -->