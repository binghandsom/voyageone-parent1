<div class="wrapper-md">
    <div class="panel panel-vo">
        <div class="panel-heading">
            <h4 class="panel-title"><i class="fa fa-star"></i>&nbsp;Products</h4>
        </div>
        <div class="panel-body">
            <div class="container-fluid">
                <form role="form" class="form-horizontal" name="feedForm" novalidate>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title vo_reqfield">Code</label>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" name="code" ng-model="ctrl.feed.code" required disabled>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title vo_reqfield">Model</label>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" name="model" ng-model="ctrl.feed.model" required>
                                        </div>
                                        <div class="col-md-1">
                                            <button type="button" class="btn btn-default" ng-click="ctrl.getTopModel(5)">
                                                <i ng-class="{'fa-angle-double-down':!ctrl.isShowModal,'fa-angle-double-up':ctrl.isShowModal}" class="fa" style="font-size: 16px;"></i>
                                            </button>
                                        </div>
                                    </div>

                                </div>
                                <div class="form-group" ng-if="ctrl.isShowModal">
                                    <div class="row">
                                        <div class="col-md-8 col-md-offset-4" ng-if="ctrl.topFeedList.length > 0">
                                            <div class="col-xs-6 col-md-2" ng-repeat="item in ctrl.topFeedList">
                                                <a href="javascript:void(0);" class="thumbnail pos-relative" ng-class="{'active':item.status=='Approved'}">
                                                    <img class="thumb-sm-search" src="{{item.image[0]}}">
                                                    <button type="button" class="btn btn-primary pos-absolute-right" ng-click="ctrl.copyAttr(item)">
                                                        <i class="fa fa-copy"></i>
                                                    </button>
                                                </a>
                                                <span class="text-wrap"><strong>{{item.code}}</strong></span>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-md-offset-4" ng-if="ctrl.topFeedList.length == 0">
                                            <div class="alert alert-danger" role="alert">
                                                <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                                                <span class="sr-only">Warning:</span>
                                                no query data
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-md-4 text-right vo_reqfield">
                                            <button type="button" class="btn btn-info btn-pop" ng-click="ctrl.popUsCategory()">
                                                <i class="fa fa-arrow-right"></i>&nbsp;US Official Category
                                            </button>
                                        </div>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" title="{{ctrl.feed.category}}"
                                                   name="category" ng-model="ctrl.feed.category"  required readonly>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title vo_reqfield">Name</label>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" name="name" ng-model="ctrl.feed.name" ng-change="ctrl.generateUrlKey()" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title vo_reqfield">Brand</label>
                                        <div class="col-md-6">
                                            <select class="form-control" name="brand" ng-options="brand.value as brand.name for brand in ctrl.brandList"
                                                    ng-model="ctrl.feed.brand" required>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title vo_reqfield">Product Type</label>
                                        <div class="col-md-6">
                                            <select class="form-control" name="productType" ng-options="productType.value as productType.name for productType in ctrl.productTypeList"
                                                    ng-model="ctrl.feed.productType" required>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title vo_reqfield">Size Type</label>
                                        <div class="col-md-6">
                                            <select class="form-control" name="sizeType" ng-options="sizeType.value as sizeType.name for sizeType in ctrl.sizeTypeList"
                                                    ng-model="ctrl.feed.sizeType" required>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title vo_reqfield">Material</label>
                                        <div class="col-md-6">
                                            <select class="form-control" name="material" ng-options="material.value as material.name for material in ctrl.materialList"
                                                    ng-model="ctrl.feed.material" required>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">Made in</label>
                                        <div class="col-md-6">
                                            <select class="form-control" name="origin" ng-options="origin.value as origin.name for origin in ctrl.originList"
                                                    ng-model="ctrl.feed.origin">
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">Color Map</label>
                                        <div class="col-md-6">
                                            <select class="form-control" name="origin" ng-options="color.value as color.name for color in ctrl.colorMap"
                                                    ng-model="ctrl.feed.colorMap">
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">Color</label>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" ng-model="ctrl.feed.color">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-md-4 text-right">
                                            <button type="button" class="btn btn-info btn-pop" ng-click = "ctrl.popAmazonCategory()">
                                                <i class="fa fa-arrow-right"></i>&nbsp;Amazon Category
                                            </button>
                                        </div>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" ng-model="ctrl.feed.amazonBrowseTree" readonly>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">Usage</label>
                                        <div class="col-md-6">
                                            <textarea class="form-control no-resize" ng-model="ctrl.feed.usageEn"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">Short Description</label>
                                        <div class="col-md-6">
                                            <textarea class="form-control no-resize" ng-model="ctrl.feed.shortDescription"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">Long Description</label>
                                        <div class="col-md-6">
                                            <textarea class="form-control no-resize" ng-model="ctrl.feed.longDescription"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">Order Limit Count</label>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" ng-model="ctrl.feed.orderlimitcount">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">URL Key</label>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" ng-model="ctrl.feed.attribute.urlkey" ng-disabled="ctrl.feed.hasUrlkey">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">Abstract</label>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" ng-model="ctrl.feed.abstract">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">Accessory</label>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" ng-model="ctrl.feed.accessory">
                                        </div>
                                    </div>
                                </div>



                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">Is Phone Order Only</label>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" ng-model="ctrl.feed.phoneOrderOnly">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">SEO Title</label>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" ng-model="ctrl.feed.seoTitle">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">SEO Description</label>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" ng-model="ctrl.feed.seoDesc">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">SEO Keywords</label>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" ng-model="ctrl.feed.seoKeywords">
                                        </div>
                                    </div>
                                </div>

                                <!--特殊属性 Begin-->
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">Is Free Shipping</label>
                                        <div class="col-md-6 checkbox">
                                            <label>
                                                <input type="checkbox" ng-true-value="'1'" ng-false-value="'0'" ng-model="ctrl.feed.freeShipping">
                                            </label>&nbsp;Yes
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">Is Reward Eligible</label>
                                        <div class="col-md-6 checkbox">
                                            <label>
                                                <input type="checkbox" ng-true-value="'1'" ng-false-value="'0'" ng-model="ctrl.feed.rewardEligible">
                                            </label>&nbsp;Yes
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">Is Discount Eligible</label>
                                        <div class="col-md-6 checkbox">
                                            <label>
                                                <input type="checkbox" ng-true-value="'1'" ng-false-value="'0'" ng-model="ctrl.feed.discountEligible">
                                            </label>&nbsp;Yes
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">Is Sneakerhead+</label>
                                        <div class="col-md-6 checkbox">
                                            <label>
                                                <input type="checkbox" ng-true-value="'1'" ng-false-value="'0'" ng-model="ctrl.feed.snPlus">
                                            </label>&nbsp;Yes
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">Is New Arrival</label>
                                        <div class="col-md-6 checkbox">
                                            <label>
                                                <input type="checkbox" ng-true-value="'1'" ng-false-value="'0'" ng-model="ctrl.feed.newArrival">
                                            </label>&nbsp;Yes
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">Is Taxable</label>
                                        <div class="col-md-6 checkbox">
                                            <label>
                                                <input type="checkbox" ng-true-value="'1'" ng-false-value="'0'" ng-model="ctrl.feed.taxable">
                                            </label>&nbsp;Yes
                                        </div>
                                    </div>
                                </div>
                                <!--特殊属性 End-->

                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title ">Approve Pricing ?</label>
                                        <div class="col-md-6 checkbox" style="padding: 7px;">
                                            <label>
                                                <input type="checkbox" ng-true-value="'1'" ng-false-value="'0'" ng-model="ctrl.feed.approvePricing">&nbsp;Yes
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="col no-padder bg-light vo_prodDetailPanel">

                                <uib-tabset class="tab-container vo_nav-tabs">
                                    <uib-tab>
                                        <tab-heading>Item</tab-heading>
                                        <div id="vo_fixProdPanel">
                                            <!-- product photos -->
                                            <div class="vo_prodGallery">
                                                <div class="imageContainer">
                                                    <div class="imageWrapper">
                                                        <img  class="imageWrapper" style="cursor: pointer;max-width: 200px; max-height: 170px;" ng-src="{{ctrl.currentFeedImage}}" title="【click me】" ng-click="ctrl.goDetail(ctrl.currentFeedImage)">
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="wrapper-sm m-t-xs">
                                                <div>
                                                    <div class="tab-pane active">
                                                        <div class="row">
                                                            <div class="col-md-3" ng-repeat="image in ctrl.feed.image track by $index">
                                                                <a href="javascript:void(0)" class="thumbnail clear-margin-bottom" ng-class="active" style="height: 88px">
                                                                    <img style="max-height: 80px" class="thumb-group" ng-src="{{image}}" ng-click="ctrl.currentFeedImage = image">
                                                                </a>
                                                            </div>
                                                            <div class="col-md-3 text-center m-t-md">
                                                                <button type="button" ng-controller="popupCtrl" class="btn btn-success input-lg mfb-xxxsm" ng-click="ctrl.addImage()"><i class="glyphicon glyphicon-plus"></i></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="wrapper-sm m-t-xs">

                                                <div class="row">
                                                    <div class="col-md-12 form-horizontal">
                                                        <div class="form-group">
                                                            <div class="row">
                                                                <label class="col-md-6 query-title">&nbsp;&nbsp;Image Count</label>
                                                                <div class="col-md-6">
                                                                    <input type="text" class="form-control" ng-model="ctrl.feed.imageNum" ng-keyup="ctrl.initImage(ctrl.feed.imageNum)">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>


                                                <ul class="list-group">
                                                    <li class="list-group-item text-wrap" ng-repeat="image in ctrl.feed.image track by $index">
                                                        <div class="row">
                                                            <div class="col-md-10">
                                                                <textarea class="form-control no-resize" ng-model="image" rows="3"></textarea>
                                                            </div>
                                                            <div class="col-md-2">
                                                                <button type="button" class="btn btn-default" ng-click="ctrl.deleteImage($index)"><i class="fa fa-trash"></i></button>
                                                            </div>
                                                        </div>


                                                    </li>
                                                </ul>

                                            </div>
                                        </div>
                                    </uib-tab>
                                    <uib-tab>
                                        <tab-heading>Box</tab-heading>
                                        <div id="vo_fixProdPanel_">
                                            <!-- product photos -->
                                            <div class="vo_prodGallery">
                                                <div class="imageContainer">
                                                    <div class="imageWrapper">
                                                        <img  class="imageWrapper" style="cursor: pointer;max-width: 330px; max-height: 200px;" ng-src="{{ctrl.currentBoxImage}}" title="【click me】" ng-click="ctrl.goDetail(ctrl.currentBoxImage)">
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="wrapper-sm m-t-xs">
                                                <div>
                                                    <div class="tab-pane active">
                                                        <div class="row">
                                                            <div class="col-md-3" ng-repeat="image in ctrl.feed.attribute.boximages track by $index">
                                                                <a href="javascript:void(0)" class="thumbnail clear-margin-bottom" ng-class="active" style="height: 88px">
                                                                    <img style="max-height: 80px" class="thumb-group" ng-src="{{image}}" ng-click="ctrl.currentBoxImage = image">
                                                                </a>
                                                            </div>
                                                            <div class="col-md-3 text-center m-t-md">
                                                                <button type="button" ng-controller="popupCtrl" class="btn btn-success input-lg mfb-xxxsm" ng-click="ctrl.addBoxImage()"><i class="glyphicon glyphicon-plus"></i></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="wrapper-sm m-t-xs">

                                                <div class="row">
                                                    <div class="col-md-12 form-horizontal">
                                                        <div class="form-group">
                                                            <div class="row">
                                                                <label class="col-md-6 query-title">&nbsp;&nbsp;picture num</label>
                                                                <div class="col-md-6">
                                                                    <input type="text" class="form-control" ng-model="ctrl.feed.boxImageNum" ng-keyup="ctrl.initBoxImage(ctrl.feed.boxImageNum)">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>


                                                <ul class="list-group">
                                                    <li class="list-group-item text-wrap" ng-repeat="image in ctrl.feed.attribute.boximages track by $index">
                                                        <div class="row">
                                                            <div class="col-md-10">
                                                                <textarea class="form-control no-resize" ng-model="image" rows="3"></textarea>
                                                            </div>
                                                            <div class="col-md-2">
                                                                <button type="button" class="btn btn-default" ng-click="ctrl.deleteBoxImage($index)"><i class="fa fa-trash"></i></button>
                                                            </div>
                                                        </div>

                                                    </li>
                                                </ul>

                                            </div>
                                        </div>
                                    </uib-tab>
                                </uib-tabset>

                            </div>
                        </div>
                    </div>

                    <div class="skuItem">
                        <div class="skuItem-head">
                            <h4>Skus</h4>
                        </div>
                        <div class="skuItem-body">
                            <div class="table-responsive box box-body">
                                <table class="table table-hover-new vo_table tableWordBreak dropdown_table_main">
                                    <thead>
                                    <tr>
                                        <td class="text-left"></td>
                                        <td class="text-left"></td>
                                        <td class="text-left"></td>
                                        <td class="text-right form-horizontal">
                                            <div class="form-group query-title">default:</div>
                                            <div class="form-group">
                                                <input type="number" class="form-control text-right" ng-model="ctrl.setting.weightOrg" ng-change="ctrl.setSkuProperty('','weightOrg','0')">
                                            </div>
                                        </td>
                                        <td class="text-right form-horizontal">
                                            <div class="form-group query-title">default:</div>
                                            <div class="form-group">
                                                <select class="form-control" ng-options="weightUnit as weightUnit for weightUnit in ctrl.setting.weightOrgUnits"
                                                        ng-model="ctrl.setting.weightOrgUnit" ng-change="ctrl.setSkuProperty('','weightOrgUnit','0')">
                                                </select>
                                            </div>
                                        </td>
                                        <td class="text-right form-horizontal">
                                            <div class="form-group query-title">default:</div>
                                            <div class="form-group">
                                                <input type="number" class="form-control text-right" ng-model="ctrl.setting.priceClientMsrp" ng-change="ctrl.setSkuProperty('','priceClientMsrp','1')">
                                            </div>
                                        </td>
                                        <td class="text-right form-horizontal">
                                            <div class="form-group query-title">default:</div>
                                            <div class="form-group">
                                                <input type="number" class="form-control text-right" ng-model="ctrl.setting.priceNet" ng-change="ctrl.setSkuProperty('','priceNet','1')">
                                            </div>
                                        </td>
                                        <td ng-if="ctrl.auth!=1"></td>
                                        <td ng-if="ctrl.auth!=1"></td>
                                        <!--<td class="text-right form-horizontal">
                                            <div class="form-group query-title">default:</div>
                                            <div class="form-group">
                                                <input type="number" class="form-control" ng-model="ctrl.setting.priceMsrp" ng-change="ctrl.setSkuProperty('','priceMsrp')">
                                            </div>
                                        </td>
                                        <td class="text-right form-horizontal">
                                            <div class="form-group query-title">default:</div>
                                            <div class="form-group">
                                                <input type="number" class="form-control" ng-model="ctrl.setting.priceCurrent" ng-change="ctrl.setSkuProperty('','priceCurrent')">
                                            </div>
                                        </td>-->
                                    </tr>
                                    <tr>
                                        <th class="text-left">Size</th>
                                        <th class="text-left">Sku</th>
                                        <th class="text-left">Barcode</th>
                                        <th class="text-right">Weight</th>
                                        <th class="text-center">Weight Unit</th>
                                        <th class="text-right">Msrp($)</th>
                                        <th class="text-right">price($)</th>
                                        <th class="text-right" ng-if="ctrl.auth!=1">cn Msrp(￥)</th>
                                        <th class="text-right" ng-if="ctrl.auth!=1">price(￥)</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="sku in ctrl.feed.skus">
                                        <td class="text-left">{{sku.size}}</td>
                                        <td class="text-left">{{sku.sku}}</td>
                                        <td class="text-left">{{sku.barcode}}</td>
                                        <td class="text-right">
                                            <input type="number" class="form-control text-right" ng-model="sku.weightOrg"/>
                                        </td>
                                        <td class="text-center">
                                            <select class="form-control" ng-options="weightUnit as weightUnit for weightUnit in ctrl.setting.weightOrgUnits"
                                                    ng-model="sku.weightOrgUnit">
                                            </select>
                                        </td>
                                        <td class="text-right">
                                            <input type="number" class="form-control text-right" ng-model="sku.priceClientMsrp" ng-enter="ctrl.setSkuProperty(sku,'priceClientMsrp')"/>
                                        </td>
                                        <td class="text-right">
                                            <input type="number" class="form-control text-right" ng-model="sku.priceNet" ng-enter="ctrl.setSkuProperty(sku,'priceNet')"/>
                                        </td>
                                        <td class="text-right" ng-if="ctrl.auth!=1">
                                            <input type="number" class="form-control text-right" ng-model="sku.priceMsrp" readonly/>
                                        </td>
                                        <td class="text-right" ng-if="ctrl.auth!=1">
                                            <input type="number" class="form-control text-right" ng-model="sku.priceCurrent" readonly/>
                                        </td>

                                    </tr>
                                    </tbody>
                                </table>

                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-------------------------------- 导航栏 --------------------------------->
    <!--1、New只有Save Button-->
    <!--2、Pending有Save和Submit Button-->
    <!--3、Ready有Save和Approve Button-->
    <sticky top-fix="-100" style="position: absolute; top: 380px; right: 47px;" drag ng-if="ctrl.feed.status != 'Approved'">
        <nav class="bs-docs-sidebar">
            <h3 drag-handle>导航栏</h3>
            <ul class="nav bs-docs-sidenav">
                <li class="text-center">
                    <button class="opacityBtn text-black" ng-disabled="feedForm.$invalid" ng-if="!(ctrl.auth!=3 && ctrl.feed.status == 'Ready')  " ng-click="ctrl.save('0')">Save</button>
                </li>
                <li class="text-center">
                    <button class="opacityBtn text-black" ng-disabled="feedForm.$invalid" ng-if="ctrl.feed.status != 'Ready'" ng-click="ctrl.save('1')">Submit</button>
                </li>
                <li class="text-center">
                    <button class="opacityBtn text-black" ng-disabled="feedForm.$invalid" ng-if="ctrl.auth==3 && ctrl.feed.status == 'Ready'" ng-click="ctrl.save('1')">Approve</button>
                </li>
            </ul>
        </nav>
    </sticky>
</div>