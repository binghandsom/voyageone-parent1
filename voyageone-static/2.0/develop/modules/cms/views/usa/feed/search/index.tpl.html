<div class="wrapper-md" ng-init="ctrl.init()">
    <div class="vo_accordion vo_attr">
        <div class="panel-group">
            <div class="panel panel-default">
                <div class="panel-heading">
                        <h4 class="panel-title"><i class="fa fa-search"></i>&nbsp;Query Terms</h4>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title">Status</label>
                                        <div class="col-md-6 checkbox" >
                                            <label>
                                                <input type="checkbox" ng-model="ctrl.status[0]">&nbsp;&nbsp;New
                                            </label>&emsp;
                                            <label ng-show="ctrl.flag==2||ctrl.flag==3">
                                                <input type="checkbox" ng-model="ctrl.status[1]" >&nbsp;&nbsp;Pending
                                            </label>&emsp;
                                            <label ng-show="ctrl.flag==3">
                                                <input type="checkbox" ng-model="ctrl.status[2]" >&nbsp;&nbsp;Ready
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-4 control-label query-title">Sku/Barcode/Code/Model</label>
                                    <div class="col-md-6">
                                        <textarea class="form-control no-resize" ng-model="ctrl.paraMap.searchContent" placeholder="multiple accurate query"></textarea>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title">Name</label>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" ng-model="ctrl.paraMap.name" placeholder="fuzzy query">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title">Last Recevied</label>
                                        <div class="col-md-6">
                                            <div class="row">
                                                <div class="col-md-5">
                                                    <p class="input-group">
                                                        <input type="text" class="form-control" uib-datepicker-popup="yyyy-MM-dd" date-model-format="yyyy-MM-dd"
                                                                is-open="dataPicker1" datepicker-options="dateOptions"
                                                               ng-required="true" close-text="Close" alt-input-formats="altInputFormats" required="required" ng-model="ctrl.paraMap.lastReceivedOnStart" max-date="ctrl.paraMap.lastReceivedOnEnd">
                                                        <span class="input-group-btn">
                                                            <button type="button" class="btn btn-default" ng-click="dataPicker1 = !dataPicker1"><i class="glyphicon glyphicon-calendar"></i></button>
                                                        </span>
                                                    </p>
                                                </div>
                                                <div class="col-md-1 text-center">~</div>
                                                <div class="col-md-5">
                                                    <p class="input-group">
                                                        <input type="text" class="form-control" uib-datepicker-popup="yyyy-MM-dd" date-model-format="yyyy-MM-dd"
                                                               is-open="dataPicker2" datepicker-options="dateOptions"
                                                               ng-required="true" close-text="Close" required="required" ng-model="ctrl.paraMap.lastReceivedOnEnd"  min-date="ctrl.paraMap.lastReceivedOnStart">
                                                        <span class="input-group-btn">
                                                            <button type="button" class="btn btn-default" ng-click="dataPicker2 = !dataPicker2"><i class="glyphicon glyphicon-calendar"></i></button>
                                                        </span>
                                                    </p>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title">Created On</label>
                                        <div class="col-md-6">
                                            <div class="row">
                                                <div class="col-md-5">
                                                    <p class="input-group">
                                                        <input type="text" class="form-control" uib-datepicker-popup="yyyy-MM-dd" date-model-format="yyyy-MM-dd"
                                                               is-open="createTime1" datepicker-options="dateOptions" max-date="ctrl.paraMap.createdEnd"
                                                               ng-required="true" close-text="Close" alt-input-formats="altInputFormats" required="required" ng-model="ctrl.paraMap.createdStart">
                                                        <span class="input-group-btn">
                                                            <button type="button" class="btn btn-default" ng-click="createTime1 = !createTime1"><i class="glyphicon glyphicon-calendar"></i></button>
                                                        </span>
                                                    </p>
                                                </div>
                                                <div class="col-md-1 text-center">~</div>
                                                <div class="col-md-5">
                                                    <p class="input-group">
                                                        <input type="text" class="form-control" uib-datepicker-popup="yyyy-MM-dd" date-model-format="yyyy-MM-dd"
                                                               is-open="createTime2" datepicker-options="dateOptions" min-date="ctrl.paraMap.createdStart"
                                                               ng-required="true" close-text="Close" required="required" ng-model="ctrl.paraMap.createdEnd">
                                                        <span class="input-group-btn">
                                                            <button type="button" class="btn btn-default" ng-click="createTime2 = !createTime2"><i class="glyphicon glyphicon-calendar"></i></button>
                                                        </span>
                                                    </p>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                                <div class="form-group" ng-hide="ctrl.flag==1">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title">Approve Pricing</label>
                                        <div class="col-md-6 checkbox" >
                                            <label>
                                                <input type="checkbox"  ng-model="ctrl.approvePricing[0]">&nbsp;Yes
                                            </label>&emsp;
                                            <label>
                                                <input type="checkbox"  ng-model="ctrl.approvePricing[1]">&nbsp;No
                                            </label>&emsp;
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 col-md-offset-4 text-center">
                            <button type="button" class="btn btn-default" ng-click="ctrl.clear()"><i class="fa fa-trash" ></i>&nbsp;&nbsp;CLEAR</button>&emsp;
                            <button type="button" class="btn btn-vo" ng-click="ctrl.getListSearch()"><i class="fa fa-search"></i>&nbsp;&nbsp;SEARCH</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="panel panel-default">
            <div class="panel-heading" ng-show="ctrl.flag == 3">
                <div class="container-fluid">
                    <div class="row" >
                        <div class="col-md-6">
                            <div class="checkbox" >
                                <label>
                                    <input type="checkbox" ng-model="ctrl.totalItems"> Select All Items By Query Terms
                                </label>
                            </div>
                        </div>
                        <div class="col-md-6" >
                            <div class="btn-group pull-right" style="margin-top: 7px; margin-right: 17px;">
                                <button type="button" class="btn btn-default btn-pop" ng-click="ctrl.popBatchApprove()"><i class="fa fa-gear"></i>&nbsp;Bulk Approve</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel-body">
                <div class="table-responsive box box-body">
                    <table class="table table-hover-new vo_table tableWordBreak dropdown_table_main">
                        <thead>
                            <tr>
                                <th class="text-center" ng-show="ctrl.flag == 3">
                                    <input type="checkbox"  ng-model="ctrl.isAll" ng-change="ctrl.selectAll()" >
                                </th>
                                <th class="text-center">IMG</th>
                                <th class="text-left">Code</th>
                                <th  class="text-left" style="min-width: 100px">Name</th>
                                <th class="text-left">Model</th>
                                <th class="text-center">Status</th>
                                <th class="text-center" style="min-width: 100px">
                                    Total Qty
                                    <button class="opacityBtn"
                                            ng-if="ctrl.feeds.length"
                                            ng-click="ctrl.columnOrder('qty')"><i class="fa fa-{{ctrl.getArrowName('qty')}}"></i></button>
                                </th>
                                <th  class="text-center" ng-hide="ctrl.flag == 1" style="min-width: 100px">
                                    Approve price
                                </th>
                                <th  class="text-right" ng-hide="ctrl.flag == 1" style="min-width: 100px">
                                    Msrp($)
                                    <button class="opacityBtn"
                                            ng-if="ctrl.feeds.length"
                                            ng-click="ctrl.columnOrder('priceClientMsrp')"><i class="fa fa-{{ctrl.getArrowName('priceClientMsrp')}}"></i></button>
                                </th>
                                <th class="text-right" ng-hide="ctrl.flag == 1" style="min-width: 100px">
                                    Price($)
                                    <button class="opacityBtn"
                                            ng-if="ctrl.feeds.length"
                                            ng-click="ctrl.columnOrder('priceClientRetail')"><i class="fa fa-{{ctrl.getArrowName('priceClientRetail')}}"></i></button>
                                </th>
                                <th class="text-center" style="min-width: 120px">
                                    Created On
                                    <button class="opacityBtn"
                                            ng-if="ctrl.feeds.length"
                                            ng-click="ctrl.columnOrder('created')"><i class="fa fa-{{ctrl.getArrowName('created')}}"></i></button>
                                </th>
                                <th class="text-center" style="min-width: 120px">
                                    Last Received
                                    <button class="opacityBtn"
                                            ng-if="ctrl.feeds.length"
                                            ng-click="ctrl.columnOrder('lastReceivedOn')"><i class="fa fa-{{ctrl.getArrowName('lastReceivedOn')}}"></i></button>
                                </th>
                                <th class="text-center">Modifier</th>
                                <th class="text-center" ng-show="ctrl.flag == 3">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="14" if-no-rows="ctrl.feeds.length"  style="padding: 0px"></td>
                            </tr>
                            <tr ng-repeat="feed in ctrl.feeds" style="height: 90px">
                                <td class="text-center" ng-show="ctrl.flag == 3">
                                    <input type="checkbox" ng-model="feed.check" ng-if="feed.approvePricing == '1' && feed.status == 'Ready'">
                                </td>
                                <td class="text-center">
                                    <a href="javascript:void(0)">
                                        <img class="thumb-sm-search" src="{{feed.image[0]}}">
                                    </a>
                                </td>
                                <td class="text-left">
                                    <a href="#/feed/detail/{{feed._id}}" target="_blank">{{feed.code}}</a>
                                </td>
                                <td class="text-left">{{feed.name}}</td>
                                <td class="text-left">{{feed.model}}</td>
                                <td class="text-center">{{feed.status}}</td>
                                <td class="text-center">{{feed.qty}}</td>
                                <td class="text-center" ng-if="ctrl.flag != 1">
                                    <span class="cur-p label" ng-class="{'label-info':feed.approvePricing == 1,'label-danger':feed.approvePricing != 1}"
                                          ng-click="ctrl.canApprovePrice(feed)">{{feed.approvePricing == 1 ? 'Yes' : 'No'}}</span>
                                </td>
                                <td class="text-right" ng-if="feed.priceClientMsrpMin == feed.priceClientMsrpMax" ng-hide="ctrl.flag == 1">
                                    <div class="input-group">
                                        <span class="input-group-addon cur-p"
                                              ng-click="feed.editMsrp =feed.approvePricing != 1? !feed.editMsrp:feed.editMsrp"><i class="fa fa-pencil"></i></span>
                                        <input type="number" class="form-control" ng-change="feed.priceClientMsrpMax = feed.priceClientMsrpMin"
                                               ng-enter="ctrl.updateOne(feed,'priceClientMsrp',feed.priceClientMsrpMin)"
                                               ng-model="feed.priceClientMsrpMin" ng-disabled="!feed.editMsrp ">
                                    </div>
                                </td>
                                <td class="text-right" ng-if="feed.priceClientMsrpMin != feed.priceClientMsrpMax" ng-hide="ctrl.flag == 1">
                                    {{feed.priceClientMsrpMin}}~{{feed.priceClientMsrpMax}}
                                </td>
                                <td class="text-right" ng-if="feed.priceClientRetailMin == feed.priceClientRetailMax" ng-hide="ctrl.flag == 1">
                                    <div class="input-group">
                                        <span class="input-group-addon cur-p" ng-click="feed.editRetai =feed.approvePricing != 1?!feed.editRetai:feed.editRetai"><i class="fa fa-pencil"></i></span>
                                        <input type="number" class="form-control" ng-model="feed.priceClientRetailMin"
                                               ng-disabled="!feed.editRetai"
                                               ng-enter="ctrl.updateOne(feed,'price',feed.priceClientRetailMin)"
                                               ng-change="feed.priceClientRetailMax = feed.priceClientRetailMin">
                                    </div>
                                </td>
                                <td class="text-right" ng-if="feed.priceClientRetailMin != feed.priceClientRetailMax" ng-hide="ctrl.flag == 1">
                                    {{feed.priceClientRetailMin}}~{{feed.priceClientRetailMax}}
                                </td>
                                <td class="text-center">{{feed.created}}</td>
                                <td class="text-center">{{feed.lastReceivedOn}}</td>
                                <td class="text-center">{{feed.modifier}}</td>
                                <td class="text-center"  ng-show="ctrl.flag == 3">
                                    <button type="button" class="btn btn-vo" ng-if="feed.approvePricing == '1' && feed.status == 'Ready'" ng-click="ctrl.popBatchApproveOne(feed.code)"><i class="fa fa-arrow-right" ></i>&nbsp;Approve</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <!--</div>-->
                    <div class="col-sm-12 m-t-lg m-b-lg">
                        <vpagination config="ctrl.paging"></vpagination>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>