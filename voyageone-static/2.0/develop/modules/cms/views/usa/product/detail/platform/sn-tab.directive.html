<div class="wrapper-md" ng-init="ctrl.init()">
    <div class="panel panel-vo">
        <div class="panel-heading">
            <h4 class="panel-title"><i class="fa fa-star"></i>&nbsp;Products</h4>
        </div>
        <div class="panel-body">
            <div class="container-fluid">
                <form role="form" class="form-horizontal" name="productForm" novalidate>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title vo_unreqfield">Sneakerhead</label>
                                        <label class="col-md-6" style="padding-top:4px">
                                            <strong class="text-u-l"></strong>
                                        </label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title vo_reqfield">Code</label>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" name="code" ng-model="ctrl.productComm.fields.code" required readonly>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title"></label>
                                        <div class="col-md-6">
                                            <vo-message target="productForm.code"></vo-message>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title vo_reqfield">Model</label>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" name="model" ng-model="ctrl.productComm.fields.model" required>
                                        </div>
                                        <div class="col-md-1">
                                            <button type="button" class="btn btn-default" ng-click="ctrl.getTopModel(5)">
                                                <i ng-class="{'fa-angle-double-down':!ctrl.isShowModal,'fa-angle-double-up':ctrl.isShowModal}" class="fa" style="font-size: 16px;"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title"></label>
                                        <div class="col-md-6">
                                            <vo-message target="productForm.model"></vo-message>
                                        </div>
                                    </div>

                                </div>
                                <div class="form-group" ng-if="ctrl.isShowModal">
                                    <div class="row">
                                        <div class="col-md-8 col-md-offset-4" ng-if="ctrl.topFeedList.length > 0">
                                            <div class="col-xs-6 col-md-2" ng-repeat="item in ctrl.topFeedList">
                                                <a href="javascript:void(0);" class="thumbnail pos-relative" style="height: 88px;padding: 0px"
                                                   ng-class="{'active':item.status=='Approved'}">
                                                    <img class="thumb-sm-search" src="{{item.image[0]}}">
                                                    <button type="button" class="btn btn-primary pos-absolute-right" ng-click="ctrl.copyAttr(item)">
                                                        <i class="fa fa-copy"></i>
                                                    </button>
                                                </a>
                                                <span class="text-wrap"><strong>{{item.code}}</strong></span>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-md-offset-4" ng-if="ctrl.topFeedList.length == 0">
                                            <div class="alert alert-danger" role="alert">
                                                <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                                                <span class="sr-only">Warning:</span>
                                                no query data
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-md-4 text-right vo_reqfield">
                                            <button type="button" class="btn btn-info btn-pop"
                                                    ng-click="ctrl.popUsCategory({cartId:1,from:ctrl.feed.category})">
                                                <i class="fa fa-arrow-right"></i>&nbsp;SN Primary Category
                                            </button>
                                        </div>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" title="{{ctrl.feed.category}}"
                                                   name="category" ng-model="ctrl.feed.category"  readonly>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title"></label>
                                        <div class="col-md-6">
                                            <vo-message target="productForm.category"></vo-message>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-md-4 text-right vo_unreqfield">
                                            <button type="button" class="btn btn-info btn-pop" ng-click="ctrl.popUsCategory({cartId:1,froms:ctrl.feed.categoriesTree,muiti:true})">
                                                <i class="fa fa-arrow-right"></i>&nbsp;SN Other Category
                                            </button>
                                        </div>
                                        <div class="col-md-6">
                                            <select name="categories" chosen multiple width="'100%'"
                                                    ng-options="cat as cat.catPath for cat in ctrl.feed.categoriesTree"
                                                    ng-model="ctrl.feed.categoriesTree"></select>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-md-4 text-right vo_reqfield">
                                            <button type="button" class="btn btn-info btn-pop" ng-click = "ctrl.popCategory({cartId:5},'amazonBrowseTree')">
                                                <i class="fa fa-arrow-right"></i>&nbsp;Amazon Browse Tree
                                            </button>
                                        </div>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" name="amazonBrowseTree" ng-model="ctrl.feed.amazonBrowseTree" readonly>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <label class="col-md-4 control-label query-title"></label>
                                        <div class="col-md-6">
                                            <vo-message target="productForm.amazonBrowseTree"></vo-message>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-md-4 text-right vo_unreqfield">
                                            <button type="button" class="btn btn-info btn-pop" ng-click="ctrl.popCategory({cartId:17,from:ctrl.feed.googleCategory},'googleCategory')">
                                                <i class="fa fa-arrow-right"></i>&nbsp;Google Category
                                            </button>
                                        </div>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" title="{{ctrl.feed.googleCategory}}"
                                                   name="googleCategory" ng-model="ctrl.feed.googleCategory" readonly>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-md-4 text-right vo_unreqfield">
                                            <button type="button" class="btn btn-info btn-pop" ng-click="ctrl.popCategory({cartId:18,from:ctrl.feed.googleDepartment},'googleDepartment')">
                                                <i class="fa fa-arrow-right"></i>&nbsp;Google DepartMent
                                            </button>
                                        </div>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" title="{{ctrl.feed.googleDepartment}}"
                                                   name="googleDepartment" ng-model="ctrl.feed.googleDepartment" readonly>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-md-4 text-right vo_unreqfield">
                                            <button type="button" class="btn btn-info btn-pop" ng-click="ctrl.popCategory({cartId:19,from:ctrl.feed.priceGrabberCategory},'priceGrabberCategory')">
                                                <i class="fa fa-arrow-right"></i>&nbsp;PriceGrabber Category
                                            </button>
                                        </div>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control" title="{{ctrl.feed.priceGrabberCategory}}"
                                                   name="priceGrabberCategory" ng-model="ctrl.feed.priceGrabberCategory" readonly>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <hr>
                                </div>

                                <div class="form-group">

                                    <div class="tab-title">
                                        <h3 class="text-md">Common Schema</h3>
                                    </div>
                                    <br>

                                    <div class="row">
                                        <div class="col-md-10">
                                            <schema data="ctrl.productComm.schemaFields"></schema>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="tab-title">
                                        <h3 class="text-md">Platform Schema</h3>
                                    </div>
                                    <br>
                                    <div class="row">
                                        <div class="col-md-10">
                                            <schema data="ctrl.platform.platformFields"></schema>
                                        </div>

                                    </div>
                                </div>

                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="col no-padder bg-light vo_prodDetailPanel">

                                <uib-tabset class="tab-container vo_nav-tabs">
                                    <uib-tab>
                                        <tab-heading>Item</tab-heading>
                                        <div id="vo_fixProdPanel">
                                            <!-- product photos -->
                                            <div class="vo_prodGallery">
                                                <div class="imageContainer">
                                                    <div class="imageWrapper">
                                                        <img  class="imageWrapper" style="cursor: pointer;max-width: 200px; max-height: 170px;"
                                                              src="{{ctrl.currentFeedImage}}" title="【click me】" ng-click="ctrl.goDetail(ctrl.currentFeedImage)">
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="wrapper-sm m-t-xs">
                                                <div>
                                                    <div class="tab-pane active">
                                                        <div class="row">
                                                            <div class="col-md-3" ng-repeat="image in ctrl.feed.image track by $index">
                                                                <a href="javascript:void(0)"
                                                                   class="thumbnail clear-margin-bottom img-auto-fix" ng-click="ctrl.currentFeedImage = image"
                                                                   ng-class="active" style="height: 88px;padding: 0px">
                                                                    <img class="thumb-group" style="max-height: 80px;max-width: 45px" src="{{image}}" align="bottom">
                                                                </a>
                                                            </div>
                                                            <div class="col-md-3 text-center m-t-md">
                                                                <button type="button" class="btn btn-success input-lg mfb-xxxsm" ng-click="ctrl.addImage()"><i class="glyphicon glyphicon-plus"></i></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="wrapper-sm m-t-xs">

                                                <div class="row">
                                                    <div class="col-md-12 form-horizontal">
                                                        <div class="form-group">
                                                            <div class="row">
                                                                <label class="col-md-6 query-title">&nbsp;&nbsp;Image Count</label>
                                                                <div class="col-md-6">
                                                                    <input type="text" class="form-control" ng-model="ctrl.feed.imageNum" ng-enter="ctrl.initImage(ctrl.feed.imageNum)">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>


                                                <ul class="list-group">
                                                    <li class="list-group-item text-wrap" ng-repeat="image in ctrl.feed.image track by $index">
                                                        <div class="row">
                                                            <div class="col-md-10">
                                                                <textarea class="form-control no-resize" ng-model="image" rows="3" ng-change="ctrl.changeImages($index,image,ctrl.feed.image)"></textarea>
                                                            </div>
                                                            <div class="col-md-2">
                                                                <button type="button" class="btn btn-default" ng-click="ctrl.deleteImage($index)"><i class="fa fa-trash"></i></button>
                                                            </div>
                                                        </div>


                                                    </li>
                                                </ul>

                                            </div>
                                        </div>
                                    </uib-tab>
                                    <uib-tab>
                                        <tab-heading>Box</tab-heading>
                                        <div id="vo_fixProdPanel_">
                                            <!-- product photos -->
                                            <div class="vo_prodGallery">
                                                <div class="imageContainer">
                                                    <div class="imageWrapper">
                                                        <img  class="imageWrapper"  style="cursor: pointer;max-width: 200px; max-height: 170px;"
                                                              ng-src="{{ctrl.currentBoxImage}}" title="【click me】" ng-click="ctrl.goDetail(ctrl.currentBoxImage)">
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="wrapper-sm m-t-xs">
                                                <div>
                                                    <div class="tab-pane active">
                                                        <div class="row">
                                                            <div class="col-md-3" ng-repeat="image in ctrl.feed.attribute.boximages track by $index">
                                                                <a href="javascript:void(0)" class="thumbnail clear-margin-bottom img-auto-fix"
                                                                   ng-click="ctrl.currentBoxImage = image"
                                                                   ng-class="active" style="height: 80px">
                                                                    <img style="max-height: 80px;max-width: 45px" class="thumb-group pos-abt" src="{{image}}">
                                                                </a>
                                                            </div>
                                                            <div class="col-md-3 text-center m-t-md">
                                                                <button type="button" ng-controller="popupCtrl" class="btn btn-success input-lg mfb-xxxsm" ng-click="ctrl.addBoxImage()"><i class="glyphicon glyphicon-plus"></i></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="wrapper-sm m-t-xs">

                                                <div class="row">
                                                    <div class="col-md-12 form-horizontal">
                                                        <div class="form-group">
                                                            <div class="row">
                                                                <label class="col-md-6 query-title">&nbsp;&nbsp;Image Count</label>
                                                                <div class="col-md-6">
                                                                    <input type="text" class="form-control" ng-model="ctrl.feed.boxImageNum" ng-keyup="ctrl.initBoxImage(ctrl.feed.boxImageNum)">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>


                                                <ul class="list-group">
                                                    <li class="list-group-item text-wrap" ng-repeat="image in ctrl.feed.attribute.boximages track by $index">
                                                        <div class="row">
                                                            <div class="col-md-10">
                                                                <textarea class="form-control no-resize" ng-model="image" rows="3" ng-change="ctrl.changeImages($index,image,ctrl.feed.image)"></textarea>
                                                            </div>
                                                            <div class="col-md-2">
                                                                <button type="button" class="btn btn-default" ng-click="ctrl.deleteBoxImage($index)"><i class="fa fa-trash"></i></button>
                                                            </div>
                                                        </div>

                                                    </li>
                                                </ul>

                                            </div>
                                        </div>
                                    </uib-tab>
                                </uib-tabset>

                            </div>
                        </div>
                    </div>

                    <div class="skuItem">
                        <div class="skuItem-head">
                            <h4>Skus</h4>
                        </div>
                        <div class="skuItem-body">
                            <div class="table-responsive box box-body">
                                <table class="table table-hover-new vo_table tableWordBreak dropdown_table_main">
                                    <thead>
                                        <th class="text-left">Size</th>
                                        <th class="text-left">Sku</th>
                                        <th class="text-left">Upc</th>
                                        <th class="text-center">platformQty</th>
                                        <th class="text-center">Weight</th>
                                        <th class="text-center">Weitch Unit</th>
                                        <th class="text-right">Msrp($)</th>
                                        <th class="text-right">price($)</th>
                                        <th class="text-right">price($)</th>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="text-left">Size</td>
                                            <td class="text-left">Sku</td>
                                            <td class="text-left">Upc</td>
                                            <td class="text-center">platformQty</td>
                                            <td class="text-center">Weight</td>
                                            <td class="text-center">Weitch Unit</td>
                                            <td class="text-right">Msrp($)</td>
                                            <td class="text-right">price($)</td>
                                            <td class="text-right">price($)</td>
                                        </tr>
                                    </tbody>
                                </table>

                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-------------------------------- 导航栏 --------------------------------->
    <sticky top-fix="-100" style="position: absolute; top: 380px; right: 47px;" drag>
        <nav class="bs-docs-sidebar" style="opacity: 1">
            <h3 drag-handle>导航栏</h3>
            <ul class="nav bs-docs-sidenav">
                <li class="text-center" style="margin: 7px">
                    <button class="btn btn-info text-black" type="button" style="min-width: 82px;"
                            ng-disabled="productForm.$invalid" ng-click="ctrl.save()">
                        <i class="glyphicon glyphicon-floppy-disk"></i>&nbsp;Save
                    </button>
                </li>
                <li class="text-center" style="margin: 7px">
                    <button class="btn btn-info text-black" type="button" style="min-width: 82px;"
                            ng-disabled="productForm.$invalid" ng-click="ctrl.list('0')">
                        <i class="glyphicon glyphicon-floppy-disk"></i>&nbsp;List
                    </button>
                </li>
                <li class="text-center" style="margin: 7px">
                    <button class="btn btn-info text-black" type="button" style="min-width: 82px;"
                            ng-disabled="productForm.$invalid" ng-click="ctrl.delist('0')">
                        <i class="glyphicon glyphicon-floppy-disk"></i>&nbsp;Delist
                    </button>
                </li>
            </ul>
        </nav>
    </sticky>
</div>