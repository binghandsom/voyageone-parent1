<div class="vo_modal" ng-init="ctrl.init()">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"  ng-click="$dismiss()">
            <span aria-hidden="true"><i class="fa fa-close"></i></span>
        </button>
        <h5 class="modal-title"><i class="fa fa-pencil"></i><span class="label" >&nbsp;{{'TXT_TAG_MANAGEMENT'|translate}}&nbsp;</span></h5>
    </div>

    <div class="modal-body wrapper">

        <div class="container-fluid">
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="row">

                        <div class="category_drag col-sm-3" ng-repeat="tree in ctrl.vm.trees" ng-init="$parentIndex = $index">
                            <div class="category_drag_main">
                                <p class="text-center text-vo font-bold">{{$parentIndex + 1}}级标签</p>
                                <div class="form-inline m-l-xs">
                                    <input type="text" placeholder="快速检索" class="form-control" style="width:80%" ng-model="name[$parentIndex]">
                                    <button type="button" class="btn btn-vo btn-xxs" ng-click="ctrl.searchName[$parentIndex] = name[$parentIndex]"><i class="fa fa-search"></i></button>
                                </div>

                                <div class="category_drag_list_dp" style="max-height:260px;">
                                    <div ng-repeat="tag in tree.tags | filter:{tagChildrenName:ctrl.searchName[$parentIndex]}" class="m-t-xs">
                                        <a href="javascript:void(0)" ng-click="ctrl.openTag(tag , $parentIndex)" style="float: initial;display: inherit;">
                                            <label>
                                                <input type="checkbox"
                                                       ng-model="ctrl.taglist.selFlag[tag.id]"
                                                       ng-checked="ctrl.orgChkStsMap[tag.tagPath]"
                                                       ui-indeterminate="ctrl.orgDispMap[tag.tagPath]"
                                                       ng-click = "ctrl.selOrgDisp(tag.id , tag.tagPath , $event)"
                                                >
                                                {{tag.tagChildrenName}}
                                            </label>
                                            <span class="pull-right text-muted" ng-if="tag.isLeaf == false">
                                            <i class="fa fa-fw fa-angle-right text"></i>
                                        </span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>


    </div>

    <div class="modal-footer">
        <button class="btn btn-default ng-binding" ng-click="$dismiss()"><i class="fa fa-remove"></i> 取消</button>
        <button class="btn btn-vo ng-binding" ng-click="ctrl.save()"><i class="glyphicon glyphicon-floppy-disk"></i> 保存</button>
    </div>
</div>