<div class="vo_modal" ng-init="ctrl.initialize()">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="$dismiss()"><span
                aria-hidden="true"><i class="fa fa-close"></i></span></button>
        <h5 class="modal-title"><i class="glyphicon glyphicon-share"></i>&nbsp;{{'TXT_PRODUCT_DETAIL' | translate}}</h5>
    </div>
    <div class="modal-body wrapper">
        <form role="form" class="form-horizontal">
            <div class="row m-l-xs">
                <div class="col-sm-8">
                 <tabset class="tab-container vo_nav-tabs">
                  <tab>
                    <tab-heading>Product 详情</tab-heading>
                    <div class="column_overflow" style="height:400px">
                        <div class="form-group col-sm-12">
                           <h5 class="text-vo font-bold m-l-md">产品库数据</h5>
                           <hr style="margin-top:4px;margin-bottom:4px">
                         </div>
                        <div class="form-group col-sm-12">
                            <!-- todo 目前不想做切换类目 然后更新product表的其他几个类目字段,以后将聚美的类目放到mongodb -->
                            <label class="col-sm-3 control-label vo_reqfield">聚美类目</label>
                            <div class="col-sm-6">
                                <select class="form-control" disabled ng-model="ctrl.productInfo.categoryLv4Id" ng-options="category.id as category.name for category in ctrl.masterData.categoryList | filter:level:'4'">
                                    <option value="">{{'TXT_SELECT_NO_VALUE' | translate}}</option>
                                </select>
                            </div>
                            <label class="col-sm-3 control-label text-u-red text-left" translate="TXT_REQUIRED"></label>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label vo_reqfield">产品品牌</label>
                            <div class="col-sm-6">
                                <select class="form-control" ng-model="ctrl.productInfo.brandId" ng-options="brand.id as brand.name for brand in ctrl.masterData.brandList">
                                    <option value="">{{'TXT_SELECT_NO_VALUE' | translate}}</option>
                                </select>
                            </div>
                            <label class="col-sm-3 control-label text-u-red text-left" translate="TXT_REQUIRED"></label>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label vo_reqfield">产品名</label>
                            <div class="col-sm-6">
                                <textarea class="form-control no-resize" rows="2" ng-model="ctrl.productInfo.productNameCn"></textarea>
                            </div>
                            <label class="col-sm-3 control-label text-u-red text-left" translate="TXT_REQUIRED"></label>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label vo_reqfield">外文名</label>
                            <div class="col-sm-6">
                                <textarea class="form-control no-resize" rows="2" ng-model="ctrl.productInfo.foreignLanguageName"></textarea>
                            </div>
                            <label class="col-sm-3 control-label text-u-red text-left" translate="TXT_REQUIRED"></label>
                        </div>
                        <div class="form-group text-center col-sm-12">
                            <button class="btn btn-vo" ng-click="ctrl.saveProductInfo()"><i class="glyphicon glyphicon-floppy-disk"></i>&nbsp;{{'BTN_SAVE' | translate}}</button>
                        </div>

                        <!-- start deal数据 -->
                        <div class="form-group col-sm-12">
                            <h5 class="text-vo font-bold m-l-md">Deal数据</h5>
                            <hr style="margin-top:4px;margin-bottom:4px">
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label vo_reqfield">售卖时间</label>
                            <div class="col-sm-6 form-inline">
                                <div class="input-group col-sm-5"><input ng-readonly="ctrl.productPromotionInfo.updateState == '2'" type="text" class="form-control" placeholder="from" ng-model="ctrl.productPromotionInfo.activityStart"></div>&nbsp;~&nbsp;
                                <div class="input-group col-sm-5"><input ng-readonly="ctrl.productPromotionInfo.updateState == '2'" type="text" class="form-control" placeholder="to" ng-model="ctrl.productPromotionInfo.activityEnd"></div>
                            </div>
                            <label class="col-sm-3 control-label text-u-red text-left" translate="TXT_REQUIRED"></label>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label">每人限购</label>
                            <div class="col-sm-6">
                                <input class="form-control" ng-readonly="ctrl.productPromotionInfo.updateState == '2'" ng-model="ctrl.productPromotionInfo.limit"/>
                            </div>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label vo_reqfield">长标题</label>
                            <div class="col-sm-6">
                                <textarea class="form-control no-resize" rows="2" ng-model="ctrl.productInfo.productLongName"></textarea>
                            </div>
                            <label class="col-sm-3 control-label text-u-red text-left" translate="TXT_REQUIRED"></label>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label vo_reqfield">中标题</label>
                            <div class="col-sm-6">
                                <textarea class="form-control no-resize" rows="2" ng-model="ctrl.productInfo.productMediumName"></textarea>
                            </div>
                            <label class="col-sm-3 control-label text-u-red text-left" translate="TXT_REQUIRED"></label>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label vo_reqfield">短标题</label>
                            <div class="col-sm-6">
                                <input class="form-control"  ng-model="ctrl.productInfo.productShortName"/>
                            </div>
                            <label class="col-sm-3 control-label text-u-red text-left" translate="TXT_REQUIRED"></label>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label vo_reqfield">自定义搜索词</label>
                            <div class="col-sm-6">
                                <input class="form-control" ng-model="ctrl.productInfo.searchMetaTextCustom"/>
                            </div>
                            <label class="col-sm-3 control-label text-u-red text-left" translate="TXT_REQUIRED"></label>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label">保质期限</label>
                            <div class="col-sm-9">
                                <textarea class="form-control no-resize" rows="2" ng-model="ctrl.productInfo.availablePeriod"></textarea>
                            </div>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label">生产地区</label>
                            <div class="col-sm-9">
                                <textarea class="form-control no-resize" rows="2" ng-model="ctrl.productInfo.addressOfProduce"></textarea>
                            </div>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label">适合人群</label>
                            <div class="col-sm-9">
                                <textarea class="form-control no-resize" rows="2" ng-model="ctrl.productInfo.applicableCrowd"></textarea>
                            </div>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label">英文描述</label>
                            <div class="col-sm-9">
                                <textarea class="form-control no-resize" rows="2" ng-model="ctrl.productInfo.productDesEn" readonly></textarea>
                            </div>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label">中文描述</label>
                            <div class="col-sm-9">
                                <textarea class="form-control no-resize" rows="2" ng-model="ctrl.productInfo.productDesCn"></textarea>
                            </div>
                        </div>
                        <div class="form-group text-center col-sm-12">
                            <button class="btn btn-vo" ng-click="ctrl.saveDealInfo()"><i class="glyphicon glyphicon-floppy-disk"></i>&nbsp;{{'BTN_SAVE' | translate}}</button>
                        </div>

                        <!-- start 报关数据 -->
                        <div class="form-group col-sm-12">
                            <h5 class="text-vo font-bold m-l-md">报关数据</h5>
                            <hr style="margin-top:4px;margin-bottom:4px">
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label">报关关税编号</label>
                            <div class="col-sm-9">
                                <input class="form-control" ng-model="ctrl.productInfo.hsCode"/>
                            </div>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label">报关商品类目</label>
                            <div class="col-sm-9">
                                <input class="form-control" ng-model="ctrl.productInfo.hsName"/>
                            </div>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label">报关商品单位</label>
                            <div class="col-sm-9">
                                <input class="form-control" ng-model="ctrl.productInfo.hsUnit"/>
                            </div>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label">英文材质</label>
                            <div class="col-sm-9">
                                <textarea class="form-control no-resize" rows="2" ng-model="ctrl.productInfo.materialEn" disabled></textarea>
                            </div>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label">中文材质</label>
                            <div class="col-sm-9">
                                <textarea class="form-control no-resize" rows="2" ng-model="ctrl.productInfo.materialCn"></textarea>
                            </div>
                        </div>
                        <div class="form-group text-center col-sm-12">
                            <button class="btn btn-vo" ng-click="ctrl.saveProductInfo()"><i class="glyphicon glyphicon-floppy-disk"></i>&nbsp;{{'BTN_SAVE' | translate}}</button>
                        </div>
                    </div>
                </tab>
                <tab>
                    <tab-heading>SKU 详情</tab-heading>
                    <div class="column_overflow" style="height:400px">
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label">颜色<br/>（子产品SPU）</label>
                            <div class="col-sm-6 m-t-sm">
                                <input class="form-control" ng-model="ctrl.productInfo.colorEn"/>
                            </div>
                            <label class="col-sm-3 m-t-sm control-label text-u-red text-left">(英文颜色)</label>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label">海外官网价<br/>（子产品SPU）</label>
                            <div class="col-sm-9 form-inline m-t-sm">
                                <div class="input-group col-sm-6"><input type="text" class="form-control text-right" ng-model="ctrl.productInfo.msrp"></div>&nbsp;
                                <div class="input-group col-sm-5">
                                    <select class="form-control" ng-model="ctrl.productInfo.areaCode" ng-options="priceUnit.key as priceUnit.name1 for priceUnit in ctrl.masterData.priceUnitList">
                                        <option value="">{{'TXT_SELECT_NO_VALUE' | translate}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <!--<div class="form-group col-sm-12">-->
                            <!--<label class="col-sm-3 control-label">市场价<br/>（子产品SPU）</label>-->
                            <!--<div class="col-sm-9 m-t-sm">-->
                                <!--<input class="form-control" ng-model="ctrl.productInfo.marketPrice"/>-->
                            <!--</div>-->
                        <!--</div>-->
                        <div class="form-group text-center col-sm-12">
                            <button class="btn btn-vo" ng-click="ctrl.saveProductInfo()"><i class="glyphicon glyphicon-floppy-disk"></i>&nbsp;{{'BTN_SAVE' | translate}}</button>
                        </div>
                        <!-- start sku信息 -->
                        <div class="col-sm-12 panel vo_panel tab_panel">
                            <!-- .table-responsive -->
                            <div class="table-responsive">
                                <table class="table table-hover-new vo_table dropdown_table_main" style="width:900px">
                                    <thead>
                                    <tr>
                                        <th class="text-center mfb-xt">Seq.</th>
                                        <th class="text-lef mfb-xxx">UPC<br/>（子产品SPU）</th>
                                        <th class="text-left mfb-xxx">尺码<br/>（子产品SPU）</th>
                                        <th class="text-left mfb-xxx">SKU<br/>（SKU信息）</th>
                                        <th class="text-right mfb-xxst">市场价<br/>（SKU信息）</th>
                                        <th class="text-right mfb-xxst">团购价<br/>（SKU信息）</th>
                                        <th class="mfb-xxx text-left">规格<br/>（子产品SPU）</th>
                                        <th class="mfb-xxs text-center">Action</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="sku in ctrl.skuList">
                                        <td class="text-center" ng-bind="$index + 1"></td>
                                        <td class="text-left">
                                            <input class="form-control" ng-model="sku.cmsBtJmSkuModel.upc">
                                        </td>
                                        <td class="text-left">
                                            <input class="form-control" ng-model="sku.cmsBtJmSkuModel.jmSize">
                                        </td>
                                        <td class="text-left">
                                            <input class="form-control" ng-model="sku.cmsBtJmSkuModel.skuCode">
                                        </td>
                                        <td class="text-right">
                                            <input class="form-control text-right" ng-model="sku.cmsBtJmPromotionSkuModel.marketPrice">
                                        </td>
                                        <td class="text-right">
                                            <input class="form-control text-right" ng-model="sku.cmsBtJmPromotionSkuModel.dealPrice">
                                        </td>
                                        <td class="text-left">其它</td>
                                        <td class="text-center">
                                            <!--<button title="上移" class="btn btn-success btn-xs" ng-click="ctrl.skuMoveUp()"><i class="glyphicon glyphicon-arrow-up"></i></button>-->
                                            <!--<button title="下移" class="btn btn-success btn-xs" ng-click="ctrl.skuMoveDown()"><i class="glyphicon glyphicon-arrow-down"></i></button>-->
                                            <button ng-disabled="ctrl.productPromotionInfo.updateState == '2'" title="{{'BTN_SAVE' | translate}}" class="btn btn-vo btn-xs" ng-click="ctrl.saveSku(sku, $index)"><i class="glyphicon glyphicon-floppy-disk"></i></button>
                                            <button ng-disabled="ctrl.productPromotionInfo.updateState == '2'" title="{{'BTN_DELETE' | translate}}" ng-if="sku.cmsBtJmPromotionSkuModel.id > 0" class="btn btn-danger btn-xs" ng-click="ctrl.deleteSku(sku.cmsBtJmPromotionSkuModel, $index)"><i class="fa fa-trash-o"></i></button>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div><!-- .table-responsive -->
                        </div> <!-- .panel -->
                    </div>
                </tab>
            </tabset>
                    </div>
                    <div class="col-sm-3">
                        <div class="form-group">
                            <img class="col-sm-11 col-sm-offset-1" ng-src="{{ctrl.productImage.originUrl}}"/>
                        </div>
                    </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-default" ng-click="ctrl.close()"><i class="fa fa-remove"></i>&nbsp;{{'BTN_CLOSE' | translate}}</button>
        <!--<button class="btn btn-vo" ng-click="ok()"><i class="glyphicon glyphicon-floppy-disk"></i>&nbsp;确认</button>-->
    </div>
</div><!-- .vo_modal -->