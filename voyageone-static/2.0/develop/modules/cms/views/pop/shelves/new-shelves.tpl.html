<div class="vo_modal">
    <div class="modal-header">
        <h5 class="modal-title"><i class="fa fa-file"></i>&nbsp;<span>{{::$ctrl.context.id?'编辑':'新建'}}</span>货架</h5>
    </div>

    <div class="modal-body wrapper">
        <form role="form" class="form-horizontal" name="$ctrl.form" novalidate>
            <div class="form-group">
                <label class="col-sm-4 control-label">平台类型：</label>
                <div class="col-sm-7">
                    <p class="form-control-static">{{$ctrl.context.cartName}}</p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label">客户端类型：</label>
                <div class="col-sm-7">
                    <p class="form-control-static">{{$ctrl.context.clientName}}</p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label">货架名称：</label>
                <div class="col-sm-7">
                    <input name="n" type="text" class="form-control" ng-model="$ctrl.shelvesName" required>
                    <vo-message target="$ctrl.form.n"></vo-message>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label">布局模板：</label>
                <div class="col-sm-7">
                    <select chosen width="'100%'" ng-model="$ctrl.layoutTemplateId" required name="lt"
                            ng-options="t.id as t.templateName for t in $ctrl.layoutTemplates"></select>
                    <vo-message target="$ctrl.form.lt"></vo-message>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label">单品模板：</label>
                <div class="col-sm-7">
                    <select chosen width="'100%'" ng-model="$ctrl.singleTemplateId" required name="st"
                            ng-options="t.id as t.templateName for t in $ctrl.singleTemplates"></select>
                    <vo-message target="$ctrl.form.st"></vo-message>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label">是否选用活动价：</label>
                <div class="col-sm-7">
                    <div class="radio">
                        <label><input type="radio" ng-model="$ctrl.usePromoPrice" ng-change="$ctrl.changedUsePromoPrice()" ng-value="true" name="new-shelves-promotion-price">&nbsp;是</label>&nbsp; &nbsp;
                        <label><input type="radio" ng-model="$ctrl.usePromoPrice" ng-change="$ctrl.changedUsePromoPrice()" ng-value="false" name="new-shelves-promotion-price">&nbsp;否</label>
                    </div>
                </div>
            </div>
            <div class="form-group" ng-if="$ctrl.usePromoPrice">
                <label class="col-sm-4 control-label">参加活动：</label>
                <div class="col-sm-7">
                    <select chosen width="'100%'" ng-model="$ctrl.promotionId" ng-init="$ctrl.getPromotions()"
                            ng-required="$ctrl.usePromoPrice" name="p"
                            ng-options="p.id as (p.promotionName || p.name) for p in $ctrl.promotionList"></select>
                    <vo-message target="$ctrl.form.p"></vo-message>
                </div>
            </div>
        </form>
    </div>

    <div class="modal-footer">
        <button type="button" class="btn btn-default" ng-click="$ctrl.cancel()"><i class="fa fa-remove"></i>&nbsp;<span translate="BTN_CANCEL"></span></button>
        <button type="button" class="btn btn-vo" ng-click="$ctrl.ok()"><i class="fa fa-floppy-o"></i>&nbsp;<span translate="BTN_SAVE"></span></button>
    </div>
</div>