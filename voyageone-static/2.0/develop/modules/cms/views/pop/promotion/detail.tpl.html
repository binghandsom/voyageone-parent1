<div class="vo_modal" ng-init="initialize()">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="$close()"><span
                aria-hidden="true"><i class="fa fa-close"></i></span></button>
        <h5 class="modal-title"><i class="glyphicons glyphicons-edit"></i>
        <span translate="TXT_PROMOTION_DETAIL"></span>
        </h5>
    </div>
    <div class="m-t-md m-b-md">
        <form role="form" class="form-horizontal" name="promotionFrom">
            <div class="form-group">
                <label class="col-sm-3 control-label vo_reqfield" translate="TXT_PROMOTION_NAME"></label>
                <div class="col-sm-7">
                    <input class="form-control" ng-model="promotion.promotionName" ng-required="true" >
                </div>
                <label class="col-sm-1 control-label text-u-red text-left" translate="TXT_REQUIRED"></label>
            </div><!-- .form-group -->
            <div class="form-group">
                <label class="col-sm-3 control-label vo_reqfield" translate="TXT_PLATFORM_TYPE"></label>
                <div class="col-sm-7">
                    <label ng-repeat="cart in cartList" class="checkbox-inline c-checkbox">
                        <input type="radio" name="cartid" ng-model="promotion.cartId"  ng-required="true" value={{cart.value}}>
                        <span class="fa fa-check"></span> {{cart.name}}
                    </label>
                </div>
                <label class="col-sm-1 control-label text-u-red text-left" translate="TXT_REQUIRED"></label>
            </div><!-- .form-group -->
            <div class="form-group">
                <label class="col-sm-3 control-label" translate="TXT_PREHEATING_TIME"></label>
                <div class="col-sm-7 form-inline">
                    <div class="col-sm-5 input-group" ng-controller="datePickerCtrl">
                        <input type="text" ng-model="$parent.promotion.prePeriodStart" class="form-control" datepicker-popup="{{formatDate}}" is-open="$parent.datePicker[0].opened"
                               max-date="$parent.promotion.prePeriodEnd" date-model-format="{{formatDate}}" datepicker-options="dateOptions" close-text="Close" />
								              <span class="input-group-btn">
								                <button type="button" class="btn btn-default" ng-click="open($event, 0, 6)"><i class="glyphicon glyphicon-calendar"></i></button>
								              </span>
                    </div>&nbsp;~&nbsp;
                    <div class="col-sm-5 input-group" ng-controller="datePickerCtrl">
                        <input type="text" ng-model="$parent.promotion.prePeriodEnd" class="form-control" datepicker-popup="{{formatDate}}" is-open="$parent.datePicker[1].opened"
                               min-date="$parent.promotion.prePeriodStart" date-model-format="{{formatDate}}" datepicker-options="dateOptions" close-text="Close" />
								              <span class="input-group-btn">
								                <button type="button" class="btn btn-default" ng-click="open($event, 1, 6)"><i class="glyphicon glyphicon-calendar"></i></button>
								              </span>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label" translate="TXT_PRE_SALE_TIME"></label>
                <div class="col-sm-7 form-inline">
                    <div class="col-sm-5 input-group" ng-controller="datePickerCtrl">
                        <input type="text" ng-model="$parent.promotion.preSaleStart" class="form-control" datepicker-popup="{{formatDate}}" is-open="$parent.datePicker[2].opened"
                               max-date="$parent.promotion.preSaleEnd" date-model-format="{{formatDate}}" datepicker-options="dateOptions" close-text="Close" />
								              <span class="input-group-btn">
								                <button type="button" class="btn btn-default" ng-click="open($event, 2, 6)"><i class="glyphicon glyphicon-calendar"></i></button>
								              </span>
                    </div>&nbsp;~&nbsp;
                    <div class="col-sm-5 input-group" ng-controller="datePickerCtrl">
                        <input type="text" ng-model="$parent.promotion.preSaleEnd" class="form-control" datepicker-popup="{{formatDate}}" is-open="$parent.datePicker[3].opened"
                               min-date="$parent.promotion.preSaleStart" date-model-format="{{formatDate}}" datepicker-options="dateOptions" close-text="Close" />
								              <span class="input-group-btn">
								                <button type="button" class="btn btn-default" ng-click="open($event, 3, 6)"><i class="glyphicon glyphicon-calendar"></i></button>
								              </span>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label vo_reqfield" translate="TXT_PROMOTION_TIME"></label>
                <div class="col-sm-7 form-inline">
                    <div class="col-sm-5 input-group" ng-controller="datePickerCtrl">
                        <input type="text" ng-model="$parent.promotion.activityStart" class="form-control" datepicker-popup="{{formatDate}}" is-open="$parent.datePicker[4].opened"
                               max-date="$parent.promotion.activityEnd" datepicker-options="dateOptions" date-model-format="{{formatDate}}" ng-required="true" close-text="Close" />
								              <span class="input-group-btn">
								                <button type="button" class="btn btn-default" ng-click="open($event, 4, 6)"><i class="glyphicon glyphicon-calendar"></i></button>
								              </span>
                    </div>&nbsp;~&nbsp;
                    <div class="col-sm-5 input-group" ng-controller="datePickerCtrl">
                        <input type="text" ng-model="$parent.promotion.activityEnd" class="form-control" datepicker-popup="{{formatDate}}" is-open="$parent.datePicker[5].opened"
                               min-date="$parent.promotion.activityStart" datepicker-options="dateOptions" date-model-format="{{formatDate}}" ng-required="true" close-text="Close" />
								              <span class="input-group-btn">
								                <button type="button" class="btn btn-default" ng-click="open($event, 5, 6)"><i class="glyphicon glyphicon-calendar"></i></button>
								              </span>
                    </div>
                </div>
                <label class="col-sm-1 control-label text-u-red text-left" translate="TXT_REQUIRED"></label>
            </div>
            <div class="form-group" ng-show="promotion.cartId == 20 || promotion.cartId == 23">
                <div class="col-sm-3 control-label"><label class="" translate="TXT_IS_START_TE_JIA_BAO"></label></div>
                <div class="col-sm-2">
                    <div class="onoffswitch">
                        <input type="checkbox" name="onoffswitch" ng-model="tejiabao" class="onoffswitch-checkbox" id="myonoffswitch4" checked>
                        <label class="onoffswitch-label" for="myonoffswitch4">
                            <span class="onoffswitch-inner"></span>
                            <span class="onoffswitch-switch"></span>
                        </label>
                    </div>
                </div>
                <div class="col-sm-4">
                    <input class="form-control" ng-if="tejiabao == true" ng-model="promotion.tejiabaoId" placeholder="{{'TXT_TE_JIA_BAO_ID' | translate}}">
                </div><!-- onoff switch -->
            </div>
        </form>
    </div>
    <div class="table-responsive m-l-md m-r-md m-b-md">
        <table class="table table-hover-new table-hover">
            <thead>
            <tr class="control-label">
                <th>TAG</th>
                <th class="mfb-xxt text-center">{{'BTN_DELETE' | translate}}</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="tag in promotion.tagList">
                <td class="mfb-xxxsm"><input class="form-control" ng-model="tag.tagName" ng-required="true"></td>
                <td class="mfb-xxs text-center"><button title="{{'BTN_DELETE' | translate}}" class="btn btn-danger btn-xs" ng-disabled="tag.tagId != ''" ng-click="delTag(promotion.tagList,tag)"><i class="fa fa-trash-o"></i></button></td>
            </tr>
            </tbody>
        </table>
        <div class="form-group">
            <button class="btn btn-sm btn-success btn-addon pull-right" ng-click="addTag()"><i class="fa fa-plus"></i>追加</button>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-default" ng-click="$close()"><i class="fa fa-remove"></i>&nbsp;{{'BTN_CANCEL' | translate}}</button>
        <button class="btn btn-vo" ng-click="ok()"><i class="glyphicon glyphicon-floppy-disk"></i>&nbsp;{{'BTN_SAVE' | translate}}</button>
    </div>
</div><!-- .vo_modal -->