<div class="vo_modal" ng-init="ctrl.init()">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="ctrl.cancel()"><span
                aria-hidden="true"><i class="fa fa-close"></i></span></button>
        <h5 class="modal-title"><i class="fa fa-crosshairs"></i>&nbsp;{{'TXT_MAPPING_VALUE' | translate}}</h5>
    </div>
    <h5 class="m-l m-t-md">
        <span class="text-vo">{{::ctrl.context.feedCategoryPath}}</span>
        <sup  class="text-vo"><strong>{{'TXT_FEED_CATEGORY' | translate}}</strong></sup>
        <span class="fa fa-exchange"></span>
        <span>{{::ctrl.context.mainCategoryPath}}</span>
        <sup><strong>{{'TXT_MASTER_CATEGORY' | translate}}</strong></sup>
    </h5>
    <div class="p-l-r">
        <form role="form" class="form-horizontal m-r-sm m-l-sm">
            <div class="form-group">
                <label class="col-sm-3 m-l-sm">
                    <input type="radio" ng-model="ctrl.mappingSetting.type" ng-value="'propFeed'"/>
                    <span>&nbsp;{{'TXT_FEED_ATTRIBUTE' | translate}}</span>
                </label>
                <div class="col-sm-6" ng-if="ctrl.mappingSetting.type === 'propFeed'">
                    <select class="form-control" title="Feed Attributes"
                            ng-options="k as k for (k,v) in ctrl.feedAttributes"
                            ng-model="ctrl.field.value"></select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 m-l-sm">
                    <input type="radio" ng-model="ctrl.mappingSetting.type" ng-value="'text'"/>
                    <span>&nbsp;{{'TXT_TEXT' | translate}}</span>
                </label>
                <div class="col-sm-6" ng-show="ctrl.mappingSetting.type === 'text'">
                    <schema-item  data="ctrl.field"></schema-item>
                </div>
            </div>
        </form>
        <div class="table-responsive">
            <table class="table">
                <thead>
                <tr>
                    <th>{{'TXT_SELECT_CONDITION' | translate}}</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="condition in ctrl.conditions">
                    <td class="form-inline">
                        <select class="form-control m-r-sm"
                                ng-options="k as k for (k,v) in ctrl.feedAttributes track by k"
                                ng-model="condition.property"></select>

                        <select class="form-control m-r-sm"
                                ng-options="o as o.desc for o in ctrl.operations track by o.desc"
                                ng-model="condition.operation"></select>

                        <span ng-if="!condition.operation.isSingle">
                            <input class="form-control" type="text"
                                   ng-if="!ctrl.feedAttributes[condition.property].length"
                                   ng-model="condition.value"/>

                            <select class="form-control"
                                    ng-if="ctrl.feedAttributes[condition.property].length"
                                    ng-options="v as v for v in ctrl.feedAttributes[condition.property] track by v"
                                    ng-model="condition.value"></select>
                        </span>
                    </td>
                    <td>
                        <button ng-click="ctrl.removeCondition($index)" class="btn btn-danger btn-xs">
                            <i class="fa fa-minus"></i>
                        </button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div>
            <button ng-click="ctrl.addCondition()" class="btn btn-success pull-right">
                <i class="fa fa-plus"></i>
                <span>{{'BTN_ADD_CONDITION' | translate}}</span>
            </button>
        </div>
    </div>
    <div class="attribute_top">
        <h5 class="text-vo m-l font-bold">{{'TXT_MSG_VALUE_SETTING_COMMENT' | translate}}</h5>
        <ul>
            <li>{{'TXT_MSG_VALUE_SETTING_COMMENT_1' | translate}}</li>
            <li>{{'TXT_MSG_VALUE_SETTING_COMMENT_2' | translate}}</li>
        </ul>
    </div>
    <div class="modal-footer">
        <button class="btn btn-default" ng-click="ctrl.cancel()"><i class="fa fa-remove"></i>&nbsp;{{'BTN_CANCEL' | translate}}</button>
        <button class="btn btn-vo" ng-click="ctrl.ok()"><i class="glyphicon glyphicon-floppy-disk"></i>&nbsp;{{'BTN_SAVE' | translate}}</button>
    </div>
</div><!-- .vo_modal -->