<div class="wrapper-md" ng-init="initialize()">
	<div class="vo_accordion vo_attr">
		<div class="panel-group">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h4 class="panel-title"><i class="glyphicon glyphicon-th"></i>&nbsp;活动详情</h4>
				</div>
				<div class="container-fluid m-t-xs m-b-xs">
					<div class="col-sm-12">
						<div class="col-sm-4">
							<div class="form-horizontal">
								<!--<div class="form-group">-->
									<!--<label class="col-sm-3 control-label">Activity ID</label>-->
									<!--<div class="col-sm-8">-->
										<!--<input type="text" class="form-control" placeholder="12345" disabled>-->
									<!--</div>-->
								<!--</div>-->
								<div class="form-group">
									<label class="col-sm-3 control-label" translate="TXT_PROMOTION_NAME"></label>
									<div class="col-sm-8">
										<input type="text" class="form-control" placeholder="双十一活动" ng-model="parentModel.name" disabled>
									</div>
								</div>
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-horizontal">
								<div class="form-group">
									<label class="col-sm-3 control-label" translate="TXT_PROMOTION_TIME"></label>
									<div class="col-sm-8 form-inline">
										<div class="input-group col-sm-4"><input type="text" class="form-control" ng-model="parentModel.activityStart"  disabled></div>&nbsp;~&nbsp;
										<div class="input-group col-sm-4"><input type="text" class="form-control"  ng-model="parentModel.activityEnd" disabled></div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label" translate="TXT_PRE_SALE_TIME"></label>
									<div class="col-sm-8 form-inline">
										<div class="input-group col-sm-4"><input type="text" class="form-control"ng-model="parentModel.prePeriodStart" disabled></div>&nbsp;~&nbsp;
										<div class="input-group col-sm-4"><input type="text" class="form-control" ng-model="parentModel.prePeriodEnd"  disabled></div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-horizontal">
								<div class="form-group">
									<label class="col-sm-3 control-label" translate="TXT_PROMOTION_PC_ID"></label>
									<div class="col-sm-8">
										<input type="text" class="form-control"  ng-model="parentModel.activityPcId"    disabled />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label" translate="TXT_PROMOTION_APP_ID"></label>
									<div class="col-sm-8">
										<input type="text" class="form-control"  ng-model="parentModel.activityAppId"    disabled>
									</div>
								</div>
							</div>
						</div>
						<div class="col-sm-12">
							<hr>
						</div>
						<div class="col-sm-4">
							<div class="form-horizontal">
								<div class="form-group">
									<label class="col-sm-3 control-label">聚美类目</label>
									<div class="col-sm-8">
										<input type="text" class="form-control" ng-model="searchInfo.categoryLv1Name">
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">状态</label>
									<div class="col-sm-8" style="padding-left:0px">
										<label class="checkbox-inline c-checkbox" style="margin-left:4px">
											<input type="checkbox" name="synchState0" value="0" ng-model="searchInfo.synchState0" />
											<span class="fa fa-check"></span>&nbsp;导入成功&nbsp;</label>
										<label class="checkbox-inline c-checkbox">
											<input type="checkbox" name="synchState1" value="1" ng-model="searchInfo.synchState1" />
											<span class="fa fa-check"></span>&nbsp;待上传&nbsp;</label>
										<label class="checkbox-inline c-checkbox">
										<input type="checkbox" name="synchState2" value="2" ng-model="searchInfo.synchState2"/>
										<span class="fa fa-check" ></span>&nbsp;上传成功&nbsp;</label>
										<label class="checkbox-inline c-checkbox">
											<input type="checkbox" name="synchState3" value="3" ng-model="searchInfo.synchState3" >
											<span class="fa fa-check"></span>&nbsp;上传异常&nbsp;</label>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">折扣</label>
									<div class="col-sm-8 form-inline">
										<div class="input-group col-sm-4"><input type="text" class="form-control" ng-model="seacheInfo.beginDiscount" placeholder="from"></div>&nbsp;~&nbsp;
										<div class="input-group col-sm-4"><input type="text" class="form-control" ng-model="seacheInfo.endDiscount" placeholder="to"></div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">价格</label>
									<div class="col-sm-8" style="padding-left:0px">
										<label class="checkbox-inline c-radio" style="margin-left:4px">
										<input name="priceType" type="radio" ng-model="searchInfo.priceType" value="msrp" ><span class="fa fa-check"></span>&nbsp;MSRP</label>
										<label class="checkbox-inline c-radio">
										<input name="priceType" type="radio"  ng-model="searchInfo.priceType" value="marketPrice"><span class="fa fa-check"></span>&nbsp;市场价</label>
										<label class="checkbox-inline c-radio">
										<input name="priceType" type="radio" ng-model="searchInfo.priceType" value="dealPrice"><span class="fa fa-check"></span>&nbsp;团购价</label>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label"></label>
									<div class="col-sm-8 form-inline">
										<div class="input-group col-sm-4"> <input type="text" class="form-control"  ng-model="seacheInfo.beginPrice"  placeholder="from" /> </div>&nbsp;~&nbsp;
										<div class="input-group col-sm-4" ><input type="text" class="form-control"  ng-model="seacheInfo.endPrice"     placeholder="to"  /> </div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-horizontal">
								<div class="form-group">
									<label class="col-sm-3 control-label">商品名称</label>
									<div class="col-sm-8">
										<input type="text" class="form-control" ng-model="searchInfo.productNameCn" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">是否新建商品</label>
									<div class="col-sm-8">
										<select class="form-control" ng-model="searchInfo.state">
											<option value="">ALL</option>
											<option value="1">已上新再售</option>
											<option value="0">未上新</option>
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">品牌</label>
									<div class="col-sm-8">
										<input type="text" class="form-control" ng-model="searchInfo.brandName">
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">颜色</label>
									<div class="col-sm-8">
										<input type="text" class="form-control" ng-model="searchInfo.colorEn">
									</div>
								</div>
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-horizontal">
								<div class="form-group">
									<label class="col-sm-3 control-label">Fuzzy Search<br/>（Code/SKU）</label>
									<div class="col-sm-8">
										<textarea class="form-control" rows="8"></textarea>
									</div>
								</div>
							</div>
						</div>
						<div class="col-sm-12 text-center m-b-xs" ng-controller="popupCtrl">
							<div class="form-horizontal form-inline">
								<button class="btn btn-default" ng-click="clear()"><i class="fa fa-remove"></i>&nbsp;清除</button>
								<button class="btn btn-vo" ng-click="search()"><i class="fa fa-search"></i>&nbsp;搜索</button>
							</div><!-- .form-inline -->
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="box">
			<div class="form-inline pull-right m-b-xs" ng-controller="popupCtrl">
				<button class="btn btn-default" ng-click="openJmPromotionProductImport(parentModel)"><i class="fa fa-reply-all"></i>&nbsp;导入</button>
				<div class="btn-group dropdown" uib-dropdown="">
					<button type="button" class="btn btn-default dropdown-toggle" uib-dropdown-toggle="" aria-haspopup="true" aria-expanded="false">
						<i class="glyphicon glyphicon-share-alt"></i>&nbsp;导出&nbsp;<span class="caret"></span>
					</button>
					<ul uib-dropdown-menu="" class="ng-scope dropdown-menu">
						<li><a href="">按上新模板</a></li>
						<li><a href="">按价格修改模板</a></li>
						<li><a href="">按专场模板</a></li>
					</ul>
				</div>
				<div class="btn-group dropdown" uib-dropdown="">
					<button type="button" class="btn btn-default dropdown-toggle" uib-dropdown-toggle="" aria-haspopup="true" aria-expanded="false">
						<i class="fa fa-arrow-circle-right"></i>&nbsp;全量操作&nbsp;<span class="caret"></span>
					</button>
					<ul uib-dropdown-menu="" class="ng-scope dropdown-menu">
						<li><a href="">全量清空</a></li>
						<li><a href="">全量上传</a></li>
						<li><a href="">全量同步价格</a></li>
						<li><a href="">全量Deal延期</a></li>
					</ul>
				</div>
				<div class="btn-group dropdown" uib-dropdown="">
					<button type="button" class="btn btn-default dropdown-toggle" uib-dropdown-toggle="" aria-haspopup="true" aria-expanded="false">
						<i class="fa fa-arrow-circle-right"></i>&nbsp;批量操作&nbsp;<span class="caret"></span>
					</button>
					<ul uib-dropdown-menu="" class="ng-scope dropdown-menu">
						<li><a href="">批量清空</a></li>
						<li><a href="">批量上传</a></li>
						<li><a href="">批量同步价格</a></li>
						<li><a href="">批量Deal延期</a></li>
						<li><a href="">批量变更属性</a></li>
					</ul>
				</div>
				<div class="btn-group dropdown" uib-dropdown="" ng-controller="popupCtrl">
					<button type="button" class="btn btn-default dropdown-toggle" uib-dropdown-toggle="" aria-haspopup="true" aria-expanded="false">
						<i class="fa fa-arrow-circle-right"></i>&nbsp;专场变更&nbsp;<span class="caret"></span>
					</button>
					<ul uib-dropdown-menu="" class="ng-scope dropdown-menu">
						<li><a href=""  ng-click="openJmPromotionDetail('md')">编辑专场</a></li>
						<li><a href="">同步专场</a></li>
					</ul>
				</div>
			</div>
			<tabset class="tab-container vo_nav-tabs">
				<tab>
					<tab-heading>Product 详情</tab-heading>
			    <div class="table-responsive">
				<table class="table table-hover-new vo_table dropdown_table_main" style="width:1800px;margin-bottom:0px" ng-controller="popupCtrl">
					<thead>
					<tr>
						<th class="mfb-xt3 text-left"><label class="checkbox-inline c-checkbox"><input type="checkbox"><span class="fa fa-check"></span></label>
						</th>
						<!--<th class="text-center">产品</th>-->
						<th class="mfb-xxx text-left">聚美类目</th>
						<th class="text-center">PC模块ID</th>
						<th class="text-center">APP模块ID</th>
						<th class="text-center">聚美产品ID</th>
						<th class="text-center">Product Code</th>
						<th>聚美Hash ID</th>
						<th>长标题</th>
						<th>短标题</th>
						<th>Price</th>
						<th>最新团购价</th>
						<th>Color</th>
						<th>折扣</th>
						<th>SKU数</th>
						<th>Status</th>
						<th>Action</th>
					</tr>
					</thead>
					<tbody ng-if="vm.modelList.length">
					<tr ng-repeat="model in vm.modelList">
						<td class="mfb-xt3 text-left"><label class="checkbox-inline c-checkbox"><input type="checkbox"><span class="fa fa-check"></span></label></td>
						<!--<td class="text-center"><img alt="100001" class="img-circle"></td>-->
						<td class="mfb-xxx text-left">{{model.categoryLv1Name}}</td>
						<td class="text-center">{{model.pcId}}</td>
						<td class="text-center">{{model.appId}}</td>
						<td class="text-center">{{model.juMeiProductId}}</td>
						<td class="text-center">
							<button class="btn btn-default btn-xs" ng-click="openJmProductDetail('lg')">{{model.productCode}}</button>
						</td>
						<td>{{model.jmHashId}}</td>
						<td>{{model.productLongName}}</td>
						<td>{{model.productShortName}}</td>
						<td>
							<div class="table_main">
								<ul>
									<li>MSRP: {{model.msrp}}</li>
									<li>Retail Price：{{model.dealPrice}}</li>
									<li>Sale Price: {{model.marketPrice}}</li>
								</ul>
							</div>
						</td>
						<td><input ng-model="model.msrp"/></td>
						<td>
							<div class="table_main">
							<ul>
								<li>{{model.colorEn}}</li>
								<li>{{model.attribute}}</li>
							</ul>
						   </div>
						</td>
						<td>{{model.discount}}</td>
						<td>
							<small ng-controller="showPopoverCtrl" popover-html="showInfo([&quot;1、CMS size《--》聚美尺码：SKU《--》聚美SKU&quot;,&quot;2、CMS size《--》聚美尺码：SKU《--》聚美SKU&quot;,&quot;3、CMS size《--》聚美尺码：SKU《--》聚美SKU&quot;])" popover-trigger="mouseenter" popover-placement="left" class="ng-scope">
								<div class="table_main">
									<ul>
									   <li>{{model.skuCount}}</li>
								    </ul>
								</div>
							</small>
						</td>
						<td>{{model.state=="1"?"待再售":"在售"}}</td>
						<td>
							<button title="重刷" class="btn btn-success btn-xs"><i class="fa fa-refresh"></i></button>
							<button title="编辑" class="btn btn-success btn-xs" ng-click="openJmPromotionDetail('md')"><i class="fa fa-pencil"></i></button>
							<button title="保存" class="btn btn-vo btn-xs"><i class="glyphicon glyphicon-floppy-disk"></i></button>
							<button title="删除" class="btn btn-danger btn-xs"><i class="fa fa-trash-o"></i></button>
						</td>
					</tr>
					</tbody>
				</table>
			</div>
		</tab>

		<tab  ng-click="selectImport()">
			<tab-heading>导入任务一览</tab-heading>
			<div class="table-responsive">
				<table class="table table-hover-new vo_table">
					<thead>
					<tr>
						<th class="text-center">导出文件名</th>
						<th class="text-center">成功件数</th>
						<th class="text-center">失败件数</th>
						<th class="text-center">导入开始时间</th>
						<th class="text-center">导入结束时间</th>
						<th class="text-center">异常信息Code</th>
						<th class="text-center">操作</th>
					</tr>
					</thead>
					<tbody ng-if="vm.cmsBtJmPromotionImportTaskList.length">
					<tr  ng-repeat="model in vm.cmsBtJmPromotionImportTaskList">
						<td class="text-center">{{model.fileName}}</td>
						<td class="text-center">{{model.successRows}}</td>
						<td class="text-center">{{model.failuresRows}}</td>
						<td class="text-center">{{model.beginTime}}</td>
						<td class="text-center">{{model.endTime}}</td>
						<td class="text-center">{{model.errorMsg}}</td>
						<td class="text-center"><button title="下载" ng-click="downloadImportExcel(model.id)" class="btn btn-danger btn-xs"><i class="fa fa-download"></i></button></td>
					</tr>
					</tbody>
				</table>
			</div>
		</tab>
				<tab ng-click="selectExport()" >
					<tab-heading>导出任务一览</tab-heading>
					<div class="table-responsive">
						<table class="table table-hover-new vo_table">
							<thead>
							<tr>
								<th class="text-center">导出文件名</th>
								<th class="text-center">成功件数</th>
								<th class="text-center">导入开始时间</th>
								<th class="text-center">导入结束时间</th>
								<th class="text-center">异常信息Code</th>
								<th class="text-center">操作</th>
							</tr>
							</thead>
							<tbody ng-if="vm.cmsBtJmPromotionExportTaskList.length">
							<tr  ng-repeat="model in vm.cmsBtJmPromotionExportTaskList">
								<td class="text-center">{{model.fileName}}</td>
								<td class="text-center">{{model.successRows}}</td>
								<td class="text-center">{{model.beginTime}}</td>
								<td class="text-center">{{model.endTime}}</td>
								<td class="text-center">{{model.errorMsg}}</td>
								<td class="text-center"><button title="下载" ng-click="downloadExportExcel(model.id);" class="btn btn-danger btn-xs"><i class="fa fa-download"></i></button></td>
							</tr>
							</tbody>
						</table>
					</div>
				</tab>
		</tabset>
		</div>
		<!--<div class="m-t-xs">-->
			<!--<vpagination config="vm.errorPageOption"></vpagination>-->
		<!--</div>-->
	</div>
</div><!-- end .wrapper-md -->