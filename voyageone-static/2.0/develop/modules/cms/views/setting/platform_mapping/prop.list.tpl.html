<div class="wrapper-md" ng-controller="platformPropMappingController as ctrl" ng-init="ctrl.init()">
    <tabset class="tab-container vo_nav-tabs">
        <div class="form-inline pull-right">
            <select class="form-control m-r-xxs" title="必填情况"
                    ng-model="ctrl.selected.required"
                    ng-options="v as k for (k, v) in ctrl.options.required"
                    ng-change="ctrl.filteringData()">
            </select>
            <select class="form-control m-r-xxs" title="设定情况"
                    ng-model="ctrl.selected.matched"
                    ng-options="v as k for (k, v) in ctrl.options.matched"
                    ng-change="ctrl.filteringData()">
            </select>
            <input type="text" placeholder="快速检索" class="form-control">
            <button class="btn btn-default" ng-click="clear()"><i class="fa fa-remove"></i>&nbsp;{{'BTN_CLEAR' | translate}}</button>
            <button type="submit" class="btn btn-vo btn-xxs"><i class="fa fa-search"></i></button>
        </div>
        <div class="form-inline pull-right m-r-sm">
            <label class="m-t-xs col-sm-6">匹配完成?</label>
            <div class="col-sm-6 text-left">
                <div class="onoffswitch">
                    <input type="checkbox" class="onoffswitch-checkbox" id="check1"
                           ng-true-value="1" ng-false-value="0"
                           ng-change="ctrl.saveMatchOver()" ng-model="ctrl.platform.matchOver">
                    <label class="onoffswitch-label" for="check1">
                        <span class="onoffswitch-inner"></span>
                        <span class="onoffswitch-switch"></span>
                    </label>
                </div><!-- onoff switch -->
            </div>
        </div>
        <tab>
            <tab-heading>
                <span>{{ctrl.platform.category.catFullPath}}</span>
                <sup><strong>平台</strong></sup>
                <span class="fa fa-exchange"></span>
                <span>{{ctrl.maindata.category.schema.catFullPath}}</span>
                <sup><strong>主数据</strong></sup>
            </tab-heading>
            <div class="container-fluid">
                <div class="col-sm-12">
                    <div class="panel panel-default">
                        <form class="form-horizontal">
                            <div class="container-fluid" ng-controller="popupCtrl">
                                <div ng-repeat="(k, property) in ctrl.platform.properties track by property.id"
                                     ng-if="!property.hide"
                                     platform-prop="property"
                                     platform-prop-popup="ctrl.popup(property, ppPlatformMapping)"></div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </tab>
    </tabset>
</div>