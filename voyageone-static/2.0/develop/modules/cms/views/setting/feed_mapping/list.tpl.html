<div class="wrapper-md" ng-controller="feedMappingController as ctrl" ng-init="ctrl.init()">
  <div class="col-sm-12">
    <div class="form-inline m-b-sm pull-left">
      <select class="form-control m-r-xxs">
        <option>类目匹配情况(ALL)</option>
        <option>类目已匹配</option>
        <option>类目未匹配</option>
      </select>
      <select class="form-control m-r-xxs">
        <option>类目匹配属性情况(ALL)</option>
        <option>类目属性已匹配完成</option>
        <option>类目属性未匹配完成</option>
      </select>
      <input type="text" placeholder="Feed检索" class="form-control">
      <button type="submit" class="btn btn-vo btn-xxs"><i class="fa fa-search"></i></button>
    </div><!-- /right-btn -->
  </div>
  <div class="col-sm-12">
    <div class="box">
      <div class="box-body">
        <table class="table table-hover table-hover-new text-center">
          <thead>
          <tr>
            <th class="text-center">Seq.</th>
            <th class="text-left">Feed Category</th>
            <th class="text-left">Main Data Category</th>
            <th class="text-center">类目匹配</th>
            <th class="text-center">属性匹配</th>
          </tr>
          </thead>
          <tbody ng-repeat="feedCategory in ctrl.feedCategories">
          <tr ng-include="'category.td.html'"></tr>
          <tr ng-repeat="child in feedCategory.child | flatTree:'child'"
              ng-init="feedCategory = child; $isChild = true"
              ng-include="'category.td.html'"></tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <script type="text/ng-template" id="category.td.html">
    <td>{{ $isChild ? '' : ($index + 1) }}</td>
    <td class="text-left">{{ feedCategory.path }}</td>
    <td class="text-left">{{ ctrl.getDefaultMapping(feedCategory) }}</td>
    <td>
      <div class="btn-group" ng-controller="popupCtrl">
        <button ng-click="openNewcategory('lg')" class="btn btn-default btn-xs">
          <i class="glyphicon glyphicon-link"></i> 类目匹配
        </button>
        <button class="btn btn-primary btn-xs">
          <i class="fa fa-arrow-circle-up"></i> 继承
        </button>
      </div>
    </td>
    <td>
      <a href="#/setting/feed_mapping/prop" class="btn btn-default btn-xs" target="_blank"><i
          class="glyphicon glyphicon-link"></i> 类目属性匹配</a>
    </td>
  </script>
</div>