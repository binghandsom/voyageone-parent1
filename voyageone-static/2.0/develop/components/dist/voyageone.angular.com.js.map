{"version":3,"sources":["voyageone.angular.com.js","controllers/datePicker.ctrl.js","controllers/selectRows.ctrl.js","controllers/showPopover.ctrl.js","factories/dialogs.factory.js","factories/interceptor.factory.js","factories/notify.factory.js","factories/pppAutoImpl.factory.js","factories/selectRows.factory.js","factories/vpagination.factory.js","directives/dateModelFormat.directive.js","directives/enterClick.directive.js","directives/filestyle.directive.js","directives/ifNoRows.directive.js","directives/navigation.directive.js","directives/schema.directive.js","directives/voption.directive.js","directives/vpagination.directive.js","directives/vvalidator.directive.js","providers/vresources.js","services/ajax.service.js","services/cookie.service.js","services/message.service.js","services/permission.service.js","services/translate.service.js"],"names":["define","angular","module","controller","$scope","$translate","uibDatepickerPopupConfig","vm","this","formats","formatDate","formatDateTime","opened","open","currentText","instant","clearText","closeText","$event","swhich","count","preventDefault","stopPropagation","$parent","datePicker","length","i","push","forEach","object","index","selectAll","selectOne","isAllSelected","objectList","id","selAllFlag","currPageRows","selFlag","hasOwnProperty","tempList","_","pluck","selList","indexOf","splice","currentId","isEqual","undefined","showInfo","values","tempHtml","data","factory","$uibModal","$filter","$templateCache","templateName","template","put","tran","translationId","options","isObject","content","title","modalInstance","templateUrl","scope","extend","size","close","dismiss","ok","$dialogs","isAlert","vConfirm","UNKNOWN_CODE","CODE_SYS_REDIRECT","MSG_TIMEOUT","autoRedirect","res","code","location","href","redirectTo","sessionTimeout","unknownException","response","window","$$lastUnknow","console","error","message","request","config","result","requestError","responseError","$httpProvider","interceptors","notify","isString","$","success","className","warning","danger","$q","$modal","declares","viewBaseUrl","jsBaseUrl","$$$","impl","declarePopupMethods","popupBaseKey","each","declare","parentDir","popupKey","isArray","clone","pathBase","controllerUrl","controllerAs","getControllerName","context","resolve","defer","require","promise","key","replace","m","m1","toUpperCase","toLowerCase","_selectRowsInfo","value","clearCurrPageRows","selectRowsInfo","_pages","_lastTotal","_showPages","getTotal","total","getCurr","pageNo","curr","start","getCurrStartItems","end","getCurrEndItems","isFirst","isLast","pages","createShowPages","isShowStart","isShowEnd","goPage","load","getPageCount","getPages","isCurr","page","fetch","minPage","maxPage","showPageNo","parseInt","currEndItems","directive","restrict","link","elem","attrs","ngModel","$parsers","viewValue","dateModelFormat","attr","element","on","e","keyCode","selectExp","enterClick","targetElem","handler","triggerHandler","document","querySelector","$eval","$element","classInput","filestyle","$compile","tempNoDataKey","get","$$data","$watch","find","remove","append","el","_window","_mb","wrap","next","backdrop","trigger","_this","parent","siblings","toggleClass","is","width","removeClass","target","top","w_h","height","offset","min","closest","addClass","position","css","appendTo","off","insertAfter","fieldTypes","INPUT","DATE","DATETIME","TEXTAREA","SINGLE_CHECK","RADIO","MULTI_INPUT","MULTI_CHECK","COMPLEX","MULTI_COMPLEX","LABEL","ruleTypes","VALUE_TYPE_RULE","REQUIRED_RULE","DISABLE_RULE","READ_ONLY_RULE","REGEX_RULE","SET_RULE","TIP_RULE","DEV_TIP_RULE","MIN_LENGTH_RULE","MAX_LENGTH_RULE","MIN_VALUE_RULE","MAX_VALUE_RULE","MIN_INPUT_NUM_RULE","MAX_INPUT_NUM_RULE","MIN_DECIMAL_DIGITS_RULE","MAX_DECIMAL_DIGITS_RULE","MIN_TARGET_SIZE_RULE","MAX_TARGET_SIZE_RULE","MIN_IMAGE_SIZE_RULE","MAX_IMAGE_SIZE_RULE","valueTypes","TEXT","DECIMAL","INTEGER","LONG","TIME","URL","HTML","templates","header","label","input","date","datetime","textarea","select","radio","checkbox","multiComplex","complex","multi_in_complex","multiComplex_tip","SchemaHeader","Schema","isRequired","isMultiComplex","isComplex","tipMsg","prototype","type","name","rowNum","checkValues","html","notShowEdit","join","transclude","field","rules","rule","showHtmlData","copy","addField","newFieldMap","fields","complexValues","fieldMap","bindToController","$$hastip","$$complex","$$notShowEdit","refresh","$valid","schema","_setCheckValues","_resetMultiComplex","_resetComplex","_valueTypeRule","_requiredRule","_disableRule","_readOnlyRule","_regexRule","_tipRule","_minLengthRule","_maxLengthRule","_minValueRule","_maxValueRule","_minInputNumRule","_maxInputNumRule","checkboxValue","contains","obj","isSelected","delField","tempValues","tempFieldMap","tempField","complexValue","isEmpty","defaultComplexValue","valueTypeRule","requiredRule","disableRule","dependGroup","readOnlyRule","regexRule","tipRule","minLengthRule","isNaN","exProperty","unit","maxLengthRule","minValueRule","parseFloat","maxValueRule","minInputNumRule","maxInputNumRule","templateKey_select","typeList","vpagination","templateKey","templateKeyNoData","defConfig","$$configNameForA","$$configNameForE","userConfigName","userConfig","userWithDefConfig","p","num","Number","totalPages","totalItems","elm","ctrl","maxlength","$observe","intVal","$validate","$validators","modelValue","$isEmpty","getByteLength","byteLen","len","charCodeAt","minlength","maxvalue","test","Date","minvalue","maxinputnum","mininputnum","provider","$provide","getActionUrl","root","action","lastIndexOf","closureDataService","actions","ajaxService","DataResource","log","JSON","stringify","actionUrl","post","service","$get","register","childName","run","$vresources","$actions","$Ajax","$inject","AjaxService","$http","blockUI","url","then","alert","reject","$ajax","messageService","show","CookieService","keys","language","company","channel","application","gentProps","val","arguments","set","$cookieStore","removeAll","MessageService","DISPLAY_TYPES","ALERT","NOTIFY","POP","CUSTOM","confirm","displayType","PermissionService","$rootScope","permissions","setPermissions","$broadcast","has","permission","trim","TranslateService","languages","en","zh","setLanguage","getBrowserLanguage","use","currentLang","navigator","browserLanguage","substr"],"mappings":"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","file":"voyageone.angular.com.js","sourcesContent":["define(function(){\n/**\n * @Description:\n * 弹出日期控件\n * @User:    Edward\n * @Version: 0.2.0, 2015-10-10\n */\n\nangular.module('voyageone.angular.controllers.datePicker', [])\n    .controller('datePickerCtrl', [\"$scope\", \"$translate\", \"uibDatepickerPopupConfig\", function ($scope, $translate, uibDatepickerPopupConfig) {\n        var vm = this;\n\n        vm.formats = ['yyyy-MM-dd', 'yyyy-MM-dd HH:mm:ss'];\n\n        $scope.formatDate = vm.formats[0];\n        $scope.formatDateTime = vm.formats[1];\n        $scope.opened = false;\n\n        $scope.open = open;\n        uibDatepickerPopupConfig.currentText = $translate.instant('BTN_TODAY');\n        uibDatepickerPopupConfig.clearText = $translate.instant('BTN_CLEAR');\n        uibDatepickerPopupConfig.closeText = $translate.instant('BTN_CLOSE');\n\n        function open($event, swhich, count) {\n            $event.preventDefault();\n            $event.stopPropagation();\n\n            // 如果该数组未空,则初始化数组\n            if ($scope.$parent.datePicker.length == 0) {\n                for(var i = 0; i < count; i++) {\n                    if (swhich == i)\n                        $scope.$parent.datePicker.push({opened: true});\n                    else\n                        $scope.$parent.datePicker.push({opened: false});\n                }\n            }\n            // 关闭其他日期控件画面\n            else {\n                angular.forEach($scope.$parent.datePicker, function (object, index) {\n                    if (swhich == index)\n                        object.opened = !object.opened;\n                    else\n                        object.opened = false;\n                });\n            }\n        }\n    }]);\n/**\n * @Description:\n * select tables items\n * @User: linanbin\n * @Version: 2.0.0, 15/12/16\n */\n\nangular.module('voyageone.angular.controllers.selectRows', [])\n    .controller('selectRowsCtrl', [\"$scope\", function ($scope) {\n\n        $scope.selectAll = selectAll;\n        $scope.selectOne = selectOne;\n        $scope.isAllSelected = isAllSelected;\n\n        /**\n         * 全部选中当前页数据\n         * @param objectList\n         */\n        function selectAll(objectList, id) {\n\n            objectList.selAllFlag = !objectList.selAllFlag;\n            if(!id){\n                id=\"id\";\n            }\n\n            // 循环处理全选中的数据\n            angular.forEach(objectList.currPageRows, function (object) {\n\n                // 单签页面所有产品选中flag被标示\n                objectList.selFlag[object[id]] = objectList.selAllFlag;\n\n                if (objectList.hasOwnProperty('selList')) {\n\n                    var tempList = _.pluck(objectList.selList, id);\n                    if (objectList.selAllFlag && tempList.indexOf(object[id]) < 0) {\n                        objectList.selList.push(object);\n                    } else if (!objectList.selAllFlag && tempList.indexOf(object[id]) > -1) {\n                        objectList.selList.splice(tempList.indexOf(object[id]), 1);\n                    }\n                }\n            });\n        }\n\n        /**\n         * 选中单条数据\n         * @param currentId\n         * @param objectList\n         */\n        function selectOne(currentId, objectList, id) {\n            if(!id){\n                id=\"id\";\n            }\n            if (objectList.hasOwnProperty('selList')) {\n\n                angular.forEach(objectList.currPageRows, function(object) {\n\n                    var tempList = _.pluck(objectList.selList, id);\n                    if (_.isEqual(object[id], currentId)) {\n                        if (tempList.indexOf(object[id]) > -1) {\n                            objectList.selList.splice(tempList.indexOf(object[id]), 1);\n                        } else {\n                            objectList.selList.push(object);\n                        }\n                    }\n                });\n            }\n\n            objectList.selAllFlag = true;\n            tempList = _.pluck(objectList.selList, id);\n            angular.forEach(objectList.currPageRows, function(object) {\n                if (tempList.indexOf(object[id]) == -1) {\n                    objectList.selAllFlag = false;\n                }\n            })\n        }\n\n        /**\n         * 判断当前页是否为全选中\n         * @param objectList\n         * @param id\n         */\n        function isAllSelected (objectList, id) {\n            if(!id){\n                id=\"id\";\n            }\n\n            if (objectList != undefined) {\n\n                objectList.selAllFlag = true;\n                var tempList = _.pluck(objectList.selList, id);\n                angular.forEach(objectList.currPageRows, function(object) {\n                    if (tempList.indexOf(object[id]) == -1) {\n                        objectList.selAllFlag = false;\n                    }\n                });\n                return objectList.selAllFlag;\n            }\n\n            return false;\n        }\n    }]);\n/**\n * @Description:\n * 显示html的popover的共同方法\n * @User: linanbin\n * @Version: 2.0.0, 15/12/14\n */\n\nangular.module('voyageone.angular.controllers.showPopover', [])\n    .controller('showPopoverCtrl', [\"$scope\", function ($scope) {\n\n        $scope.showInfo = showInfo;\n\n        function showInfo(values) {\n            var tempHtml = \"\";\n\n            angular.forEach(values, function (data, index) {\n                tempHtml += data;\n                if (index !== values.length) {\n                    tempHtml += \"<br>\";\n                }\n            });\n            return tempHtml\n        }\n    }]);\n\n/**\n * @User: Jonas\n * @Date: 2015-3-31 14:39:26\n * @Version: 2.0.0\n */\n\nangular.module('voyageone.angular.factories.dialogs', [])\n    .factory(\"$dialogs\", [\"$uibModal\", \"$filter\", \"$templateCache\", function ($uibModal, $filter, $templateCache) {\n\n        var templateName = 'voyageone.angular.factories.dialogs.tpl.html';\n        var template =\n            '<div class=\"vo_modal\">' +\n                '<div class=\"modal-header\">' +\n                    '<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"close()\">' +\n                        '<span aria-hidden=\"true\"><i ng-click=\"close()\" class=\"fa fa-close\"></i></span>' +\n                    '</button>' +\n                    '<h5 class=\"modal-title\" ng-bind-html=\"title\"></h5>' +\n                '</div>' +\n                '<div class=\"modal-body wrapper-lg\">' +\n                    '<div class=\"row\">' +\n                        '<h5 class=\"text-center text-hs\"><p class=\"text-center\" ng-bind-html=\"content\"></p></h5>' +\n                    '</div>' +\n                '</div>' +\n                '<div class=\"modal-footer\">' +\n                    '<button class=\"btn btn-default btn-sm\" ng-if=\"!isAlert\" ng-click=\"close()\" translate=\"BTN_CANCEL\"></button>' +\n                    '<button class=\"btn btn-vo btn-sm\" ng-click=\"ok()\" translate=\"BTN_OK\"></button>' +\n                '</div>' +\n            '</div>';\n        $templateCache.put(templateName, template);\n\n        function tran(translationId, values) {\n            return $filter('translate')(translationId, values);\n        }\n\n        return function (options) {\n\n            if (!_.isObject(options)) throw \"arg type must be object\";\n\n            var values;\n\n            if (_.isObject(options.content)) {\n                values = options.content.values;\n                options.content = options.content.id;\n            }\n\n            options.title = tran(options.title);\n            options.content = tran(options.content, values);\n\n            var modalInstance = $uibModal.open({\n                templateUrl: templateName,\n                controller: [\"$scope\", function (scope) {\n                    _.extend(scope, options);\n                }],\n                size: 'md'\n            });\n\n            options.close = function () {\n                modalInstance.dismiss('close')\n            };\n\n            options.ok = function () {\n                modalInstance.close('');\n            };\n\n            return modalInstance;\n        };\n    }])\n\n    .factory(\"alert\", [\"$dialogs\", function ($dialogs) {\n        return function (content, title) {\n            return $dialogs({\n                title: title || 'TXT_ALERT',\n                content: content,\n                isAlert: true\n            });\n        };\n    }])\n\n    .factory(\"confirm\", [\"$dialogs\", function vConfirm($dialogs) {\n        return function (content, title) {\n            return $dialogs({\n                title: title || 'TXT_CONFIRM',\n                content: content,\n                isAlert: false\n            });\n        };\n    }]);\n/**\n * @Date:    2015-11-16 20:51:05\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.factories.interceptor', [])\n    .factory('interceptorFactory', function () {\n\n        // 未知的系统错误\n        var UNKNOWN_CODE = \"5\";\n        // 和 JAVA 同步,系统通知前端自动跳转的特殊代码\n        var CODE_SYS_REDIRECT = \"SYS_REDIRECT\";\n        // 和 JAVA 同步,回话过期的信息\n        var MSG_TIMEOUT = \"300001\";\n\n        /**\n         * 对系统自动跳转的响应,执行跳转\n         * @param {{code:string,redirectTo:string}} res\n         * @returns {boolean}\n         */\n        function autoRedirect(res) {\n            if (res.code != CODE_SYS_REDIRECT) {\n                return false;\n            }\n            // 如果跳转数据异常,则默认跳转登陆页\n            location.href = res.redirectTo || '/login.html';\n            return true;\n        }\n\n        /**\n         * 对会话超时和未登录进行特殊处理\n         * @param {{code:string}} res\n         * @returns {boolean}\n         */\n        function sessionTimeout(res) {\n            if (res.code != MSG_TIMEOUT) {\n                return false;\n            }\n            // 会话超时,默认跳转到登陆页\n            location.href = '/login.html';\n            return true;\n        }\n\n        /**\n         * 处理位置的异常\n         * @param response\n         */\n        function unknownException(response) {\n\n            if (response.data.code !== UNKNOWN_CODE) {\n                return;\n            }\n\n            window.$$lastUnknow = response;\n            console.error('Server throw unknown exceptio. Message:', response.data.message);\n        }\n\n        return {\n            request: function (config) {\n                return config;\n            },\n            /**\n             * 响应拦截\n             * @param {{config:object, data:*, headers:function, status:number, statusText:string}} res\n             * @returns {*}\n             */\n            response: function (res) {\n                var result = res.data;\n\n                // 特殊处理部分内容\n                if (autoRedirect(result) || sessionTimeout(result)) {\n                    return res;\n                }\n\n                unknownException(res);\n\n                return res;\n            },\n            requestError: function (config) {\n                return config;\n            },\n            responseError: function (res) {\n            }\n        };\n    })\n    .config([\"$httpProvider\", function ($httpProvider) {\n        $httpProvider.interceptors.push('interceptorFactory');\n    }]);\n/**\n * Notify 的可用参数\n * {\n *    // whether to hide the notification on click\n *    clickToHide: true,\n *    // whether to auto-hide the notification\n *    autoHide: true,\n *    // if autoHide, hide after milliseconds\n *    autoHideDelay: 5000,\n *    // show the arrow pointing at the element\n *    arrowShow: true,\n *    // arrow size in pixels\n *    arrowSize: 5,\n *    // position defines the notification position though uses the defaults below\n *    position: '...',\n *    // default positions\n *    elementPosition: 'bottom left',\n *    globalPosition: 'top right',\n *    // default style\n *    style: 'bootstrap',\n *    // default class (string or [string])\n *    className: 'error',\n *    // show animation\n *    showAnimation: 'slideDown',\n *    // show animation duration\n *    showDuration: 400,\n *    // hide animation\n *    hideAnimation: 'slideUp',\n *    // hide animation duration\n *    hideDuration: 200,\n *    // padding between element and notification\n *    gap: 2\n * }\n * @User: Jonas\n * @Date: 2015-3-31 14:39:26\n * @Version: 2.0.0\n */\n\nangular.module('voyageone.angular.factories.notify', [])\n\n    .factory('notify', [\"$filter\", function ($filter) {\n\n        /**\n         * @ngdoc function\n         * @name voNotify\n         * @description\n         * 自动关闭的弹出提示框\n         */\n        function notify(options) {\n\n            if (!options) return;\n            if (_.isString(options)) options = {message: options};\n            if (!_.isObject(options)) return;\n\n            var values;\n\n            // 为 translate 的格式化提供支持，检测类型并转换\n            if (_.isObject(options.message)) {\n\n                values = options.message.values;\n                options.message = options.message.id;\n            }\n\n            options.message = $filter('translate')(options.message, values);\n\n            return $.notify(options.message, options);\n        }\n\n        notify.success = function (message) {\n            return notify({message: message, className: \"success\"});\n        };\n\n        notify.warning = function (message) {\n            return notify({message: message, className: \"warning\"});\n        };\n\n        notify.danger = function (message) {\n            return notify({message: message, className: \"danger\"});\n        };\n\n        return notify;\n    }]);\n/**\n * @ngdoc\n * @factory\n * @name pppAutoImpl\n * @description\n * 根据定义自动生成方法实现. 注意! 依赖 ui-bootstrap\n */\n\nangular.module('voyageone.angular.factories.pppAutoImpl', [])\n    .factory('pppAutoImpl', [\"$q\", \"$modal\", function ($q, $modal) {\n        return function (declares, viewBaseUrl, jsBaseUrl) {\n            if (!declares.$$$ || !declares.$$$.impl)\n                declares.$$$ = {\n                    impl: declarePopupMethods(declares, viewBaseUrl, jsBaseUrl, '')\n                };\n            return declares.$$$.impl;\n        };\n\n        function declarePopupMethods(declares, viewBaseUrl, jsBaseUrl, popupBaseKey) {\n            var impl = {};\n            if (popupBaseKey) popupBaseKey += '/';\n            _.each(declares, function (declare, parentDir) {\n                if (!declare.popupKey) {\n                    if (_.isObject(declare) || _.isArray(declare)) _.extend(impl,\n                        declarePopupMethods(declare,\n                            viewBaseUrl, jsBaseUrl, popupBaseKey + parentDir,\n                            $q, $modal));\n                    return;\n                }\n\n                var options = _.clone(declare.options) || {};\n\n                var pathBase = '/' + popupBaseKey;\n                if (_.isString(parentDir)) pathBase += parentDir + '/';\n                pathBase += declare.popupKey;\n\n                options.templateUrl = viewBaseUrl + pathBase + '.tpl.html';\n                options.controllerUrl = jsBaseUrl + pathBase + '.ctl';\n\n                if (declare.controllerAs || declare.controller)\n                    options.controller = getControllerName(declare.popupKey);\n                if (declare.controllerAs)\n                    options.controller += ' as ' + (_.isString(declare.controllerAs) ? declare.controllerAs : 'ctrl');\n\n                impl[declare.popupKey] = function (context) {\n                    if (context) options.resolve = {\n                        context: function () {\n                            return context;\n                        }\n                    };\n\n                    var defer = $q.defer();\n                    require([options.controllerUrl], function () {\n                        defer.resolve($modal.open(options).result);\n                    });\n                    return defer.promise;\n                };\n            });\n            return impl;\n        }\n\n        function getControllerName(key) {\n            return key\n                    .replace(/\\.(\\w)/g, function (m, m1) {\n                        return m1.toUpperCase();\n                    })\n                    .replace(/^(\\w)/, function (m, m1) {\n                        return m1.toLowerCase()\n                    }) + 'PopupController';\n        }\n    }]);\n/**\n * @Description:\n *\n * @User: linanbin\n * @Version: 2.0.0, 16/1/11\n */\n\nangular.module('voyageone.angular.factories.selectRows', [])\n\n    // selectRowsFactory\n    .factory('selectRowsFactory', function () {\n        return function (config) {\n            var _selectRowsInfo = config ? config : {\n                selAllFlag: false,\n                currPageRows: [],// [{id: \"12345\"}], [{id: \"123456\", name: \"test1\"}]\n                selFlag:[], // [{\"12345\": true}, {\"12346\": false}]\n                selList: [] // [{id: \"12345\"}], [{id: \"123456\", name: \"test1\"}]\n            };\n\n            this.selAllFlag = function (value) {\n                return value !== undefined ? _selectRowsInfo.selAllFlag = value : _selectRowsInfo.selAllFlag;\n            };\n\n            this.clearCurrPageRows = function () {\n                _selectRowsInfo.currPageRows = [];\n            };\n\n            this.currPageRows = function (value) {\n                return value !== undefined ? _selectRowsInfo.currPageRows.push(value) : _selectRowsInfo.currPageRows;\n            };\n\n            this.selFlag = function (value) {\n                return value !== undefined ? _selectRowsInfo.selFlag.push(value) : _selectRowsInfo.selFlag;\n            };\n\n            this.selList = function (value) {\n                return value !== undefined ? _selectRowsInfo.selList.push(value) : _selectRowsInfo.selList;\n            };\n\n            this.selectRowsInfo = _selectRowsInfo;\n        }\n    });\n/**\n * @User: Edward\n * @Version: 2.0.0, 2015-12-09\n */\n\nangular.module('voyageone.angular.factories.vpagination', [])\n    .factory('vpagination', function () {\n\n        /**\n         * 创建一个分页服务\n         * @param {{ curr: number, size: number, total: number, fetch: function }} config 配置\n         */\n        return function (config) {\n\n            var _pages, _lastTotal = 0, _showPages = [];\n\n            /**\n             * 返回总件数\n             * @returns {*}\n             */\n            this.getTotal = function () {\n                return config.total;\n            };\n\n            /**\n             * 返回当前页的开始和结束号\n             * @returns {{start: number, end: number}}\n             */\n            this.getCurr = function () {\n                return {\n                    pageNo: curr(),\n                    start: getCurrStartItems(),\n                    end: getCurrEndItems(),\n                    isFirst: isFirst(),\n                    isLast: isLast(),\n                    pages: createShowPages(),\n                    isShowStart: isShowStart(),\n                    isShowEnd: isShowEnd()\n                }\n            };\n\n            // 跳转到指定页\n            this.goPage = load;\n            // 返回总页数\n            this.getPageCount = getPages;\n            // 是否是当前页\n            this.isCurr = isCurr;\n\n            /**\n             * 跳转到指定页\n             * @param {number} page 页号\n             */\n            function load(page) {\n                page = page || config.curr;\n\n                if (page < 1 || page > getPages() || isCurr(page)) return;\n\n                config.curr = page;\n\n                config.fetch(page, config.size);\n            }\n\n            /**\n             * 初始化page列表\n             * @returns {Array}\n             */\n            function createShowPages () {\n\n                var minPage, maxPage, _showPages= [];\n                if (config.curr < config.showPageNo) {\n                    minPage = 1;\n                    if(_pages <= config.showPageNo) maxPage = _pages;\n                    else maxPage = config.showPageNo;\n                } else if (config.curr + 2 > _pages) {\n                    minPage = _pages + 1 - config.showPageNo;\n                    maxPage = _pages;\n                } else {\n                    minPage = config.curr + 3 - config.showPageNo;\n                    maxPage = config.curr + 2;\n                }\n\n                // 按照指定数量创建按钮\n                for (var i =  minPage; i <= maxPage; i++) {\n                    //scope.pages.push({num: 1, active: \"\", show: false});\n                    _showPages.push(i);\n                }\n\n                return _showPages;\n            }\n\n            /**\n             * 获取当前总页数\n             * @returns {number}\n             */\n            function getPages() {\n                if (_lastTotal != config.total) {\n                    _pages = parseInt(config.total / config.size) + ((config.total % config.size) > 0 ? 1 : 0);\n                    _lastTotal = config.total;\n                }\n                return _pages;\n            }\n\n            /**\n             * 返回当前页的起始号\n             * @returns {number}\n             */\n            function getCurrStartItems() {\n                return (config.curr - 1) * config.size + 1\n            }\n\n            /**\n             * 返回当前页的结束号\n             * @returns {number}\n             */\n            function getCurrEndItems() {\n                var currEndItems = config.curr * config.size;\n                return currEndItems <= config.total ? currEndItems : config.total;\n\n            }\n\n            /**\n             * 是否是最后一页\n             * @returns {boolean}\n             */\n            function isLast() {\n                return config.curr == getPages();\n            }\n\n            /**\n             * 是否是第一页\n             * @returns {boolean}\n             */\n            function isFirst() {\n                return config.curr == 1;\n            }\n\n            /**\n             * 是否是当前页\n             * @param page 页码\n             * @returns {boolean}\n             */\n            function isCurr(page) {\n                return config.curr == page;\n            }\n\n            function curr() {\n                return config.curr;\n            }\n\n            /**\n             * 是否显示开始...项目\n             * @returns {boolean}\n             */\n            function isShowStart () {\n                _showPages = createShowPages();\n                return _showPages[0] > 1\n            }\n\n            /**\n             * 是否显示结束...项目\n             * @returns {boolean}\n             */\n            function isShowEnd () {\n                _showPages = createShowPages();\n                return _showPages[_showPages.length - 1] < _pages;\n            }\n\n        };\n    });\n/**\n * @Date: 2015-11-19 15:13:02\n * @User: Jonas\n * @Version: 2.0.0\n */\n\nangular.module('voyageone.angular.directives.dateModelFormat', [])\n    .directive('dateModelFormat', [\"$filter\", function ($filter) {\n        return {\n            restrict: \"A\",\n            require: 'ngModel',\n            link: function (scope, elem, attrs, ngModel) {\n                ngModel.$parsers.push(function (viewValue) {\n                    return $filter('date')(viewValue, attrs.dateModelFormat || 'yyyy-MM-dd HH:mm:ss');\n                });\n            }\n        };\n    }]);\n\n/**\n * @Date: 2015-11-19 15:13:02\n * @User: Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.directives.enterClick', [])\n    .directive('enterClick', function () {\n        return {\n            restrict: \"A\",\n            link: function (scope, elem, attr) {\n\n                angular.element(elem).on('keyup', function (e) {\n\n                    if (e.keyCode !== 13) return;\n\n                    var selectExp = attr.enterClick;\n\n                    var targetElem, handler = function () {\n                        targetElem.triggerHandler('click');\n                    };\n\n                    try {\n                        targetElem = document.querySelector(selectExp);\n                    } catch (e) {\n                        targetElem = null;\n                    }\n\n                    if (!targetElem) {\n                        // 如果取不到元素，则尝试作为表达式执行\n                        handler = function () {\n                            scope.$eval(selectExp);\n                        };\n                    } else {\n                        targetElem = angular.element(targetElem);\n                        // 如果元素存在，但是是禁用状态的，放弃执行\n                        if (targetElem.attr(\"disabled\")) return;\n                    }\n\n                    handler();\n                });\n            }\n        };\n    });\n\n/**\n * @Description:\n * 引入对上传框插件 fileStyle 的指令支持\n * @Date:    2015-11-19 17:35:22\n * @User:    Jonas\n * @Version: 2.0.0\n */\n\nangular.module('voyageone.angular.directives.fileStyle', [])\n  .directive('fileStyle', function () {\n    return {\n      restrict: 'A',\n      controller: [\"$scope\", \"$element\", function ($scope, $element) {\n        var options = $element.data();\n        // old usage support\n        options.classInput = $element.data('classinput') || options.classInput;\n        if ($element.filestyle) {\n          $element.filestyle(options);\n        }\n      }]\n    };\n  });\n/**\n * @Description:\n * table中无数据范围的数据\n * @User: linanbin\n * @Version: 2.0.0, 15/12/11\n */\n\nangular.module('voyageone.angular.directives.ifNoRows', [])\n    .directive('ifNoRows', [\"$templateCache\", \"$compile\", function ($templateCache, $compile) {\n\n        var tempNoDataKey = \"voyageone.angular.directives.ifNoRows.tpl.html\";\n\n        // 没有数据显示警告\n        if (!$templateCache.get(tempNoDataKey)) {\n            $templateCache.put(tempNoDataKey,\n            '<div class=\"text-center text-hs\" id=\"noData\">\\n' +\n            '    <h4 class=\"text-vo\"><i class=\"icon fa fa-warning\"></i>&nbsp;{{\\'TXT_ALERT\\' | translate}}</h4>\\n' +\n            '{{\\'TXT_MSG_NO_DATE\\' | translate}}' +\n            '</dv>');\n        }\n\n        return {\n            restrict: \"A\",\n            replace: false,\n            scope: {\n                $$data: \"@ifNoRows\"\n            },\n            link: function (scope, element) {\n\n                scope.$parent.$watch(scope.$$data, function () {\n\n                    // 如果数据不存在则显示警告信息\n                    if(scope.$parent.$eval(scope.$$data)  == 0) {\n                        element.find(\"#noData\").remove();\n                        element.append($compile($templateCache.get(tempNoDataKey))(scope));\n                    } else {\n                        element.find(\"#noData\").remove();\n                    }\n                })\n            }\n        };\n    }]);\n\n/**\n * @Description:\n * 用于菜单目录二级展开\n * @User:    Jonas\n * @Version: 0.2.0, 2015-12-07\n */\n\nangular.module('voyageone.angular.directives.uiNav', [])\n    .directive('uiNav', function () {\n\n        return {\n            restrict: 'AC',\n            link: function(scope, el) {\n                var _window = $(window),\n                    _mb = 768,\n                    wrap = $('.app-aside'),\n                    next,\n                    backdrop = '.dropdown-backdrop';\n                // unfolded\n                el.on('click', 'a', function(e) {\n                    next && next.trigger('mouseleave.nav');\n                    var _this = $(this);\n                    _this.parent().siblings( \".active\" ).toggleClass('active');\n                    _this.next().is('ul') &&  _this.parent().toggleClass('active') &&  e.preventDefault();\n                    // mobile\n                    _this.next().is('ul') || ( ( _window.width() < _mb ) && $('.app-aside').removeClass('show off-screen') );\n                });\n\n                // folded & fixed\n                el.on('mouseenter', 'a', function(e){\n                    next && next.trigger('mouseleave.nav');\n                    $('> .nav', wrap).remove();\n                    if ( !$('.app-aside-fixed.app-aside-folded').length || ( _window.width() < _mb ) || $('.app-aside-dock').length) return;\n                    var _this = $(e.target)\n                        , top\n                        , w_h = $(window).height()\n                        , offset = 50\n                        , min = 150;\n\n                    !_this.is('a') && (_this = _this.closest('a'));\n                    if( _this.next().is('ul') ){\n                        next = _this.next();\n                    }else{\n                        return;\n                    }\n\n                    _this.parent().addClass('active');\n                    top = _this.parent().position().top + offset;\n                    next.css('top', top);\n                    if( top + next.height() > w_h ){\n                        next.css('bottom', 0);\n                    }\n                    if(top + min > w_h){\n                        next.css('bottom', w_h - top - offset).css('top', 'auto');\n                    }\n                    next.appendTo(wrap);\n\n                    next.on('mouseleave.nav', function(e){\n                        $(backdrop).remove();\n                        next.appendTo(_this.parent());\n                        next.off('mouseleave.nav').css('top', 'auto').css('bottom', 'auto');\n                        _this.parent().removeClass('active');\n                    });\n\n                    $('.smart').length && $('<div class=\"dropdown-backdrop\"/>').insertAfter('.app-aside').on('click', function(next){\n                        next && next.trigger('mouseleave.nav');\n                    });\n\n                });\n\n                wrap.on('mouseleave', function(e){\n                    next && next.trigger('mouseleave.nav');\n                    $('> .nav', wrap).remove();\n                });\n            }\n        };\n    });\n/**\n * @Description:\n *\n * @User: linanbin\n * @Version: 2.0.0, 15/12/24\n */\n\n(function () {\n\n    var fieldTypes = {\n        INPUT: \"INPUT\",\n        DATE: \"DATE\",\n        DATETIME: \"DATETIME\",\n        TEXTAREA: \"TEXTAREA\",\n        SINGLE_CHECK: \"SINGLECHECK\",// 在complex中的显示select,以外的默认显示singlecheck,如果用户觉得select显示不方便,就将该field的type改成radio\n        RADIO: \"RADIO\",\n        MULTI_INPUT: \"MULTIINPUT\", // 没有被使用\n        MULTI_CHECK: \"MULTICHECK\",\n        COMPLEX: \"COMPLEX\", // TODO\n        MULTI_COMPLEX: \"MULTICOMPLEX\",\n        LABEL: \"LABEL\"  // 可以不显示\n    }, ruleTypes = {\n        VALUE_TYPE_RULE: \"valueTypeRule\",\n        REQUIRED_RULE: \"requiredRule\",\n        DISABLE_RULE: \"disableRule\",\n        READ_ONLY_RULE: \"readOnlyRule\",\n        REGEX_RULE: \"regexRule\",\n        SET_RULE: \"setRule\", // TODO 暂时不知道怎么用\n        TIP_RULE: \"tipRule\", // TODO 不需要处理\n        DEV_TIP_RULE: \"devTipRule\", // 不需要处理\n        MIN_LENGTH_RULE: \"minLengthRule\",\n        MAX_LENGTH_RULE: \"maxLengthRule\",\n        MIN_VALUE_RULE: \"minValueRule\",\n        MAX_VALUE_RULE: \"maxValueRule\",\n        MIN_INPUT_NUM_RULE: \"minInputNumRule\",\n        MAX_INPUT_NUM_RULE: \"maxInputNumRule\",\n        MIN_DECIMAL_DIGITS_RULE: \"minDecimalDigitsRule\", // TODO\n        MAX_DECIMAL_DIGITS_RULE: \"maxDecimalDigitsRule\", // TODO\n        MIN_TARGET_SIZE_RULE: \"minTargetSizeRule\", // TODO\n        MAX_TARGET_SIZE_RULE: \"maxTargetSizeRule\", // TODO\n        MIN_IMAGE_SIZE_RULE: \"minImageSizeRule\", // TODO\n        MAX_IMAGE_SIZE_RULE: \"maxImageSizeRule\" // TODO\n    }, valueTypes = {\n        TEXT: \"text\",\n        DECIMAL: \"decimal\",\n        INTEGER: \"integer\",\n        LONG: \"long\",\n        DATE: \"date\",\n        TIME: \"time\",\n        URL: \"url\",\n        TEXTAREA: \"textarea\",\n        HTML: \"html\"\n    }, templates = {\n        header: '<div class=\"form-group\">' +\n        '<label class=\"col-sm-2 control-label\" ng-class=\"{\\'vo_reqfield\\': showHtmlData.isRequired}\" ng-bind=\"$$data.name\"></label>' +\n        '<div class=\"col-sm-8\" ng-class=\"{\\'modal-open\\' : showHtmlData.isMultiComplex, \\'hierarchy_main\\': showHtmlData.isComplex}\" ng-transclude></div>' +\n        '<div class=\"col-sm-2\" ng-if=\"showHtmlData.isMultiComplex\"><button class=\"btn btn-success\" ng-click=\"addField($$data)\"><i class=\"fa fa-plus\"></i>{{\\'BTN_ADD\\' | translate}}</button></div>' +\n        '<div class=\"row\" ng-repeat=\"tipMsg in showHtmlData.tipMsg\"><div class=\"col-sm-8 col-sm-offset-2 text-warnings\"><i class=\"icon fa fa-bell-o\"></i>&nbsp;{{tipMsg}}</div></div>' +\n        '</div>',\n        label: '<input style=\"min-width: 150px; max-width: 250px;\" type=\"text\" readonly ng-model=\"vm.$$data.value\" class=\"form-control\">',\n        input: '<input style=\"min-width: 150px; max-width: 250px;\" ng-model=\"vm.$$data.value\" class=\"form-control\" %replaceInfo%>',\n        date: '<div class=\"input-group\" style=\"width: 180px;\" ng-controller=\"datePickerCtrl\"><input %replaceInfo% type=\"text\" class=\"form-control\" datepicker-popup=\"{{formatDate}}\" ng-model=\"$parent.vm.$$data.value\" date-model-format=\"{{formatDate}}\" is-open=\"opened\" datepicker-options=\"dateOptions\" close-text=\"Close\" /><span class=\"input-group-btn\"><button %replaceInfo% type=\"button\" class=\"btn btn-default\" ng-click=\"open($event)\"><i class=\"glyphicon glyphicon-calendar\"></i></button></span></div>',\n        datetime: '<div class=\"input-group\" style=\"width: 180px;\" ng-controller=\"datePickerCtrl\"><input %replaceInfo% type=\"text\" class=\"form-control\" datepicker-popup=\"{{formatDateTime}}\" ng-model=\"$parent.vm.$$data.value\" date-model-format=\"{{formatDateTime}}\" is-open=\"opened\" datepicker-options=\"dateOptions\" close-text=\"Close\" /><span class=\"input-group-btn\"><button %replaceInfo% type=\"button\" class=\"btn btn-default\" ng-click=\"open($event)\"><i class=\"glyphicon glyphicon-calendar\"></i></button></span></div>',\n        textarea: '<textarea style=\"min-width: 150px; max-width: 650px;\" class=\"form-control no-resize\" ng-model=\"vm.$$data.value\" rows=\"{{showHtmlData.rowNum}}\" %replaceInfo%></textarea>',\n        select: '<select style=\"min-width: 150px; max-width: 250px;\" %replaceInfo% class=\"form-control\" ng-model=\"vm.$$data.value.value\" ng-options=\"option.value as option.displayName for option in vm.$$data.options\"> <option value=\"\">{{\\'TXT_SELECT_NO_VALUE\\' | translate}}</option></select>',\n        radio: '<label class=\"checkbox-inline c-radio\" ng-repeat=\"option in vm.$$data.options\"><input name=\"{{vm.$$data.id}}\" type=\"radio\" ng-value=\"option.value\" ng-model=\"vm.$$data.value.value\"><span class=\"fa fa-check\"></span> {{option.displayName}}</label>',\n        checkbox: '<label class=\"checkbox-inline c-checkbox\" ng-repeat=\"option in vm.$$data.options\"><input type=\"checkbox\" ng-value=\"option.value\" ng-click=\"checkboxValue(option.value)\" ng-checked=\"isSelected(option.value)\"><span class=\"fa fa-check\"></span> {{option.displayName}}</label>',\n        multiComplex: '<table class=\"table text-center\">' +\n        '<thead><tr>' +\n        '<th ng-repeat=\"field in vm.$$data.fields\" ng-class=\"{\\'vo_reqfield\\': showHtmlData.isRequired}\" class=\"text-center\" style=\"min-width: 180px;\">{{field.name}}</th>' +\n        '<th ng-if=\"!showHtmlData.notShowEdit\" style=\"min-width: 60px;\" class=\"text-center\" translate=\"TXT_ACTION\"></th>' +\n        '</tr></thead>' +\n        '<tbody><tr ng-repeat=\"value in vm.$$data.complexValues\">' +\n        '<td class=\"text-left\" ng-repeat=\"field in value.fieldMap\"><div class=\"tableLayer\"><p ng-if=\"field.type != \\'COMPLEX\\'\">&nbsp;</p><p><schema-item data=\"field\" hastip=\"true\" complex=\"true\"></schema-item></p></div></td>' +\n        '<td ng-if=\"!showHtmlData.notShowEdit\" style=\"min-width: 60px;\"><button title=\"{\\'BTN_DELETE\\' | translate}\" class=\"btn btn-danger btn-xs\" ng-click=\"delField($index)\"><i class=\"fa  fa-trash-o\"></i></button></td>' +\n        '</tr></tbody>' +\n        '</table>',\n        complex: '<schema-header ng-repeat=\"field in vm.$$data.fields\" data=\"field\"><schema-item data=\"field\"></schema-item></schema-header>',\n        multi_in_complex: '<div ng-repeat=\"field in vm.$$data.fields\"><p ng-bind=\"field.name\"></p><p><schema-item data=\"field\" hastip=\"true\" complex=\"true\"></schema-item></p></div>',\n        multiComplex_tip: '<div class=\"text-warnings\" ng-repeat=\"tipMsg in showHtmlData.tipMsg\"><br><i class=\"icon fa fa-bell-o\"></i>&nbsp;{{tipMsg}}</div>'\n    };\n\n    var SchemaHeader, Schema;\n\n    SchemaHeader = function (config) {\n        this.config = config || {\n                isRequired: false,\n                isMultiComplex: false,\n                isComplex: false,\n                tipMsg: []\n            };\n    };\n\n    SchemaHeader.prototype = {\n        isRequired: function (value) {\n            return value !== undefined ? this.config.isRequired = value : this.config.isRequired;\n        },\n        isComplex: function (value) {\n            return value !== undefined ? this.config.isComplex = value : this.config.isComplex;\n        },\n        isMultiComplex: function (value) {\n            return value !== undefined ? this.config.isMultiComplex = value : this.config.isMultiComplex;\n        },\n        tipMsg: function (value) {\n            return value !== undefined ? this.config.tipMsg.push(value) : this.config.tipMsg;\n        }\n    };\n\n    Schema = function (config) {\n        this.config = config || {\n                type: null,\n                name: null,\n                rowNum: null,\n                isRequired: false,\n                checkValues: [],\n                tipMsg: [],\n                html: [],\n                notShowEdit: true\n            };\n    };\n\n    Schema.prototype = {\n        type: function (value) {\n            return value !== undefined ? this.config.type = value : this.config.type;\n        },\n        name: function (value) {\n            return value !== undefined ? this.config.name = value : this.config.name;\n        },\n        html: function (value) {\n            return value !== undefined ? this.config.html.push(value) : this.config.html.join(\" \");\n        },\n        isRequired: function (value) {\n            return value !== undefined ? this.config.isRequired = value : this.config.isRequired;\n        },\n        rowNum: function (value) {\n            return value !== undefined ? this.config.rowNum = value : this.config.rowNum;\n        },\n        tipMsg: function (value) {\n            return value !== undefined ? this.config.tipMsg.push(value) : this.config.tipMsg;\n        },\n        checkValues: function (value) {\n            return value !== undefined ? this.config.checkValues.push(value) : this.config.checkValues;\n        },\n        notShowEdit: function (value) {\n            return value !== undefined ? this.config.notShowEdit = value : this.config.notShowEdit;\n        }\n    };\n\n    angular.module('voyageone.angular.directives.schema', [])\n\n        .directive('schemaHeader', function () {\n\n            return {\n                restrict: \"E\",\n                replace: true,\n                transclude: true,\n                template: templates.header,\n                scope: {\n                    $$data: \"=data\"\n                },\n                link: function (scope) {\n\n                    var header = new SchemaHeader();\n                    var field = scope.$$data;\n\n                    // 标记特殊类型的 Field\n                    switch (field.type) {\n                        case fieldTypes.MULTI_COMPLEX:\n                            header.isMultiComplex(true);\n                            break;\n                        case fieldTypes.COMPLEX:\n                            header.isComplex(true);\n                            break;\n                    }\n\n                    // 标记提供了显示支持的规则\n                    angular.forEach(field.rules, function (rule) {\n                        switch (rule.name) {\n                            case ruleTypes.REQUIRED_RULE:\n                                header.isRequired(\"true\" == rule.value);\n                                break;\n                            case ruleTypes.TIP_RULE:\n                                header.tipMsg(rule.value);\n                                break;\n                        }\n                    });\n\n                    scope.showHtmlData = angular.copy(header.config);\n\n                    /**\n                     * 设置multi complex添加一条新记录\n                     * @param data\n                     */\n                    scope.addField = function (data) {\n                        var newFieldMap = {};\n                        angular.forEach(data.fields, function (field) {\n                            newFieldMap[field.id] = field;\n                        });\n\n                        data.complexValues.push({fieldMap: angular.copy(newFieldMap)});\n                    };\n\n                }\n            };\n        })\n\n        .directive('schemaItem', [\"$compile\", function ($compile) {\n\n            return {\n                restrict: \"E\",\n                require: ['^?form'],\n                bindToController: true,\n                controllerAs: \"vm\",\n                scope: {\n                    $$data: \"=data\",\n                    $$hastip: \"=hastip\",\n                    $$complex: \"=complex\",\n                    $$notShowEdit: \"=notShowEdit\"\n                },\n                controller: function () {\n                },\n                link: function (scope, element) {\n\n                    // 监视配置变动\n                    scope.$watch('vm.$$data', refresh);\n\n                    scope.$watch('schemaForm.$valid', function ($valid) {\n                        scope.vm.$$data.$valid = $valid;\n                    });\n\n                    function refresh() {\n\n                        var schema = new Schema();\n                        var field = scope.vm.$$data;\n\n                        // 设置空间name\n                        schema.name(field.id);\n\n                        // 设置edit是否显示\n                        schema.notShowEdit(scope.vm.$$notShowEdit == undefined ? false : scope.vm.$$notShowEdit);\n\n                        schema.type(field.type);\n\n                        switch (field.type) {\n                            case fieldTypes.RADIO:\n                                if (scope.vm.$$complex)\n                                    schema.type(fieldTypes.SINGLE_CHECK);\n                                break;\n                            case fieldTypes.MULTI_CHECK:\n                                _setCheckValues(field.values);\n                                break;\n                            case fieldTypes.MULTI_COMPLEX:\n                                field.complexValues = _resetMultiComplex(field);\n                                break;\n                            case fieldTypes.COMPLEX:\n                                _resetComplex(field);\n                                break;\n                        }\n\n                        angular.forEach(field.rules, function (rule) {\n                            switch (rule.name) {\n                                case ruleTypes.VALUE_TYPE_RULE:\n                                    _valueTypeRule(rule);\n                                    break;\n                                case ruleTypes.REQUIRED_RULE:\n                                    _requiredRule(rule);\n                                    break;\n                                case ruleTypes.DISABLE_RULE:\n                                    _disableRule(rule);\n                                    break;\n                                case ruleTypes.READ_ONLY_RULE:\n                                    _readOnlyRule(rule);\n                                    break;\n                                case ruleTypes.REGEX_RULE:\n                                    _regexRule(rule);\n                                    break;\n                                case ruleTypes.TIP_RULE:\n                                    _tipRule(rule);\n                                    break;\n                                case ruleTypes.MIN_LENGTH_RULE:\n                                    _minLengthRule(rule);\n                                    break;\n                                case ruleTypes.MAX_LENGTH_RULE:\n                                    _maxLengthRule(rule);\n                                    break;\n                                case ruleTypes.MIN_VALUE_RULE:\n                                    _minValueRule(rule);\n                                    break;\n                                case ruleTypes.MAX_VALUE_RULE:\n                                    _maxValueRule(rule);\n                                    break;\n                                case ruleTypes.MIN_INPUT_NUM_RULE:\n                                    _minInputNumRule(rule);\n                                    break;\n                                case ruleTypes.MAX_INPUT_NUM_RULE:\n                                    _maxInputNumRule(rule);\n                                    break;\n                            }\n                        });\n\n                        var tempHtml = \"\";\n\n                        // 拼接body\n                        switch (schema.type()) {\n                            case fieldTypes.INPUT:\n                                tempHtml = templates.input.replace(\"%replaceInfo%\", schema.html());\n                                break;\n                            case fieldTypes.DATE:\n                                tempHtml = templates.date.replace(\"%replaceInfo%\", schema.html()).replace(\"%replaceInfo%\", schema.html());\n                                break;\n                            case fieldTypes.DATETIME:\n                                tempHtml = templates.datetime.replace(\"%replaceInfo%\", schema.html()).replace(\"%replaceInfo%\", schema.html());\n                                break;\n                            case fieldTypes.TEXTAREA:\n                                tempHtml = templates.textarea.replace(\"%replaceInfo%\", schema.html());\n                                break;\n                            case fieldTypes.SINGLE_CHECK:\n                                tempHtml = templates.select.replace(\"%replaceInfo%\", schema.html());\n                                break;\n                            case fieldTypes.RADIO:\n                                tempHtml = templates.radio.replace(\"%replaceInfo%\", schema.html());\n                                break;\n                            case fieldTypes.MULTI_CHECK:\n                                tempHtml = templates.checkbox.replace(\"%replaceInfo%\", schema.html());\n                                break;\n                            case fieldTypes.LABEL:\n                                tempHtml = templates.label;\n                                break;\n                            case fieldTypes.MULTI_COMPLEX:\n                                tempHtml = templates.multiComplex;\n                                break;\n                            case fieldTypes.COMPLEX:\n                                tempHtml = scope.vm.$$complex ? templates.multi_in_complex : templates.complex;\n                                break;\n                        }\n\n                        // 添加规则说明\n                        if (schema.tipMsg() != null && scope.vm.$$hastip) {\n                            tempHtml += templates.multiComplex_tip;\n                        }\n\n                        // 包裹 ng-form, 用于启用 angular 的验证功能\n                        tempHtml = '<ng-form name=\"schemaForm\">' + tempHtml + '</ng-form>';\n                        // 追加错误信息的显示\n                        tempHtml += '<div ng-repeat=\"(k, v) in schemaForm.$error\">{{k}}</div>';\n\n                        scope.showHtmlData = angular.copy(schema.config);\n                        element.html($compile(tempHtml)(scope));\n\n                        /**\n                         * 设置checkbox被选中的value值处理\n                         * @param value\n                         */\n                        scope.checkboxValue = function (value) {\n                            if (_.contains(scope.showHtmlData.checkValues, value)) {\n                                scope.showHtmlData.checkValues.splice(_.indexOf(scope.showHtmlData.checkValues, value), 1);\n                            } else {\n                                scope.showHtmlData.checkValues.push(value);\n                            }\n                            field.values = [];\n                            angular.forEach(scope.showHtmlData.checkValues, function (obj) {\n                                field.values.push({id: null, value: obj});\n                            })\n                        };\n\n                        /**\n                         * 判断是否被选中\n                         * @param value\n                         */\n                        scope.isSelected = function (value) {\n                            return _.contains(scope.showHtmlData.checkValues, value)\n                        };\n\n                        /**\n                         * 设置multi complex删除该条记录\n                         * @param index\n                         */\n                        scope.delField = function (index) {\n                            field.complexValues.splice(index, 1);\n                        };\n\n                        /**\n                         * 设置checkvalues\n                         * @param values\n                         * @private\n                         */\n                        function _setCheckValues(values) {\n                            if (values != undefined && values != null) {\n                                angular.forEach(values, function (obj) {\n                                    schema.checkValues(obj.value);\n                                })\n                            }\n                        }\n\n                        /**\n                         * 重新设置multicomplex的一些属性\n                         * @param data\n                         * @private\n                         */\n                        function _resetMultiComplex(data) {\n                            var tempValues = [];\n                            angular.forEach(data.complexValues, function (value) {\n                                var tempFieldMap = {};\n                                angular.forEach(data.fields, function (field) {\n                                    var tempField = angular.copy(field);\n                                    if (value.fieldMap[field.id] != undefined) {\n                                        switch (field.type) {\n                                            case fieldTypes.INPUT:\n                                            case fieldTypes.LABEL:\n                                            case fieldTypes.DATE:\n                                            case fieldTypes.DATETIME:\n                                            case fieldTypes.TEXTAREA:\n                                            case fieldTypes.SINGLE_CHECK:\n                                            case fieldTypes.RADIO:\n                                                tempField.value = value.fieldMap[field.id].value;\n                                                break;\n                                            case fieldTypes.MULTI_INPUT:\n                                            case fieldTypes.MULTI_CHECK:\n                                                tempField.values = value.fieldMap[field.id].values;\n                                                break;\n                                            case fieldTypes.COMPLEX:\n                                                tempField.complexValue = value.fieldMap[field.id].complexValue;\n                                                break;\n                                            case fieldTypes.MULTI_COMPLEX:\n                                                tempField.complexValues = value.fieldMap[field.id].complexValues;\n                                                break;\n                                        }\n                                    }\n                                    tempFieldMap[field.id] = tempField;\n                                });\n                                tempValues.push({fieldMap: angular.copy(tempFieldMap)});\n                            });\n\n                            // 如果values为空,默认添加空白行\n                            if (_.isEmpty(data.complexValues)) {\n                                var newFieldMap = {};\n                                angular.forEach(data.fields, function (field) {\n                                    newFieldMap[field.id] = field;\n                                    //eval(\"newFieldMap.\" + field.id + \"=field\");\n                                });\n\n                                tempValues.push({fieldMap: angular.copy(newFieldMap)});\n                            }\n\n                            return tempValues;\n                        }\n\n                        /**\n                         * 重新\n                         * @param data\n                         * @private\n                         */\n                        function _resetComplex(data) {\n                            angular.forEach(data.fields, function (field) {\n                                switch (field.type) {\n                                    case fieldTypes.INPUT:\n                                    case fieldTypes.LABEL:\n                                    case fieldTypes.DATE:\n                                    case fieldTypes.DATETIME:\n                                    case fieldTypes.TEXTAREA:\n                                    case fieldTypes.SINGLE_CHECK:\n                                    case fieldTypes.RADIO:\n                                        if (!_.isEmpty(data.complexValue.fieldMap))\n                                            field.value = data.complexValue.fieldMap[field.id].value;\n                                        else\n                                            field.value = data.defaultComplexValue.fieldMap[field.id].value;\n                                        break;\n                                    case fieldTypes.MULTI_INPUT:\n                                    case fieldTypes.MULTI_CHECK:\n                                        if (!_.isEmpty(data.complexValue.fieldMap))\n                                            field.values = data.complexValue.fieldMap[field.id].values;\n                                        else\n                                            field.values = data.defaultComplexValue.fieldMap[field.id].values;\n                                        break;\n                                    case fieldTypes.COMPLEX:\n                                        if (!_.isEmpty(data.complexValue.fieldMap))\n                                            field.complexValue = data.complexValue.fieldMap[field.id].complexValue;\n                                        else\n                                            field.complexValue = data.defaultComplexValue.fieldMap[field.id].complexValue;\n                                        break;\n                                    case fieldTypes.MULTI_COMPLEX:\n                                        if (!_.isEmpty(data.complexValue.fieldMap))\n                                            field.complexValues = data.complexValue.fieldMap[field.id].complexValues;\n                                        else\n                                            field.complexValues = data.defaultComplexValue.fieldMap[field.id].complexValues;\n                                        break;\n                                }\n                            });\n                        }\n\n                        /**\n                         * 处理valueTypeRule\n                         * @param valueTypeRule\n                         * @private\n                         */\n                        function _valueTypeRule(valueTypeRule) {\n                            switch (valueTypeRule.value) {\n                                case valueTypes.TEXT:\n                                case valueTypes.DECIMAL:\n                                case valueTypes.INTEGER:\n                                case valueTypes.LONG:\n                                    schema.type(fieldTypes.INPUT);\n                                    schema.html(\"type=\\\"text\\\"\");\n                                    break;\n                                case valueTypes.DATE:\n                                    schema.type(fieldTypes.DATE);\n                                    break;\n                                case valueTypes.TIME:\n                                    schema.type(fieldTypes.DATETIME);\n                                    break;\n                                case valueTypes.URL:\n                                    schema.type(fieldTypes.INPUT);\n                                    schema.html(\"type=\\\"url\\\"\");\n                                    break;\n                                case valueTypes.TEXTAREA:\n                                    schema.type(fieldTypes.TEXTAREA);\n                                    schema.rowNum(4);\n                                    break;\n                                case valueTypes.HTML:\n                                    schema.type(fieldTypes.TEXTAREA);\n                                    schema.rowNum(10);\n                                    break;\n                            }\n                        }\n\n                        /**\n                         * 处理requiredRule\n                         * @param requiredRule\n                         * @private\n                         */\n                        function _requiredRule(requiredRule) {\n                            if (\"true\" == requiredRule.value) {\n                                schema.isRequired(true);\n                                schema.html(\"required\");\n                            }\n                        }\n\n                        /**\n                         * 处理disableRule\n                         * @param disableRule\n                         * @private\n                         */\n                        function _disableRule(disableRule) {\n                            if (\"true\" == disableRule.value\n                                && disableRule.dependGroup == null) {\n                                schema.html(\"ng-disabled=\\\"true\\\"\");\n                            }\n                        }\n\n                        /**\n                         * 处理readOnlyRule\n                         * @param readOnlyRule\n                         * @private\n                         */\n                        function _readOnlyRule(readOnlyRule) {\n                            if (\"true\" == readOnlyRule.value) {\n                                schema.html(\"readonly\");\n                            }\n                        }\n\n                        /**\n                         * 处理regexRule\n                         * @param regexRule\n                         * @private\n                         */\n                        function _regexRule(regexRule) {\n                            schema.html(\"ng-pattern=\\\"/\" + regexRule.value + \"/\\\"\");\n                        }\n\n                        /**\n                         * 处理tipRule\n                         * @param tipRule\n                         * @private\n                         */\n                        function _tipRule(tipRule) {\n                            schema.tipMsg(tipRule.value);\n                        }\n\n                        /**\n                         * 处理minLengthRule\n                         * @param minLengthRule\n                         * @private\n                         */\n                        function _minLengthRule(minLengthRule) {\n                            var value = isNaN(parseInt(minLengthRule.value)) ? 0 : minLengthRule.value;\n\n                            if (\"not include\" === minLengthRule.exProperty)\n                                value = (value > 0) ? value - 1 : 0;\n\n                            if (\"character\" == minLengthRule.unit)\n                                schema.html(\"ng-minlength=\\\"\" + value + \"\\\"\");\n                            else\n                                schema.html(\"ng-char-minlength=\\\"\" + value + \"\\\"\");\n                        }\n\n                        /**\n                         * 处理maxLengthRule\n                         * @param maxLengthRule\n                         * @private\n                         */\n                        function _maxLengthRule(maxLengthRule) {\n                            var value = isNaN(parseInt(maxLengthRule.value)) ? 0 : maxLengthRule.value;\n\n                            if (\"not include\" === maxLengthRule.exProperty)\n                                value = (value > 0) ? value - 1 : 0;\n\n                            if (\"character\" == maxLengthRule.unit)\n                                schema.html(\"ng-maxlength=\\\"\" + value + \"\\\"\");\n                            else\n                                schema.html(\"ng-char-maxlength=\\\"\" + value + \"\\\"\");\n                        }\n\n                        /**\n                         * 处理minValueRule\n                         * @param minValueRule\n                         * @private\n                         */\n                        function _minValueRule(minValueRule) {\n                            var value = isNaN(parseFloat(minValueRule.value)) ? 0 : parseFloat(minValueRule.value);\n\n                            if (\"not include\" === minValueRule.exProperty)\n                                value = (value > 0) ? value - 0.01 : 0;\n\n                            schema.html(\"ng-minvalue=\\\"\" + value + \"\\\"\");\n                        }\n\n                        /**\n                         * 处理maxValueRule\n                         * @param maxValueRule\n                         * @private\n                         */\n                        function _maxValueRule(maxValueRule) {\n                            var value = isNaN(parseFloat(maxValueRule.value)) ? 0 : parseFloat(maxValueRule.value);\n\n                            if (\"not include\" === maxValueRule.exProperty)\n                                value = (value > 0) ? value - 0.01 : 0;\n\n                            schema.html(\"ng-maxvalue=\\\"\" + value + \"\\\"\");\n\n                        }\n\n                        /**\n                         * 处理minInputNumRule\n                         * @param minInputNumRule\n                         * @private\n                         */\n                        function _minInputNumRule(minInputNumRule) {\n                            var value = isNaN(parseInt(minInputNumRule.value)) ? 0 : parseInt(minInputNumRule.value);\n\n                            if (\"not include\" === minInputNumRule.exProperty)\n                                value = (value > 0) ? value - 1 : 0;\n\n                            schema.html(\"ng-mininputnum=\\\"\" + value + \"\\\"\");\n                        }\n\n                        /**\n                         * 处理maxInputNumRule\n                         * @param maxInputNumRule\n                         * @private\n                         */\n                        function _maxInputNumRule(maxInputNumRule) {\n                            var value = isNaN(parseInt(maxInputNumRule.value)) ? 0 : parseInt(maxInputNumRule.value);\n\n                            if (\"not include\" === maxInputNumRule.exProperty)\n                                value = (value > 0) ? value - 1 : 0;\n\n                            schema.html(\"ng-maxinputnum=\\\"\" + value + \"\\\"\");\n                        }\n                    }\n                }\n            };\n        }]);\n\n})();\n/**\n * @Description:\n * 用于动态显示options\n * @User:    Edward\n * @Version: 0.2.0, 2015-12-22\n */\n\nangular.module('voyageone.angular.directives.voption', [])\n    .directive('voption', [\"$templateCache\", \"$compile\", function ($templateCache, $compile) {\n\n        var templateKey_select = \"voyageone.angular.directives.optionSelect.tpl.html\";\n\n        // 显示成select样式\n        if (!$templateCache.get(templateKey_select)) {\n            $templateCache.put(templateKey_select,\n                '<select class=\"form-control\" ng-model=\"$$data.value.value\" ng-options=\"option.value as option.displayName for option in $$data.options\"> <option value=\"\">{{\\'TXT_SELECT_NO_VALUE\\' | translate}}</option></select>');\n        }\n\n        return {\n            restrict: \"E\",\n            replace: true,\n            scope: {\n                $$data: \"=data\"\n            },\n            link: function (scope, element) {\n\n                // 定义不同的展示种类\n                var typeList = {\n                    SINGLE_CHECK: \"SINGLECHECK\"\n                };\n\n                // 监视配置变动\n                scope.$watch('$$data', function () {\n                    refresh();\n                }, true);\n\n                /**\n                 * 根据type选择展示不同的控件\n                 */\n                function refresh() {\n                    var tempHtml;\n                    switch (scope.$$data.type) {\n                        case typeList.SINGLE_CHECK:\n                            tempHtml = $compile($templateCache.get(templateKey_select))(scope);\n                            break;\n                    }\n                    element.html(tempHtml);\n                }\n            }\n        };\n    }]);\n/**\n * @Description:\n * 用于分页\n * @User:    Edward\n * @Version: 0.2.0, 2015-12-08\n */\n\nangular.module('voyageone.angular.directives.vpagination', [])\n    .directive('vpagination', [\"$templateCache\", \"$compile\", \"vpagination\", function ($templateCache, $compile, vpagination) {\n\n        var templateKey = \"voyageone.angular.directives.pagination.tpl.html\";\n        var templateKeyNoData = \"voyageone.angular.directives.paginationNoData.tpl.html\";\n\n        // 有数据分页样式\n        if (!$templateCache.get(templateKey)) {\n            $templateCache.put(templateKey,\n                '<div class=\"col-sm-3\">\\n' +\n                '    <div class=\"page-main form-inline\">{{\\'TXT_SHOWING_NO\\' | translate}}&nbsp;<input class=\"text-center\" type=\"text\" ng-model=\"curr.pageNo\"/>&nbsp;/&nbsp;{{totalPages}}&nbsp;{{\\'TXT_PAGE\\' | translate}}&nbsp;' +\n                '        <button class=\"btn btn-xs btn-default\" type=\"button\" ng-click=\"goPage(curr.pageNo)\" translate=\"BTN_GO\"></button>\\n' +\n                '    </div>\\n' +\n                '</div>\\n' +\n                '<div class=\"col-sm-4 text-center\">\\n' +\n                '    <small class=\"text-muted inline m-t-sm m-b-sm\">{{\\'TXT_SHOWING\\' | translate}}&nbsp;{{curr.start}}-{{curr.end}}&nbsp;{{\\'TXT_OF\\' | translate}}&nbsp;{{totalItems}}&nbsp{{\\'TXT_ITEMS\\' | translate}}</small>\\n' +\n                '</div>\\n' +\n                '<div class=\"col-sm-5 text-right text-center-xs\"><div>' +\n                '    <ul class=\"pagination-sm m-t-none m-b pagination ng-isolate-scope ng-valid ng-dirty ng-valid-parse\">\\n' +\n                '        <li ng-class=\"{disabled: curr.isFirst ||ngDisabled}\" class=\"pagination-first\"><a href ng-click=\"goPage(1)\" ng-disabled=\"curr.isFirst\">&laquo;</a></li>\\n' +\n                '        <li ng-class=\"{disabled: curr.isFirst ||ngDisabled}\" class=\"pagination-prev\"><a href ng-click=\"goPage(curr.pageNo - 1)\" ng-disabled=\"curr.isFirst\">&lsaquo;</a></li>\\n' +\n                '        <li ng-if=\"curr.isShowStart\" class=\"disabled\" disabled><a href>...</a></li>\\n' +\n                '        <li ng-repeat=\"page in curr.pages track by $index\" ng-class=\"{active: isCurr(page)}\" class=\"pagination-page\"><a href ng-click=\"goPage(page)\">{{page}}</a></li>\\n' +\n                '        <li ng-if=\"curr.isShowEnd\" class=\"disabled\" disabled><a href>...</a></li>\\n' +\n                '        <li ng-class=\"{disabled: curr.isLast ||ngDisabled}\" class=\"pagination-next\"><a href ng-click=\"goPage(curr.pageNo + 1)\" ng-disabled=\"curr.isLast\">&rsaquo;</a></li>\\n' +\n                '        <li ng-class=\"{disabled: curr.isLast ||ngDisabled}\" class=\"pagination-last\"><a href ng-click=\"goPage(totalPages)\" ng-disabled=\"curr.isLast\">&raquo;</a></li>\\n' +\n                '    </ul>\\n' +\n                '</div>');\n        }\n\n        // 无数据分页样式\n        if (!$templateCache.get(templateKeyNoData)) {\n            $templateCache.put(templateKeyNoData,\n                '<div class=\"col-sm-7 col-sm-offset-2 text-center\">\\n' +\n                '    <small class=\"text-muted inline m-t-sm m-b-sm\">{{\\'TXT_SHOWING\\' | translate}}&nbsp;0-0&nbsp;{{\\'TXT_OF\\' | translate}}&nbsp;0&nbsp{{\\'TXT_ITEMS\\' | translate}}</small>\\n' +\n                '</div>');\n        }\n\n        var defConfig = {curr: 1, total: 0, size: 20, showPageNo:5};\n\n        return {\n            restrict: \"AE\",\n            //templateUrl: templateKey,\n            replace: false,\n            scope: {\n                $$configNameForA: \"@vpagination\",\n                $$configNameForE: \"@config\"\n            },\n            link: function (scope, element) {\n\n                // 获取用户的config配置\n                var userConfigName = scope.$$configNameForA || scope.$$configNameForE;\n                var userConfig = scope.$parent.$eval(userConfigName);\n\n                // 将用户配置覆盖到默认配置后，在重新覆盖到用户配置上，用于补全配置属性\n                var userWithDefConfig = angular.extend({}, defConfig, userConfig);\n                scope.config = angular.extend(userConfig, userWithDefConfig);\n\n                var p = new vpagination(scope.config);\n\n                // 监视配置变动\n                scope.$parent.$watch(userConfigName, function () {\n                    refresh();\n                }, true);\n\n                /**\n                 * 跳转到指定页\n                 * @param num\n                 */\n                scope.goPage = function (num) {\n                    p.goPage(isNaN(Number(num)) ? 1 : Number(num));\n                };\n\n                /**\n                 * 判断是否是当前页\n                 * @param num\n                 * @returns {*|boolean}\n                 */\n                scope.isCurr = function (num) {\n                    return p.isCurr(num);\n                };\n\n                function refresh() {\n\n                    // 获取总页数\n                    scope.totalPages = p.getPageCount();\n                    // 获取总items数\n                    scope.totalItems = p.getTotal();\n                    // 获取当前页的信息\n                    scope.curr = p.getCurr();\n\n                    // 根据总数量显示不同的分页样式\n                    var tempHtml;\n                    if(p.getTotal() == 0) {\n                        tempHtml = $compile($templateCache.get(templateKeyNoData))(scope);\n                    } else {\n                        tempHtml = $compile($templateCache.get(templateKey))(scope);\n                    }\n                    element.html(tempHtml);\n\n                }\n            }\n        };\n    }]);\n/**\n * @Description:\n *\n * @User: linanbin\n * @Version: 2.0.0, 15/12/25\n */\n\nangular.module('voyageone.angular.directives.validator', [])\n\n    // 定义ng-char-maxlength\n    .directive('ngCharMaxlength', function () {\n\n        return {\n            restrict: 'A',\n            require: '?ngModel',\n            link: function(scope, elm, attr, ctrl) {\n                if (!ctrl) return;\n\n                var maxlength = -1;\n                attr.$observe('ngCharMaxlength', function(value) {\n                    var intVal =  parseInt(value) ;\n                    maxlength = isNaN(intVal) ? -1 : intVal;\n                    ctrl.$validate();\n                });\n                ctrl.$validators.maxlength = function(modelValue, viewValue) {\n                    return (maxlength < 0) || ctrl.$isEmpty(viewValue) || (getByteLength(viewValue) <= maxlength);\n                };\n            }\n        };\n\n        /**\n         * 取得字段的字节长度.\n         * @param value\n         * @returns {number}\n         */\n        function getByteLength(value) {\n            var byteLen = 0,len = value.length;\n            if(value){\n                for(var i = 0; i<len; i++){\n                    if(value.charCodeAt(i)>255){\n                        byteLen += 2;\n                    }\n                    else{\n                        byteLen++;\n                    }\n                }\n                return byteLen;\n            }\n            else{\n                return 0;\n            }\n        }\n    })\n\n    // 定义ng-char-minlength\n    .directive('ngCharMinlength', function () {\n\n        return {\n            restrict: 'A',\n            require: '?ngModel',\n            link: function(scope, elm, attr, ctrl) {\n                if (!ctrl) return;\n\n                var minlength = -1;\n                attr.$observe('ngCharMinlength', function(value) {\n                    var intVal =  parseInt(value) ;\n                    minlength = isNaN(intVal) ? -1 : intVal;\n                    ctrl.$validate();\n                });\n                ctrl.$validators.minlength = function(modelValue, viewValue) {\n                    return (minlength < 0) || ctrl.$isEmpty(viewValue) || (getByteLength(viewValue) >= minlength);\n                };\n            }\n        };\n\n        /**\n         * 取得字段的字节长度.\n         * @param value\n         * @returns {number}\n         */\n        function getByteLength(value) {\n            var byteLen = 0,len = value.length;\n            if(value){\n                for(var i = 0; i<len; i++){\n                    if(value.charCodeAt(i)>255){\n                        byteLen += 2;\n                    }\n                    else{\n                        byteLen++;\n                    }\n                }\n                return byteLen;\n            }\n            else{\n                return 0;\n            }\n        }\n    })\n\n    // 定义ng-maxvalue\n    .directive('ngMaxvalue', function () {\n        return {\n            restrict: 'A',\n            require: '?ngModel',\n            link: function (scope, elm, attr, ctrl) {\n                if (!ctrl) return;\n\n                var maxvalue = -1;\n                attr.$observe('ngMaxvalue', function(value) {\n                    if(/^(\\d{4})\\/(\\d{1,2})\\/(\\d{1,2})$/.test(value))\n                        maxvalue = new Date(value);\n                    else if (/^(\\d+)(\\.[0-9]{0,2})?$/.test(value))\n                        maxvalue = isNaN(parseFloat(value)) ? -1 : parseFloat(value);\n                    else if (/^(\\d+)$/.test(value))\n                        maxvalue = isNaN(parseInt(value)) ? -1 : parseInt(value);\n                    else\n                        maxvalue = -1;\n                    ctrl.$validate();\n                });\n                ctrl.$validators.maxvalue = function(modelValue, viewValue) {\n                    return (maxvalue < 0) || ctrl.$isEmpty(viewValue) || (viewValue <= maxvalue);\n                };\n            }\n        }\n    })\n\n    // 定义ng-minvalue\n    .directive('ngMinvalue', function () {\n        return {\n            restrict: 'A',\n            require: '?ngModel',\n            link: function (scope, elm, attr, ctrl) {\n                if (!ctrl) return;\n\n                var minvalue = -1;\n                attr.$observe('ngMinvalue', function(value) {\n                    if(/^(\\d{4})\\/(\\d{1,2})\\/(\\d{1,2})$/.test(value))\n                        minvalue = new Date(value);\n                    else if (/^(\\d+)(\\.[0-9]{0,2})?$/.test(value))\n                        minvalue = isNaN(parseFloat(value)) ? -1 : parseFloat(value);\n                    else if (/^(\\d+)$/.test(value))\n                        minvalue = isNaN(parseInt(value)) ? -1 : parseInt(value);\n                    else\n                        minvalue = -1;\n                    ctrl.$validate();\n                });\n                ctrl.$validators.minvalue = function(modelValue, viewValue) {\n                    return (minvalue < 0) || ctrl.$isEmpty(viewValue) || (viewValue >= minvalue);\n                };\n            }\n        }\n    })\n\n    // 定义ng-maxinputnum\n    .directive('ngMaxinputnum', function () {\n        return {\n            restrict: 'A',\n            require: '?ngModel',\n            link: function (scope, elm, attr, ctrl) {\n                if (!ctrl) return;\n\n                var maxvalue = -1;\n                attr.$observe('ngMaxinputvalue', function(value) {\n                    maxvalue = isNaN(parseInt(value)) ? -1 : parseInt(value);\n                    ctrl.$validate();\n                });\n                ctrl.$validators.maxinputnum = function(modelValue, viewValue) {\n                    return (maxvalue < 0) || ctrl.$isEmpty(viewValue) || (viewValue.length <= maxvalue);\n                };\n            }\n        }\n    })\n\n    // 定义ng-mininputnum\n    .directive('ngMininputnum', function () {\n        return {\n            restrict: 'A',\n            require: '?ngModel',\n            link: function (scope, elm, attr, ctrl) {\n                if (!ctrl) return;\n\n                var minvalue = -1;\n                attr.$observe('ngMininputnum', function(value) {\n                    minvalue = isNaN(parseInt(value)) ? -1 : parseInt(value);\n                    ctrl.$validate();\n                });\n                ctrl.$validators.mininputnum = function(modelValue, viewValue) {\n                    return (minvalue < 0) || ctrl.$isEmpty(viewValue) || (viewValue.length >= minvalue);\n                };\n            }\n        }\n    })\n;\n/**\n * @description\n *\n * 自动创建基于地址定义的数据访问 service.\n * 传入的定义必须是 {object}, 并且至少有 root 属性\n *\n * @User: Jonas\n * @Date: 2015-12-10 19:32:37\n * @Version: 2.0.0\n */\n\n//@Skip\nangular.module('voyageone.angular.vresources', [])\n  .provider('$vresources', [\"$provide\", function ($provide) {\n\n    /**\n     * @description 构建请求地址的 url\n     * @param {string} root 请求的根路径\n     * @param {string} action 请求的名称\n     * @returns {string}\n     */\n    function getActionUrl(root, action) {\n      return root + (root.lastIndexOf('/') === root.length - 1 ? '' : '/') + action;\n    }\n\n    /**\n     * 闭包声明一个数据访问的 Service\n     * @param {string} name Service 的名称\n     * @param {object} actions 方法和地址定义\n     * @param {AjaxService} ajaxService 封装的 ajax 发送服务\n     */\n    function closureDataService(name, actions, ajaxService) {\n      /**\n       * @description 与 actions 一同闭包的构造函数\n       * @constructor\n       */\n      function DataResource() {\n        if (!actions) {\n          return;\n        }\n\n        if (typeof actions !== \"object\") {\n          console.log(\"Failed to new DataResource: [\" + actions + \"] is not a object\");\n          return;\n        }\n\n        if (!actions.root) {\n          console.log(\"Failed to new DataResource: no root prop\" + (JSON && JSON.stringify ? \": \" + JSON.stringify(actions) : \"\"));\n          return;\n        }\n\n        // 遍历配置\n        for (var name in actions) {\n          // 不对 root 进行创建\n          if (name === \"root\") continue;\n          // 额外的检查\n          if (actions.hasOwnProperty(name)) {\n            // 闭包创建函数\n            this[name] = (function (actionUrl) {\n              return function (data) {\n                return ajaxService.post(actionUrl, data);\n              };\n            })(getActionUrl(actions.root, actions[name]));\n          }\n        }\n      }\n\n      $provide.service(name, DataResource);\n    }\n\n    this.$get = [\"ajaxService\", function (ajaxService) {\n\n      return {\n        register: function (name, actions) {\n\n          if (!actions) return;\n\n          if (typeof actions !== 'object') return;\n\n          // 如果有 root 这个属性,就创建 service\n          if (actions.root) {\n            closureDataService(name, actions, ajaxService);\n            return;\n          }\n\n          // 否则继续访问子属性\n          for (var childName in actions) {\n            // 额外的检查\n            if (actions.hasOwnProperty(childName)) {\n\n              this.register(childName, actions[childName]);\n            }\n          }\n        }\n      };\n    }];\n  }])\n\n  .run([\"$vresources\", \"$actions\", function ($vresources, $actions) {\n    $vresources.register(null, $actions);\n  }]);\n/**\n * @Date:    2015-11-16 18:48:29\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\n$Ajax.$inject = [\"$http\", \"blockUI\", \"$q\"];\nAjaxService.$inject = [\"$q\", \"$ajax\", \"messageService\"];\nangular.module('voyageone.angular.services.ajax', [])\n  .service('$ajax', $Ajax)\n  .service('ajaxService', AjaxService);\n\nfunction $Ajax($http, blockUI, $q) {\n  this.$http = $http;\n  this.blockUI = blockUI;\n  this.$q = $q;\n}\n$Ajax.prototype.post = function (url, data) {\n\n  var defer = this.$q.defer();\n  this.$http.post(url, data).then(function (response) {\n    var res = response.data;\n    if (!res) {\n      alert('相应结果不存在?????');\n      defer.reject(null);\n      return;\n    }\n    if (res.message || res.code) {\n      defer.reject(res);\n      return;\n    }\n    defer.resolve(res);\n  }, function (response) {\n    defer.reject(null, response);\n  });\n  return defer.promise;\n};\n\nfunction AjaxService($q, $ajax, messageService) {\n  this.$q = $q;\n  this.$ajax = $ajax;\n  this.messageService = messageService;\n}\nAjaxService.prototype.post = function (url, data) {\n\n  var defer = this.$q.defer();\n\n  this.$ajax.post(url, data).then(function(res) {\n    // 成功\n    defer.resolve(res);\n    return res;\n  }, (function (_this) {\n    // 失败\n    return function(res) {\n      _this.messageService.show(res);\n      defer.reject(res);\n      return res;\n    };\n  })(this));\n\n  return defer.promise;\n};\n/**\n * @Date:    2015-11-16 20:30:37\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nCookieService.$inject = [\"$cookieStore\"];\nangular.module('voyageone.angular.services.cookie', [])\n    .service('cookieService', CookieService);\n\nvar keys = {\n    language: 'voyageone.user.language',\n    company: 'voyageone.user.company',\n    channel: 'voyageone.user.channel',\n    application: \"voyageone.user.application\"\n};\n\nfunction gentProps(key) {\n    return function (val) {\n        if (arguments.length === 1) {\n            return this.set(key, val);\n        } else if (arguments.length > 1) {\n            return this.set(key, arguments);\n        }\n        return this.get(key);\n    };\n}\n\nfunction CookieService($cookieStore) {\n    this.$cookieStore = $cookieStore;\n}\n\nCookieService.prototype.get = function (key) {\n    var result = this.$cookieStore.get(key);\n    return result == undefined || result == null ? \"\" : this.$cookieStore.get(key);\n};\n\nCookieService.prototype.set = function (key, value) {\n    return this.$cookieStore.put(key, value);\n};\n\nCookieService.prototype.language = gentProps(keys.language);\n\nCookieService.prototype.company = gentProps(keys.company);\n\nCookieService.prototype.channel = gentProps(keys.channel);\n\nCookieService.prototype.application = gentProps(keys.application);\n\nCookieService.prototype.removeAll = function () {\n    this.$cookieStore.remove(keys.language);\n    this.$cookieStore.remove(keys.company);\n    this.$cookieStore.remove(keys.channel);\n    this.$cookieStore.remove(keys.application);\n};\n\n/**\n * 对后台的信息进行自动处理\n * @Date:    2015-11-19 14:47:23\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nMessageService.$inject = [\"alert\", \"confirm\", \"notify\"];\nangular.module('voyageone.angular.services.message', [])\n  .service('messageService', MessageService);\n\n// 同步,DisplayType 枚举\nvar DISPLAY_TYPES = {\n  /**\n   * 弹出提示\n   */\n  ALERT: 1,\n  /**\n   * 顶端弹出自动关闭\n   */\n  NOTIFY: 2,\n  /**\n   * 右下弹出自动关闭\n   */\n  POP: 3,\n  /**\n   * 用户自定义处理\n   */\n  CUSTOM: 4\n};\n\nfunction MessageService(alert, confirm, notify) {\n  this.alert = alert;\n  this.confirm = confirm;\n  this.notify = notify;\n}\n\nMessageService.prototype = {\n  /**\n   * 根据类型自动显示信息\n   * @param {{displayType:Number, message:String}} res\n   */\n  show: function(res) {\n\n    var displayType = res.displayType;\n    var message = res.message;\n\n    switch (displayType) {\n      case DISPLAY_TYPES.ALERT:\n        this.alert(message);\n        break;\n      case DISPLAY_TYPES.NOTIFY:\n        this.notify(message);\n        break;\n      case DISPLAY_TYPES.POP:\n        this.notify({message: message, position: 'right bottom'});\n        break;\n    }\n  }\n};\n/**\n * @Date:    2015-11-19 14:26:43\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nPermissionService.$inject = [\"$rootScope\"];\nangular.module('voyageone.angular.services.permission', [])\n  .service('permissionService', PermissionService);\n\nfunction PermissionService($rootScope) {\n  this.$rootScope = $rootScope;\n  this.permissions = [];\n}\n\nPermissionService.prototype = {\n  /**\n   * set the action permissions.\n   * @param permissions\n   */\n  setPermissions: function(permissions) {\n    this.permissions = permissions;\n    this.$rootScope.$broadcast('permissionsChanged');\n  },\n  /**\n   * check the permission has been in action permissions.\n   * @param permission\n   * @returns {boolean|*}\n   */\n  has: function(permission) {\n    return _.contains(this.permissions, permission.trim());\n  }\n};\n\n/**\n * @Date:    2015-11-19 14:35:25\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nTranslateService.$inject = [\"$translate\"];\nangular.module('voyageone.angular.services.translate', [])\n  .service('translateService', TranslateService);\n\nfunction TranslateService($translate) {\n  this.$translate = $translate;\n}\n\nTranslateService.prototype = {\n  languages: {\n    en: \"en\",\n    zh: \"zh\"\n  },\n  /**\n   * set the web side language type.\n   * @param key\n   */\n  setLanguage: function(language) {\n    if (!_.contains(this.languages, language)) {\n      language = this.getBrowserLanguage();\n    }\n    this.$translate.use(language);\n    return language;\n  },\n  /**\n   * get the browser language type.\n   * @returns {string}\n   */\n  getBrowserLanguage: function() {\n    var currentLang = navigator.language;\n    if (!currentLang)\n      currentLang = navigator.browserLanguage;\n    return currentLang.substr(0, 2);\n  }\n};\nreturn angular.module(\"voyageone.angular\",[\n\"voyageone.angular.controllers.datePicker\",\n\"voyageone.angular.controllers.selectRows\",\n\"voyageone.angular.controllers.showPopover\",\n\"voyageone.angular.directives.dateModelFormat\",\n\"voyageone.angular.directives.enterClick\",\n\"voyageone.angular.directives.fileStyle\",\n\"voyageone.angular.directives.ifNoRows\",\n\"voyageone.angular.directives.uiNav\",\n\"voyageone.angular.directives.schema\",\n\"voyageone.angular.directives.voption\",\n\"voyageone.angular.directives.vpagination\",\n\"voyageone.angular.directives.validator\",\n\"voyageone.angular.factories.dialogs\",\n\"voyageone.angular.factories.interceptor\",\n\"voyageone.angular.factories.notify\",\n\"voyageone.angular.factories.pppAutoImpl\",\n\"voyageone.angular.factories.selectRows\",\n\"voyageone.angular.factories.vpagination\",\n\"voyageone.angular.services.ajax\",\n\"voyageone.angular.services.cookie\",\n\"voyageone.angular.services.message\",\n\"voyageone.angular.services.permission\",\n\"voyageone.angular.services.translate\"\n]);});","/**\n * @Description:\n * 弹出日期控件\n * @User:    Edward\n * @Version: 0.2.0, 2015-10-10\n */\n\nangular.module('voyageone.angular.controllers.datePicker', [])\n    .controller('datePickerCtrl', function ($scope, $translate, uibDatepickerPopupConfig) {\n        var vm = this;\n\n        vm.formats = ['yyyy-MM-dd', 'yyyy-MM-dd HH:mm:ss'];\n\n        $scope.formatDate = vm.formats[0];\n        $scope.formatDateTime = vm.formats[1];\n        $scope.opened = false;\n\n        $scope.open = open;\n        uibDatepickerPopupConfig.currentText = $translate.instant('BTN_TODAY');\n        uibDatepickerPopupConfig.clearText = $translate.instant('BTN_CLEAR');\n        uibDatepickerPopupConfig.closeText = $translate.instant('BTN_CLOSE');\n\n        function open($event, swhich, count) {\n            $event.preventDefault();\n            $event.stopPropagation();\n\n            // 如果该数组未空,则初始化数组\n            if ($scope.$parent.datePicker.length == 0) {\n                for(var i = 0; i < count; i++) {\n                    if (swhich == i)\n                        $scope.$parent.datePicker.push({opened: true});\n                    else\n                        $scope.$parent.datePicker.push({opened: false});\n                }\n            }\n            // 关闭其他日期控件画面\n            else {\n                angular.forEach($scope.$parent.datePicker, function (object, index) {\n                    if (swhich == index)\n                        object.opened = !object.opened;\n                    else\n                        object.opened = false;\n                });\n            }\n        }\n    });","/**\n * @Description:\n * select tables items\n * @User: linanbin\n * @Version: 2.0.0, 15/12/16\n */\n\nangular.module('voyageone.angular.controllers.selectRows', [])\n    .controller('selectRowsCtrl', function ($scope) {\n\n        $scope.selectAll = selectAll;\n        $scope.selectOne = selectOne;\n        $scope.isAllSelected = isAllSelected;\n\n        /**\n         * 全部选中当前页数据\n         * @param objectList\n         */\n        function selectAll(objectList, id) {\n\n            objectList.selAllFlag = !objectList.selAllFlag;\n            if(!id){\n                id=\"id\";\n            }\n\n            // 循环处理全选中的数据\n            angular.forEach(objectList.currPageRows, function (object) {\n\n                // 单签页面所有产品选中flag被标示\n                objectList.selFlag[object[id]] = objectList.selAllFlag;\n\n                if (objectList.hasOwnProperty('selList')) {\n\n                    var tempList = _.pluck(objectList.selList, id);\n                    if (objectList.selAllFlag && tempList.indexOf(object[id]) < 0) {\n                        objectList.selList.push(object);\n                    } else if (!objectList.selAllFlag && tempList.indexOf(object[id]) > -1) {\n                        objectList.selList.splice(tempList.indexOf(object[id]), 1);\n                    }\n                }\n            });\n        }\n\n        /**\n         * 选中单条数据\n         * @param currentId\n         * @param objectList\n         */\n        function selectOne(currentId, objectList, id) {\n            if(!id){\n                id=\"id\";\n            }\n            if (objectList.hasOwnProperty('selList')) {\n\n                angular.forEach(objectList.currPageRows, function(object) {\n\n                    var tempList = _.pluck(objectList.selList, id);\n                    if (_.isEqual(object[id], currentId)) {\n                        if (tempList.indexOf(object[id]) > -1) {\n                            objectList.selList.splice(tempList.indexOf(object[id]), 1);\n                        } else {\n                            objectList.selList.push(object);\n                        }\n                    }\n                });\n            }\n\n            objectList.selAllFlag = true;\n            tempList = _.pluck(objectList.selList, id);\n            angular.forEach(objectList.currPageRows, function(object) {\n                if (tempList.indexOf(object[id]) == -1) {\n                    objectList.selAllFlag = false;\n                }\n            })\n        }\n\n        /**\n         * 判断当前页是否为全选中\n         * @param objectList\n         * @param id\n         */\n        function isAllSelected (objectList, id) {\n            if(!id){\n                id=\"id\";\n            }\n\n            if (objectList != undefined) {\n\n                objectList.selAllFlag = true;\n                var tempList = _.pluck(objectList.selList, id);\n                angular.forEach(objectList.currPageRows, function(object) {\n                    if (tempList.indexOf(object[id]) == -1) {\n                        objectList.selAllFlag = false;\n                    }\n                });\n                return objectList.selAllFlag;\n            }\n\n            return false;\n        }\n    });","/**\n * @Description:\n * 显示html的popover的共同方法\n * @User: linanbin\n * @Version: 2.0.0, 15/12/14\n */\n\nangular.module('voyageone.angular.controllers.showPopover', [])\n    .controller('showPopoverCtrl', function ($scope) {\n\n        $scope.showInfo = showInfo;\n\n        function showInfo(values) {\n            var tempHtml = \"\";\n\n            angular.forEach(values, function (data, index) {\n                tempHtml += data;\n                if (index !== values.length) {\n                    tempHtml += \"<br>\";\n                }\n            });\n            return tempHtml\n        }\n    });\n","/**\n * @User: Jonas\n * @Date: 2015-3-31 14:39:26\n * @Version: 2.0.0\n */\n\nangular.module('voyageone.angular.factories.dialogs', [])\n    .factory(\"$dialogs\", function ($uibModal, $filter, $templateCache) {\n\n        var templateName = 'voyageone.angular.factories.dialogs.tpl.html';\n        var template =\n            '<div class=\"vo_modal\">' +\n                '<div class=\"modal-header\">' +\n                    '<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"close()\">' +\n                        '<span aria-hidden=\"true\"><i ng-click=\"close()\" class=\"fa fa-close\"></i></span>' +\n                    '</button>' +\n                    '<h5 class=\"modal-title\" ng-bind-html=\"title\"></h5>' +\n                '</div>' +\n                '<div class=\"modal-body wrapper-lg\">' +\n                    '<div class=\"row\">' +\n                        '<h5 class=\"text-center text-hs\"><p class=\"text-center\" ng-bind-html=\"content\"></p></h5>' +\n                    '</div>' +\n                '</div>' +\n                '<div class=\"modal-footer\">' +\n                    '<button class=\"btn btn-default btn-sm\" ng-if=\"!isAlert\" ng-click=\"close()\" translate=\"BTN_CANCEL\"></button>' +\n                    '<button class=\"btn btn-vo btn-sm\" ng-click=\"ok()\" translate=\"BTN_OK\"></button>' +\n                '</div>' +\n            '</div>';\n        $templateCache.put(templateName, template);\n\n        function tran(translationId, values) {\n            return $filter('translate')(translationId, values);\n        }\n\n        return function (options) {\n\n            if (!_.isObject(options)) throw \"arg type must be object\";\n\n            var values;\n\n            if (_.isObject(options.content)) {\n                values = options.content.values;\n                options.content = options.content.id;\n            }\n\n            options.title = tran(options.title);\n            options.content = tran(options.content, values);\n\n            var modalInstance = $uibModal.open({\n                templateUrl: templateName,\n                controller: [\"$scope\", function (scope) {\n                    _.extend(scope, options);\n                }],\n                size: 'md'\n            });\n\n            options.close = function () {\n                modalInstance.dismiss('close')\n            };\n\n            options.ok = function () {\n                modalInstance.close('');\n            };\n\n            return modalInstance;\n        };\n    })\n\n    .factory(\"alert\", function ($dialogs) {\n        return function (content, title) {\n            return $dialogs({\n                title: title || 'TXT_ALERT',\n                content: content,\n                isAlert: true\n            });\n        };\n    })\n\n    .factory(\"confirm\", function vConfirm($dialogs) {\n        return function (content, title) {\n            return $dialogs({\n                title: title || 'TXT_CONFIRM',\n                content: content,\n                isAlert: false\n            });\n        };\n    });","/**\n * @Date:    2015-11-16 20:51:05\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.factories.interceptor', [])\n    .factory('interceptorFactory', function () {\n\n        // 未知的系统错误\n        var UNKNOWN_CODE = \"5\";\n        // 和 JAVA 同步,系统通知前端自动跳转的特殊代码\n        var CODE_SYS_REDIRECT = \"SYS_REDIRECT\";\n        // 和 JAVA 同步,回话过期的信息\n        var MSG_TIMEOUT = \"300001\";\n\n        /**\n         * 对系统自动跳转的响应,执行跳转\n         * @param {{code:string,redirectTo:string}} res\n         * @returns {boolean}\n         */\n        function autoRedirect(res) {\n            if (res.code != CODE_SYS_REDIRECT) {\n                return false;\n            }\n            // 如果跳转数据异常,则默认跳转登陆页\n            location.href = res.redirectTo || '/login.html';\n            return true;\n        }\n\n        /**\n         * 对会话超时和未登录进行特殊处理\n         * @param {{code:string}} res\n         * @returns {boolean}\n         */\n        function sessionTimeout(res) {\n            if (res.code != MSG_TIMEOUT) {\n                return false;\n            }\n            // 会话超时,默认跳转到登陆页\n            location.href = '/login.html';\n            return true;\n        }\n\n        /**\n         * 处理位置的异常\n         * @param response\n         */\n        function unknownException(response) {\n\n            if (response.data.code !== UNKNOWN_CODE) {\n                return;\n            }\n\n            window.$$lastUnknow = response;\n            console.error('Server throw unknown exceptio. Message:', response.data.message);\n        }\n\n        return {\n            request: function (config) {\n                return config;\n            },\n            /**\n             * 响应拦截\n             * @param {{config:object, data:*, headers:function, status:number, statusText:string}} res\n             * @returns {*}\n             */\n            response: function (res) {\n                var result = res.data;\n\n                // 特殊处理部分内容\n                if (autoRedirect(result) || sessionTimeout(result)) {\n                    return res;\n                }\n\n                unknownException(res);\n\n                return res;\n            },\n            requestError: function (config) {\n                return config;\n            },\n            responseError: function (res) {\n            }\n        };\n    })\n    .config(function ($httpProvider) {\n        $httpProvider.interceptors.push('interceptorFactory');\n    });","/**\n * Notify 的可用参数\n * {\n *    // whether to hide the notification on click\n *    clickToHide: true,\n *    // whether to auto-hide the notification\n *    autoHide: true,\n *    // if autoHide, hide after milliseconds\n *    autoHideDelay: 5000,\n *    // show the arrow pointing at the element\n *    arrowShow: true,\n *    // arrow size in pixels\n *    arrowSize: 5,\n *    // position defines the notification position though uses the defaults below\n *    position: '...',\n *    // default positions\n *    elementPosition: 'bottom left',\n *    globalPosition: 'top right',\n *    // default style\n *    style: 'bootstrap',\n *    // default class (string or [string])\n *    className: 'error',\n *    // show animation\n *    showAnimation: 'slideDown',\n *    // show animation duration\n *    showDuration: 400,\n *    // hide animation\n *    hideAnimation: 'slideUp',\n *    // hide animation duration\n *    hideDuration: 200,\n *    // padding between element and notification\n *    gap: 2\n * }\n * @User: Jonas\n * @Date: 2015-3-31 14:39:26\n * @Version: 2.0.0\n */\n\nangular.module('voyageone.angular.factories.notify', [])\n\n    .factory('notify', function ($filter) {\n\n        /**\n         * @ngdoc function\n         * @name voNotify\n         * @description\n         * 自动关闭的弹出提示框\n         */\n        function notify(options) {\n\n            if (!options) return;\n            if (_.isString(options)) options = {message: options};\n            if (!_.isObject(options)) return;\n\n            var values;\n\n            // 为 translate 的格式化提供支持，检测类型并转换\n            if (_.isObject(options.message)) {\n\n                values = options.message.values;\n                options.message = options.message.id;\n            }\n\n            options.message = $filter('translate')(options.message, values);\n\n            return $.notify(options.message, options);\n        }\n\n        notify.success = function (message) {\n            return notify({message: message, className: \"success\"});\n        };\n\n        notify.warning = function (message) {\n            return notify({message: message, className: \"warning\"});\n        };\n\n        notify.danger = function (message) {\n            return notify({message: message, className: \"danger\"});\n        };\n\n        return notify;\n    });","/**\n * @ngdoc\n * @factory\n * @name pppAutoImpl\n * @description\n * 根据定义自动生成方法实现. 注意! 依赖 ui-bootstrap\n */\n\nangular.module('voyageone.angular.factories.pppAutoImpl', [])\n    .factory('pppAutoImpl', function ($q, $modal) {\n        return function (declares, viewBaseUrl, jsBaseUrl) {\n            if (!declares.$$$ || !declares.$$$.impl)\n                declares.$$$ = {\n                    impl: declarePopupMethods(declares, viewBaseUrl, jsBaseUrl, '')\n                };\n            return declares.$$$.impl;\n        };\n\n        function declarePopupMethods(declares, viewBaseUrl, jsBaseUrl, popupBaseKey) {\n            var impl = {};\n            if (popupBaseKey) popupBaseKey += '/';\n            _.each(declares, function (declare, parentDir) {\n                if (!declare.popupKey) {\n                    if (_.isObject(declare) || _.isArray(declare)) _.extend(impl,\n                        declarePopupMethods(declare,\n                            viewBaseUrl, jsBaseUrl, popupBaseKey + parentDir,\n                            $q, $modal));\n                    return;\n                }\n\n                var options = _.clone(declare.options) || {};\n\n                var pathBase = '/' + popupBaseKey;\n                if (_.isString(parentDir)) pathBase += parentDir + '/';\n                pathBase += declare.popupKey;\n\n                options.templateUrl = viewBaseUrl + pathBase + '.tpl.html';\n                options.controllerUrl = jsBaseUrl + pathBase + '.ctl';\n\n                if (declare.controllerAs || declare.controller)\n                    options.controller = getControllerName(declare.popupKey);\n                if (declare.controllerAs)\n                    options.controller += ' as ' + (_.isString(declare.controllerAs) ? declare.controllerAs : 'ctrl');\n\n                impl[declare.popupKey] = function (context) {\n                    if (context) options.resolve = {\n                        context: function () {\n                            return context;\n                        }\n                    };\n\n                    var defer = $q.defer();\n                    require([options.controllerUrl], function () {\n                        defer.resolve($modal.open(options).result);\n                    });\n                    return defer.promise;\n                };\n            });\n            return impl;\n        }\n\n        function getControllerName(key) {\n            return key\n                    .replace(/\\.(\\w)/g, function (m, m1) {\n                        return m1.toUpperCase();\n                    })\n                    .replace(/^(\\w)/, function (m, m1) {\n                        return m1.toLowerCase()\n                    }) + 'PopupController';\n        }\n    });","/**\n * @Description:\n *\n * @User: linanbin\n * @Version: 2.0.0, 16/1/11\n */\n\nangular.module('voyageone.angular.factories.selectRows', [])\n\n    // selectRowsFactory\n    .factory('selectRowsFactory', function () {\n        return function (config) {\n            var _selectRowsInfo = config ? config : {\n                selAllFlag: false,\n                currPageRows: [],// [{id: \"12345\"}], [{id: \"123456\", name: \"test1\"}]\n                selFlag:[], // [{\"12345\": true}, {\"12346\": false}]\n                selList: [] // [{id: \"12345\"}], [{id: \"123456\", name: \"test1\"}]\n            };\n\n            this.selAllFlag = function (value) {\n                return value !== undefined ? _selectRowsInfo.selAllFlag = value : _selectRowsInfo.selAllFlag;\n            };\n\n            this.clearCurrPageRows = function () {\n                _selectRowsInfo.currPageRows = [];\n            };\n\n            this.currPageRows = function (value) {\n                return value !== undefined ? _selectRowsInfo.currPageRows.push(value) : _selectRowsInfo.currPageRows;\n            };\n\n            this.selFlag = function (value) {\n                return value !== undefined ? _selectRowsInfo.selFlag.push(value) : _selectRowsInfo.selFlag;\n            };\n\n            this.selList = function (value) {\n                return value !== undefined ? _selectRowsInfo.selList.push(value) : _selectRowsInfo.selList;\n            };\n\n            this.selectRowsInfo = _selectRowsInfo;\n        }\n    });","/**\n * @User: Edward\n * @Version: 2.0.0, 2015-12-09\n */\n\nangular.module('voyageone.angular.factories.vpagination', [])\n    .factory('vpagination', function () {\n\n        /**\n         * 创建一个分页服务\n         * @param {{ curr: number, size: number, total: number, fetch: function }} config 配置\n         */\n        return function (config) {\n\n            var _pages, _lastTotal = 0, _showPages = [];\n\n            /**\n             * 返回总件数\n             * @returns {*}\n             */\n            this.getTotal = function () {\n                return config.total;\n            };\n\n            /**\n             * 返回当前页的开始和结束号\n             * @returns {{start: number, end: number}}\n             */\n            this.getCurr = function () {\n                return {\n                    pageNo: curr(),\n                    start: getCurrStartItems(),\n                    end: getCurrEndItems(),\n                    isFirst: isFirst(),\n                    isLast: isLast(),\n                    pages: createShowPages(),\n                    isShowStart: isShowStart(),\n                    isShowEnd: isShowEnd()\n                }\n            };\n\n            // 跳转到指定页\n            this.goPage = load;\n            // 返回总页数\n            this.getPageCount = getPages;\n            // 是否是当前页\n            this.isCurr = isCurr;\n\n            /**\n             * 跳转到指定页\n             * @param {number} page 页号\n             */\n            function load(page) {\n                page = page || config.curr;\n\n                if (page < 1 || page > getPages() || isCurr(page)) return;\n\n                config.curr = page;\n\n                config.fetch(page, config.size);\n            }\n\n            /**\n             * 初始化page列表\n             * @returns {Array}\n             */\n            function createShowPages () {\n\n                var minPage, maxPage, _showPages= [];\n                if (config.curr < config.showPageNo) {\n                    minPage = 1;\n                    if(_pages <= config.showPageNo) maxPage = _pages;\n                    else maxPage = config.showPageNo;\n                } else if (config.curr + 2 > _pages) {\n                    minPage = _pages + 1 - config.showPageNo;\n                    maxPage = _pages;\n                } else {\n                    minPage = config.curr + 3 - config.showPageNo;\n                    maxPage = config.curr + 2;\n                }\n\n                // 按照指定数量创建按钮\n                for (var i =  minPage; i <= maxPage; i++) {\n                    //scope.pages.push({num: 1, active: \"\", show: false});\n                    _showPages.push(i);\n                }\n\n                return _showPages;\n            }\n\n            /**\n             * 获取当前总页数\n             * @returns {number}\n             */\n            function getPages() {\n                if (_lastTotal != config.total) {\n                    _pages = parseInt(config.total / config.size) + ((config.total % config.size) > 0 ? 1 : 0);\n                    _lastTotal = config.total;\n                }\n                return _pages;\n            }\n\n            /**\n             * 返回当前页的起始号\n             * @returns {number}\n             */\n            function getCurrStartItems() {\n                return (config.curr - 1) * config.size + 1\n            }\n\n            /**\n             * 返回当前页的结束号\n             * @returns {number}\n             */\n            function getCurrEndItems() {\n                var currEndItems = config.curr * config.size;\n                return currEndItems <= config.total ? currEndItems : config.total;\n\n            }\n\n            /**\n             * 是否是最后一页\n             * @returns {boolean}\n             */\n            function isLast() {\n                return config.curr == getPages();\n            }\n\n            /**\n             * 是否是第一页\n             * @returns {boolean}\n             */\n            function isFirst() {\n                return config.curr == 1;\n            }\n\n            /**\n             * 是否是当前页\n             * @param page 页码\n             * @returns {boolean}\n             */\n            function isCurr(page) {\n                return config.curr == page;\n            }\n\n            function curr() {\n                return config.curr;\n            }\n\n            /**\n             * 是否显示开始...项目\n             * @returns {boolean}\n             */\n            function isShowStart () {\n                _showPages = createShowPages();\n                return _showPages[0] > 1\n            }\n\n            /**\n             * 是否显示结束...项目\n             * @returns {boolean}\n             */\n            function isShowEnd () {\n                _showPages = createShowPages();\n                return _showPages[_showPages.length - 1] < _pages;\n            }\n\n        };\n    });","/**\n * @Date: 2015-11-19 15:13:02\n * @User: Jonas\n * @Version: 2.0.0\n */\n\nangular.module('voyageone.angular.directives.dateModelFormat', [])\n    .directive('dateModelFormat', function ($filter) {\n        return {\n            restrict: \"A\",\n            require: 'ngModel',\n            link: function (scope, elem, attrs, ngModel) {\n                ngModel.$parsers.push(function (viewValue) {\n                    return $filter('date')(viewValue, attrs.dateModelFormat || 'yyyy-MM-dd HH:mm:ss');\n                });\n            }\n        };\n    });\n","/**\n * @Date: 2015-11-19 15:13:02\n * @User: Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.directives.enterClick', [])\n    .directive('enterClick', function () {\n        return {\n            restrict: \"A\",\n            link: function (scope, elem, attr) {\n\n                angular.element(elem).on('keyup', function (e) {\n\n                    if (e.keyCode !== 13) return;\n\n                    var selectExp = attr.enterClick;\n\n                    var targetElem, handler = function () {\n                        targetElem.triggerHandler('click');\n                    };\n\n                    try {\n                        targetElem = document.querySelector(selectExp);\n                    } catch (e) {\n                        targetElem = null;\n                    }\n\n                    if (!targetElem) {\n                        // 如果取不到元素，则尝试作为表达式执行\n                        handler = function () {\n                            scope.$eval(selectExp);\n                        };\n                    } else {\n                        targetElem = angular.element(targetElem);\n                        // 如果元素存在，但是是禁用状态的，放弃执行\n                        if (targetElem.attr(\"disabled\")) return;\n                    }\n\n                    handler();\n                });\n            }\n        };\n    });\n","/**\n * @Description:\n * 引入对上传框插件 fileStyle 的指令支持\n * @Date:    2015-11-19 17:35:22\n * @User:    Jonas\n * @Version: 2.0.0\n */\n\nangular.module('voyageone.angular.directives.fileStyle', [])\n  .directive('fileStyle', function () {\n    return {\n      restrict: 'A',\n      controller: [\"$scope\", \"$element\", function ($scope, $element) {\n        var options = $element.data();\n        // old usage support\n        options.classInput = $element.data('classinput') || options.classInput;\n        if ($element.filestyle) {\n          $element.filestyle(options);\n        }\n      }]\n    };\n  });","/**\n * @Description:\n * table中无数据范围的数据\n * @User: linanbin\n * @Version: 2.0.0, 15/12/11\n */\n\nangular.module('voyageone.angular.directives.ifNoRows', [])\n    .directive('ifNoRows', function ($templateCache, $compile) {\n\n        var tempNoDataKey = \"voyageone.angular.directives.ifNoRows.tpl.html\";\n\n        // 没有数据显示警告\n        if (!$templateCache.get(tempNoDataKey)) {\n            $templateCache.put(tempNoDataKey,\n            '<div class=\"text-center text-hs\" id=\"noData\">\\n' +\n            '    <h4 class=\"text-vo\"><i class=\"icon fa fa-warning\"></i>&nbsp;{{\\'TXT_ALERT\\' | translate}}</h4>\\n' +\n            '{{\\'TXT_MSG_NO_DATE\\' | translate}}' +\n            '</dv>');\n        }\n\n        return {\n            restrict: \"A\",\n            replace: false,\n            scope: {\n                $$data: \"@ifNoRows\"\n            },\n            link: function (scope, element) {\n\n                scope.$parent.$watch(scope.$$data, function () {\n\n                    // 如果数据不存在则显示警告信息\n                    if(scope.$parent.$eval(scope.$$data)  == 0) {\n                        element.find(\"#noData\").remove();\n                        element.append($compile($templateCache.get(tempNoDataKey))(scope));\n                    } else {\n                        element.find(\"#noData\").remove();\n                    }\n                })\n            }\n        };\n    });\n","/**\n * @Description:\n * 用于菜单目录二级展开\n * @User:    Jonas\n * @Version: 0.2.0, 2015-12-07\n */\n\nangular.module('voyageone.angular.directives.uiNav', [])\n    .directive('uiNav', function () {\n\n        return {\n            restrict: 'AC',\n            link: function(scope, el) {\n                var _window = $(window),\n                    _mb = 768,\n                    wrap = $('.app-aside'),\n                    next,\n                    backdrop = '.dropdown-backdrop';\n                // unfolded\n                el.on('click', 'a', function(e) {\n                    next && next.trigger('mouseleave.nav');\n                    var _this = $(this);\n                    _this.parent().siblings( \".active\" ).toggleClass('active');\n                    _this.next().is('ul') &&  _this.parent().toggleClass('active') &&  e.preventDefault();\n                    // mobile\n                    _this.next().is('ul') || ( ( _window.width() < _mb ) && $('.app-aside').removeClass('show off-screen') );\n                });\n\n                // folded & fixed\n                el.on('mouseenter', 'a', function(e){\n                    next && next.trigger('mouseleave.nav');\n                    $('> .nav', wrap).remove();\n                    if ( !$('.app-aside-fixed.app-aside-folded').length || ( _window.width() < _mb ) || $('.app-aside-dock').length) return;\n                    var _this = $(e.target)\n                        , top\n                        , w_h = $(window).height()\n                        , offset = 50\n                        , min = 150;\n\n                    !_this.is('a') && (_this = _this.closest('a'));\n                    if( _this.next().is('ul') ){\n                        next = _this.next();\n                    }else{\n                        return;\n                    }\n\n                    _this.parent().addClass('active');\n                    top = _this.parent().position().top + offset;\n                    next.css('top', top);\n                    if( top + next.height() > w_h ){\n                        next.css('bottom', 0);\n                    }\n                    if(top + min > w_h){\n                        next.css('bottom', w_h - top - offset).css('top', 'auto');\n                    }\n                    next.appendTo(wrap);\n\n                    next.on('mouseleave.nav', function(e){\n                        $(backdrop).remove();\n                        next.appendTo(_this.parent());\n                        next.off('mouseleave.nav').css('top', 'auto').css('bottom', 'auto');\n                        _this.parent().removeClass('active');\n                    });\n\n                    $('.smart').length && $('<div class=\"dropdown-backdrop\"/>').insertAfter('.app-aside').on('click', function(next){\n                        next && next.trigger('mouseleave.nav');\n                    });\n\n                });\n\n                wrap.on('mouseleave', function(e){\n                    next && next.trigger('mouseleave.nav');\n                    $('> .nav', wrap).remove();\n                });\n            }\n        };\n    });","/**\n * @Description:\n *\n * @User: linanbin\n * @Version: 2.0.0, 15/12/24\n */\n\n(function () {\n\n    var fieldTypes = {\n        INPUT: \"INPUT\",\n        DATE: \"DATE\",\n        DATETIME: \"DATETIME\",\n        TEXTAREA: \"TEXTAREA\",\n        SINGLE_CHECK: \"SINGLECHECK\",// 在complex中的显示select,以外的默认显示singlecheck,如果用户觉得select显示不方便,就将该field的type改成radio\n        RADIO: \"RADIO\",\n        MULTI_INPUT: \"MULTIINPUT\", // 没有被使用\n        MULTI_CHECK: \"MULTICHECK\",\n        COMPLEX: \"COMPLEX\", // TODO\n        MULTI_COMPLEX: \"MULTICOMPLEX\",\n        LABEL: \"LABEL\"  // 可以不显示\n    }, ruleTypes = {\n        VALUE_TYPE_RULE: \"valueTypeRule\",\n        REQUIRED_RULE: \"requiredRule\",\n        DISABLE_RULE: \"disableRule\",\n        READ_ONLY_RULE: \"readOnlyRule\",\n        REGEX_RULE: \"regexRule\",\n        SET_RULE: \"setRule\", // TODO 暂时不知道怎么用\n        TIP_RULE: \"tipRule\", // TODO 不需要处理\n        DEV_TIP_RULE: \"devTipRule\", // 不需要处理\n        MIN_LENGTH_RULE: \"minLengthRule\",\n        MAX_LENGTH_RULE: \"maxLengthRule\",\n        MIN_VALUE_RULE: \"minValueRule\",\n        MAX_VALUE_RULE: \"maxValueRule\",\n        MIN_INPUT_NUM_RULE: \"minInputNumRule\",\n        MAX_INPUT_NUM_RULE: \"maxInputNumRule\",\n        MIN_DECIMAL_DIGITS_RULE: \"minDecimalDigitsRule\", // TODO\n        MAX_DECIMAL_DIGITS_RULE: \"maxDecimalDigitsRule\", // TODO\n        MIN_TARGET_SIZE_RULE: \"minTargetSizeRule\", // TODO\n        MAX_TARGET_SIZE_RULE: \"maxTargetSizeRule\", // TODO\n        MIN_IMAGE_SIZE_RULE: \"minImageSizeRule\", // TODO\n        MAX_IMAGE_SIZE_RULE: \"maxImageSizeRule\" // TODO\n    }, valueTypes = {\n        TEXT: \"text\",\n        DECIMAL: \"decimal\",\n        INTEGER: \"integer\",\n        LONG: \"long\",\n        DATE: \"date\",\n        TIME: \"time\",\n        URL: \"url\",\n        TEXTAREA: \"textarea\",\n        HTML: \"html\"\n    }, templates = {\n        header: '<div class=\"form-group\">' +\n        '<label class=\"col-sm-2 control-label\" ng-class=\"{\\'vo_reqfield\\': showHtmlData.isRequired}\" ng-bind=\"$$data.name\"></label>' +\n        '<div class=\"col-sm-8\" ng-class=\"{\\'modal-open\\' : showHtmlData.isMultiComplex, \\'hierarchy_main\\': showHtmlData.isComplex}\" ng-transclude></div>' +\n        '<div class=\"col-sm-2\" ng-if=\"showHtmlData.isMultiComplex\"><button class=\"btn btn-success\" ng-click=\"addField($$data)\"><i class=\"fa fa-plus\"></i>{{\\'BTN_ADD\\' | translate}}</button></div>' +\n        '<div class=\"row\" ng-repeat=\"tipMsg in showHtmlData.tipMsg\"><div class=\"col-sm-8 col-sm-offset-2 text-warnings\"><i class=\"icon fa fa-bell-o\"></i>&nbsp;{{tipMsg}}</div></div>' +\n        '</div>',\n        label: '<input style=\"min-width: 150px; max-width: 250px;\" type=\"text\" readonly ng-model=\"vm.$$data.value\" class=\"form-control\">',\n        input: '<input style=\"min-width: 150px; max-width: 250px;\" ng-model=\"vm.$$data.value\" class=\"form-control\" %replaceInfo%>',\n        date: '<div class=\"input-group\" style=\"width: 180px;\" ng-controller=\"datePickerCtrl\"><input %replaceInfo% type=\"text\" class=\"form-control\" datepicker-popup=\"{{formatDate}}\" ng-model=\"$parent.vm.$$data.value\" date-model-format=\"{{formatDate}}\" is-open=\"opened\" datepicker-options=\"dateOptions\" close-text=\"Close\" /><span class=\"input-group-btn\"><button %replaceInfo% type=\"button\" class=\"btn btn-default\" ng-click=\"open($event)\"><i class=\"glyphicon glyphicon-calendar\"></i></button></span></div>',\n        datetime: '<div class=\"input-group\" style=\"width: 180px;\" ng-controller=\"datePickerCtrl\"><input %replaceInfo% type=\"text\" class=\"form-control\" datepicker-popup=\"{{formatDateTime}}\" ng-model=\"$parent.vm.$$data.value\" date-model-format=\"{{formatDateTime}}\" is-open=\"opened\" datepicker-options=\"dateOptions\" close-text=\"Close\" /><span class=\"input-group-btn\"><button %replaceInfo% type=\"button\" class=\"btn btn-default\" ng-click=\"open($event)\"><i class=\"glyphicon glyphicon-calendar\"></i></button></span></div>',\n        textarea: '<textarea style=\"min-width: 150px; max-width: 650px;\" class=\"form-control no-resize\" ng-model=\"vm.$$data.value\" rows=\"{{showHtmlData.rowNum}}\" %replaceInfo%></textarea>',\n        select: '<select style=\"min-width: 150px; max-width: 250px;\" %replaceInfo% class=\"form-control\" ng-model=\"vm.$$data.value.value\" ng-options=\"option.value as option.displayName for option in vm.$$data.options\"> <option value=\"\">{{\\'TXT_SELECT_NO_VALUE\\' | translate}}</option></select>',\n        radio: '<label class=\"checkbox-inline c-radio\" ng-repeat=\"option in vm.$$data.options\"><input name=\"{{vm.$$data.id}}\" type=\"radio\" ng-value=\"option.value\" ng-model=\"vm.$$data.value.value\"><span class=\"fa fa-check\"></span> {{option.displayName}}</label>',\n        checkbox: '<label class=\"checkbox-inline c-checkbox\" ng-repeat=\"option in vm.$$data.options\"><input type=\"checkbox\" ng-value=\"option.value\" ng-click=\"checkboxValue(option.value)\" ng-checked=\"isSelected(option.value)\"><span class=\"fa fa-check\"></span> {{option.displayName}}</label>',\n        multiComplex: '<table class=\"table text-center\">' +\n        '<thead><tr>' +\n        '<th ng-repeat=\"field in vm.$$data.fields\" ng-class=\"{\\'vo_reqfield\\': showHtmlData.isRequired}\" class=\"text-center\" style=\"min-width: 180px;\">{{field.name}}</th>' +\n        '<th ng-if=\"!showHtmlData.notShowEdit\" style=\"min-width: 60px;\" class=\"text-center\" translate=\"TXT_ACTION\"></th>' +\n        '</tr></thead>' +\n        '<tbody><tr ng-repeat=\"value in vm.$$data.complexValues\">' +\n        '<td class=\"text-left\" ng-repeat=\"field in value.fieldMap\"><div class=\"tableLayer\"><p ng-if=\"field.type != \\'COMPLEX\\'\">&nbsp;</p><p><schema-item data=\"field\" hastip=\"true\" complex=\"true\"></schema-item></p></div></td>' +\n        '<td ng-if=\"!showHtmlData.notShowEdit\" style=\"min-width: 60px;\"><button title=\"{\\'BTN_DELETE\\' | translate}\" class=\"btn btn-danger btn-xs\" ng-click=\"delField($index)\"><i class=\"fa  fa-trash-o\"></i></button></td>' +\n        '</tr></tbody>' +\n        '</table>',\n        complex: '<schema-header ng-repeat=\"field in vm.$$data.fields\" data=\"field\"><schema-item data=\"field\"></schema-item></schema-header>',\n        multi_in_complex: '<div ng-repeat=\"field in vm.$$data.fields\"><p ng-bind=\"field.name\"></p><p><schema-item data=\"field\" hastip=\"true\" complex=\"true\"></schema-item></p></div>',\n        multiComplex_tip: '<div class=\"text-warnings\" ng-repeat=\"tipMsg in showHtmlData.tipMsg\"><br><i class=\"icon fa fa-bell-o\"></i>&nbsp;{{tipMsg}}</div>'\n    };\n\n    var SchemaHeader, Schema;\n\n    SchemaHeader = function (config) {\n        this.config = config || {\n                isRequired: false,\n                isMultiComplex: false,\n                isComplex: false,\n                tipMsg: []\n            };\n    };\n\n    SchemaHeader.prototype = {\n        isRequired: function (value) {\n            return value !== undefined ? this.config.isRequired = value : this.config.isRequired;\n        },\n        isComplex: function (value) {\n            return value !== undefined ? this.config.isComplex = value : this.config.isComplex;\n        },\n        isMultiComplex: function (value) {\n            return value !== undefined ? this.config.isMultiComplex = value : this.config.isMultiComplex;\n        },\n        tipMsg: function (value) {\n            return value !== undefined ? this.config.tipMsg.push(value) : this.config.tipMsg;\n        }\n    };\n\n    Schema = function (config) {\n        this.config = config || {\n                type: null,\n                name: null,\n                rowNum: null,\n                isRequired: false,\n                checkValues: [],\n                tipMsg: [],\n                html: [],\n                notShowEdit: true\n            };\n    };\n\n    Schema.prototype = {\n        type: function (value) {\n            return value !== undefined ? this.config.type = value : this.config.type;\n        },\n        name: function (value) {\n            return value !== undefined ? this.config.name = value : this.config.name;\n        },\n        html: function (value) {\n            return value !== undefined ? this.config.html.push(value) : this.config.html.join(\" \");\n        },\n        isRequired: function (value) {\n            return value !== undefined ? this.config.isRequired = value : this.config.isRequired;\n        },\n        rowNum: function (value) {\n            return value !== undefined ? this.config.rowNum = value : this.config.rowNum;\n        },\n        tipMsg: function (value) {\n            return value !== undefined ? this.config.tipMsg.push(value) : this.config.tipMsg;\n        },\n        checkValues: function (value) {\n            return value !== undefined ? this.config.checkValues.push(value) : this.config.checkValues;\n        },\n        notShowEdit: function (value) {\n            return value !== undefined ? this.config.notShowEdit = value : this.config.notShowEdit;\n        }\n    };\n\n    angular.module('voyageone.angular.directives.schema', [])\n\n        .directive('schemaHeader', function () {\n\n            return {\n                restrict: \"E\",\n                replace: true,\n                transclude: true,\n                template: templates.header,\n                scope: {\n                    $$data: \"=data\"\n                },\n                link: function (scope) {\n\n                    var header = new SchemaHeader();\n                    var field = scope.$$data;\n\n                    // 标记特殊类型的 Field\n                    switch (field.type) {\n                        case fieldTypes.MULTI_COMPLEX:\n                            header.isMultiComplex(true);\n                            break;\n                        case fieldTypes.COMPLEX:\n                            header.isComplex(true);\n                            break;\n                    }\n\n                    // 标记提供了显示支持的规则\n                    angular.forEach(field.rules, function (rule) {\n                        switch (rule.name) {\n                            case ruleTypes.REQUIRED_RULE:\n                                header.isRequired(\"true\" == rule.value);\n                                break;\n                            case ruleTypes.TIP_RULE:\n                                header.tipMsg(rule.value);\n                                break;\n                        }\n                    });\n\n                    scope.showHtmlData = angular.copy(header.config);\n\n                    /**\n                     * 设置multi complex添加一条新记录\n                     * @param data\n                     */\n                    scope.addField = function (data) {\n                        var newFieldMap = {};\n                        angular.forEach(data.fields, function (field) {\n                            newFieldMap[field.id] = field;\n                        });\n\n                        data.complexValues.push({fieldMap: angular.copy(newFieldMap)});\n                    };\n\n                }\n            };\n        })\n\n        .directive('schemaItem', function ($compile) {\n\n            return {\n                restrict: \"E\",\n                require: ['^?form'],\n                bindToController: true,\n                controllerAs: \"vm\",\n                scope: {\n                    $$data: \"=data\",\n                    $$hastip: \"=hastip\",\n                    $$complex: \"=complex\",\n                    $$notShowEdit: \"=notShowEdit\"\n                },\n                controller: function () {\n                },\n                link: function (scope, element) {\n\n                    // 监视配置变动\n                    scope.$watch('vm.$$data', refresh);\n\n                    scope.$watch('schemaForm.$valid', function ($valid) {\n                        scope.vm.$$data.$valid = $valid;\n                    });\n\n                    function refresh() {\n\n                        var schema = new Schema();\n                        var field = scope.vm.$$data;\n\n                        // 设置空间name\n                        schema.name(field.id);\n\n                        // 设置edit是否显示\n                        schema.notShowEdit(scope.vm.$$notShowEdit == undefined ? false : scope.vm.$$notShowEdit);\n\n                        schema.type(field.type);\n\n                        switch (field.type) {\n                            case fieldTypes.RADIO:\n                                if (scope.vm.$$complex)\n                                    schema.type(fieldTypes.SINGLE_CHECK);\n                                break;\n                            case fieldTypes.MULTI_CHECK:\n                                _setCheckValues(field.values);\n                                break;\n                            case fieldTypes.MULTI_COMPLEX:\n                                field.complexValues = _resetMultiComplex(field);\n                                break;\n                            case fieldTypes.COMPLEX:\n                                _resetComplex(field);\n                                break;\n                        }\n\n                        angular.forEach(field.rules, function (rule) {\n                            switch (rule.name) {\n                                case ruleTypes.VALUE_TYPE_RULE:\n                                    _valueTypeRule(rule);\n                                    break;\n                                case ruleTypes.REQUIRED_RULE:\n                                    _requiredRule(rule);\n                                    break;\n                                case ruleTypes.DISABLE_RULE:\n                                    _disableRule(rule);\n                                    break;\n                                case ruleTypes.READ_ONLY_RULE:\n                                    _readOnlyRule(rule);\n                                    break;\n                                case ruleTypes.REGEX_RULE:\n                                    _regexRule(rule);\n                                    break;\n                                case ruleTypes.TIP_RULE:\n                                    _tipRule(rule);\n                                    break;\n                                case ruleTypes.MIN_LENGTH_RULE:\n                                    _minLengthRule(rule);\n                                    break;\n                                case ruleTypes.MAX_LENGTH_RULE:\n                                    _maxLengthRule(rule);\n                                    break;\n                                case ruleTypes.MIN_VALUE_RULE:\n                                    _minValueRule(rule);\n                                    break;\n                                case ruleTypes.MAX_VALUE_RULE:\n                                    _maxValueRule(rule);\n                                    break;\n                                case ruleTypes.MIN_INPUT_NUM_RULE:\n                                    _minInputNumRule(rule);\n                                    break;\n                                case ruleTypes.MAX_INPUT_NUM_RULE:\n                                    _maxInputNumRule(rule);\n                                    break;\n                            }\n                        });\n\n                        var tempHtml = \"\";\n\n                        // 拼接body\n                        switch (schema.type()) {\n                            case fieldTypes.INPUT:\n                                tempHtml = templates.input.replace(\"%replaceInfo%\", schema.html());\n                                break;\n                            case fieldTypes.DATE:\n                                tempHtml = templates.date.replace(\"%replaceInfo%\", schema.html()).replace(\"%replaceInfo%\", schema.html());\n                                break;\n                            case fieldTypes.DATETIME:\n                                tempHtml = templates.datetime.replace(\"%replaceInfo%\", schema.html()).replace(\"%replaceInfo%\", schema.html());\n                                break;\n                            case fieldTypes.TEXTAREA:\n                                tempHtml = templates.textarea.replace(\"%replaceInfo%\", schema.html());\n                                break;\n                            case fieldTypes.SINGLE_CHECK:\n                                tempHtml = templates.select.replace(\"%replaceInfo%\", schema.html());\n                                break;\n                            case fieldTypes.RADIO:\n                                tempHtml = templates.radio.replace(\"%replaceInfo%\", schema.html());\n                                break;\n                            case fieldTypes.MULTI_CHECK:\n                                tempHtml = templates.checkbox.replace(\"%replaceInfo%\", schema.html());\n                                break;\n                            case fieldTypes.LABEL:\n                                tempHtml = templates.label;\n                                break;\n                            case fieldTypes.MULTI_COMPLEX:\n                                tempHtml = templates.multiComplex;\n                                break;\n                            case fieldTypes.COMPLEX:\n                                tempHtml = scope.vm.$$complex ? templates.multi_in_complex : templates.complex;\n                                break;\n                        }\n\n                        // 添加规则说明\n                        if (schema.tipMsg() != null && scope.vm.$$hastip) {\n                            tempHtml += templates.multiComplex_tip;\n                        }\n\n                        // 包裹 ng-form, 用于启用 angular 的验证功能\n                        tempHtml = '<ng-form name=\"schemaForm\">' + tempHtml + '</ng-form>';\n                        // 追加错误信息的显示\n                        tempHtml += '<div ng-repeat=\"(k, v) in schemaForm.$error\">{{k}}</div>';\n\n                        scope.showHtmlData = angular.copy(schema.config);\n                        element.html($compile(tempHtml)(scope));\n\n                        /**\n                         * 设置checkbox被选中的value值处理\n                         * @param value\n                         */\n                        scope.checkboxValue = function (value) {\n                            if (_.contains(scope.showHtmlData.checkValues, value)) {\n                                scope.showHtmlData.checkValues.splice(_.indexOf(scope.showHtmlData.checkValues, value), 1);\n                            } else {\n                                scope.showHtmlData.checkValues.push(value);\n                            }\n                            field.values = [];\n                            angular.forEach(scope.showHtmlData.checkValues, function (obj) {\n                                field.values.push({id: null, value: obj});\n                            })\n                        };\n\n                        /**\n                         * 判断是否被选中\n                         * @param value\n                         */\n                        scope.isSelected = function (value) {\n                            return _.contains(scope.showHtmlData.checkValues, value)\n                        };\n\n                        /**\n                         * 设置multi complex删除该条记录\n                         * @param index\n                         */\n                        scope.delField = function (index) {\n                            field.complexValues.splice(index, 1);\n                        };\n\n                        /**\n                         * 设置checkvalues\n                         * @param values\n                         * @private\n                         */\n                        function _setCheckValues(values) {\n                            if (values != undefined && values != null) {\n                                angular.forEach(values, function (obj) {\n                                    schema.checkValues(obj.value);\n                                })\n                            }\n                        }\n\n                        /**\n                         * 重新设置multicomplex的一些属性\n                         * @param data\n                         * @private\n                         */\n                        function _resetMultiComplex(data) {\n                            var tempValues = [];\n                            angular.forEach(data.complexValues, function (value) {\n                                var tempFieldMap = {};\n                                angular.forEach(data.fields, function (field) {\n                                    var tempField = angular.copy(field);\n                                    if (value.fieldMap[field.id] != undefined) {\n                                        switch (field.type) {\n                                            case fieldTypes.INPUT:\n                                            case fieldTypes.LABEL:\n                                            case fieldTypes.DATE:\n                                            case fieldTypes.DATETIME:\n                                            case fieldTypes.TEXTAREA:\n                                            case fieldTypes.SINGLE_CHECK:\n                                            case fieldTypes.RADIO:\n                                                tempField.value = value.fieldMap[field.id].value;\n                                                break;\n                                            case fieldTypes.MULTI_INPUT:\n                                            case fieldTypes.MULTI_CHECK:\n                                                tempField.values = value.fieldMap[field.id].values;\n                                                break;\n                                            case fieldTypes.COMPLEX:\n                                                tempField.complexValue = value.fieldMap[field.id].complexValue;\n                                                break;\n                                            case fieldTypes.MULTI_COMPLEX:\n                                                tempField.complexValues = value.fieldMap[field.id].complexValues;\n                                                break;\n                                        }\n                                    }\n                                    tempFieldMap[field.id] = tempField;\n                                });\n                                tempValues.push({fieldMap: angular.copy(tempFieldMap)});\n                            });\n\n                            // 如果values为空,默认添加空白行\n                            if (_.isEmpty(data.complexValues)) {\n                                var newFieldMap = {};\n                                angular.forEach(data.fields, function (field) {\n                                    newFieldMap[field.id] = field;\n                                    //eval(\"newFieldMap.\" + field.id + \"=field\");\n                                });\n\n                                tempValues.push({fieldMap: angular.copy(newFieldMap)});\n                            }\n\n                            return tempValues;\n                        }\n\n                        /**\n                         * 重新\n                         * @param data\n                         * @private\n                         */\n                        function _resetComplex(data) {\n                            angular.forEach(data.fields, function (field) {\n                                switch (field.type) {\n                                    case fieldTypes.INPUT:\n                                    case fieldTypes.LABEL:\n                                    case fieldTypes.DATE:\n                                    case fieldTypes.DATETIME:\n                                    case fieldTypes.TEXTAREA:\n                                    case fieldTypes.SINGLE_CHECK:\n                                    case fieldTypes.RADIO:\n                                        if (!_.isEmpty(data.complexValue.fieldMap))\n                                            field.value = data.complexValue.fieldMap[field.id].value;\n                                        else\n                                            field.value = data.defaultComplexValue.fieldMap[field.id].value;\n                                        break;\n                                    case fieldTypes.MULTI_INPUT:\n                                    case fieldTypes.MULTI_CHECK:\n                                        if (!_.isEmpty(data.complexValue.fieldMap))\n                                            field.values = data.complexValue.fieldMap[field.id].values;\n                                        else\n                                            field.values = data.defaultComplexValue.fieldMap[field.id].values;\n                                        break;\n                                    case fieldTypes.COMPLEX:\n                                        if (!_.isEmpty(data.complexValue.fieldMap))\n                                            field.complexValue = data.complexValue.fieldMap[field.id].complexValue;\n                                        else\n                                            field.complexValue = data.defaultComplexValue.fieldMap[field.id].complexValue;\n                                        break;\n                                    case fieldTypes.MULTI_COMPLEX:\n                                        if (!_.isEmpty(data.complexValue.fieldMap))\n                                            field.complexValues = data.complexValue.fieldMap[field.id].complexValues;\n                                        else\n                                            field.complexValues = data.defaultComplexValue.fieldMap[field.id].complexValues;\n                                        break;\n                                }\n                            });\n                        }\n\n                        /**\n                         * 处理valueTypeRule\n                         * @param valueTypeRule\n                         * @private\n                         */\n                        function _valueTypeRule(valueTypeRule) {\n                            switch (valueTypeRule.value) {\n                                case valueTypes.TEXT:\n                                case valueTypes.DECIMAL:\n                                case valueTypes.INTEGER:\n                                case valueTypes.LONG:\n                                    schema.type(fieldTypes.INPUT);\n                                    schema.html(\"type=\\\"text\\\"\");\n                                    break;\n                                case valueTypes.DATE:\n                                    schema.type(fieldTypes.DATE);\n                                    break;\n                                case valueTypes.TIME:\n                                    schema.type(fieldTypes.DATETIME);\n                                    break;\n                                case valueTypes.URL:\n                                    schema.type(fieldTypes.INPUT);\n                                    schema.html(\"type=\\\"url\\\"\");\n                                    break;\n                                case valueTypes.TEXTAREA:\n                                    schema.type(fieldTypes.TEXTAREA);\n                                    schema.rowNum(4);\n                                    break;\n                                case valueTypes.HTML:\n                                    schema.type(fieldTypes.TEXTAREA);\n                                    schema.rowNum(10);\n                                    break;\n                            }\n                        }\n\n                        /**\n                         * 处理requiredRule\n                         * @param requiredRule\n                         * @private\n                         */\n                        function _requiredRule(requiredRule) {\n                            if (\"true\" == requiredRule.value) {\n                                schema.isRequired(true);\n                                schema.html(\"required\");\n                            }\n                        }\n\n                        /**\n                         * 处理disableRule\n                         * @param disableRule\n                         * @private\n                         */\n                        function _disableRule(disableRule) {\n                            if (\"true\" == disableRule.value\n                                && disableRule.dependGroup == null) {\n                                schema.html(\"ng-disabled=\\\"true\\\"\");\n                            }\n                        }\n\n                        /**\n                         * 处理readOnlyRule\n                         * @param readOnlyRule\n                         * @private\n                         */\n                        function _readOnlyRule(readOnlyRule) {\n                            if (\"true\" == readOnlyRule.value) {\n                                schema.html(\"readonly\");\n                            }\n                        }\n\n                        /**\n                         * 处理regexRule\n                         * @param regexRule\n                         * @private\n                         */\n                        function _regexRule(regexRule) {\n                            schema.html(\"ng-pattern=\\\"/\" + regexRule.value + \"/\\\"\");\n                        }\n\n                        /**\n                         * 处理tipRule\n                         * @param tipRule\n                         * @private\n                         */\n                        function _tipRule(tipRule) {\n                            schema.tipMsg(tipRule.value);\n                        }\n\n                        /**\n                         * 处理minLengthRule\n                         * @param minLengthRule\n                         * @private\n                         */\n                        function _minLengthRule(minLengthRule) {\n                            var value = isNaN(parseInt(minLengthRule.value)) ? 0 : minLengthRule.value;\n\n                            if (\"not include\" === minLengthRule.exProperty)\n                                value = (value > 0) ? value - 1 : 0;\n\n                            if (\"character\" == minLengthRule.unit)\n                                schema.html(\"ng-minlength=\\\"\" + value + \"\\\"\");\n                            else\n                                schema.html(\"ng-char-minlength=\\\"\" + value + \"\\\"\");\n                        }\n\n                        /**\n                         * 处理maxLengthRule\n                         * @param maxLengthRule\n                         * @private\n                         */\n                        function _maxLengthRule(maxLengthRule) {\n                            var value = isNaN(parseInt(maxLengthRule.value)) ? 0 : maxLengthRule.value;\n\n                            if (\"not include\" === maxLengthRule.exProperty)\n                                value = (value > 0) ? value - 1 : 0;\n\n                            if (\"character\" == maxLengthRule.unit)\n                                schema.html(\"ng-maxlength=\\\"\" + value + \"\\\"\");\n                            else\n                                schema.html(\"ng-char-maxlength=\\\"\" + value + \"\\\"\");\n                        }\n\n                        /**\n                         * 处理minValueRule\n                         * @param minValueRule\n                         * @private\n                         */\n                        function _minValueRule(minValueRule) {\n                            var value = isNaN(parseFloat(minValueRule.value)) ? 0 : parseFloat(minValueRule.value);\n\n                            if (\"not include\" === minValueRule.exProperty)\n                                value = (value > 0) ? value - 0.01 : 0;\n\n                            schema.html(\"ng-minvalue=\\\"\" + value + \"\\\"\");\n                        }\n\n                        /**\n                         * 处理maxValueRule\n                         * @param maxValueRule\n                         * @private\n                         */\n                        function _maxValueRule(maxValueRule) {\n                            var value = isNaN(parseFloat(maxValueRule.value)) ? 0 : parseFloat(maxValueRule.value);\n\n                            if (\"not include\" === maxValueRule.exProperty)\n                                value = (value > 0) ? value - 0.01 : 0;\n\n                            schema.html(\"ng-maxvalue=\\\"\" + value + \"\\\"\");\n\n                        }\n\n                        /**\n                         * 处理minInputNumRule\n                         * @param minInputNumRule\n                         * @private\n                         */\n                        function _minInputNumRule(minInputNumRule) {\n                            var value = isNaN(parseInt(minInputNumRule.value)) ? 0 : parseInt(minInputNumRule.value);\n\n                            if (\"not include\" === minInputNumRule.exProperty)\n                                value = (value > 0) ? value - 1 : 0;\n\n                            schema.html(\"ng-mininputnum=\\\"\" + value + \"\\\"\");\n                        }\n\n                        /**\n                         * 处理maxInputNumRule\n                         * @param maxInputNumRule\n                         * @private\n                         */\n                        function _maxInputNumRule(maxInputNumRule) {\n                            var value = isNaN(parseInt(maxInputNumRule.value)) ? 0 : parseInt(maxInputNumRule.value);\n\n                            if (\"not include\" === maxInputNumRule.exProperty)\n                                value = (value > 0) ? value - 1 : 0;\n\n                            schema.html(\"ng-maxinputnum=\\\"\" + value + \"\\\"\");\n                        }\n                    }\n                }\n            };\n        });\n\n})();","/**\n * @Description:\n * 用于动态显示options\n * @User:    Edward\n * @Version: 0.2.0, 2015-12-22\n */\n\nangular.module('voyageone.angular.directives.voption', [])\n    .directive('voption', function ($templateCache, $compile) {\n\n        var templateKey_select = \"voyageone.angular.directives.optionSelect.tpl.html\";\n\n        // 显示成select样式\n        if (!$templateCache.get(templateKey_select)) {\n            $templateCache.put(templateKey_select,\n                '<select class=\"form-control\" ng-model=\"$$data.value.value\" ng-options=\"option.value as option.displayName for option in $$data.options\"> <option value=\"\">{{\\'TXT_SELECT_NO_VALUE\\' | translate}}</option></select>');\n        }\n\n        return {\n            restrict: \"E\",\n            replace: true,\n            scope: {\n                $$data: \"=data\"\n            },\n            link: function (scope, element) {\n\n                // 定义不同的展示种类\n                var typeList = {\n                    SINGLE_CHECK: \"SINGLECHECK\"\n                };\n\n                // 监视配置变动\n                scope.$watch('$$data', function () {\n                    refresh();\n                }, true);\n\n                /**\n                 * 根据type选择展示不同的控件\n                 */\n                function refresh() {\n                    var tempHtml;\n                    switch (scope.$$data.type) {\n                        case typeList.SINGLE_CHECK:\n                            tempHtml = $compile($templateCache.get(templateKey_select))(scope);\n                            break;\n                    }\n                    element.html(tempHtml);\n                }\n            }\n        };\n    });","/**\n * @Description:\n * 用于分页\n * @User:    Edward\n * @Version: 0.2.0, 2015-12-08\n */\n\nangular.module('voyageone.angular.directives.vpagination', [])\n    .directive('vpagination', function ($templateCache, $compile, vpagination) {\n\n        var templateKey = \"voyageone.angular.directives.pagination.tpl.html\";\n        var templateKeyNoData = \"voyageone.angular.directives.paginationNoData.tpl.html\";\n\n        // 有数据分页样式\n        if (!$templateCache.get(templateKey)) {\n            $templateCache.put(templateKey,\n                '<div class=\"col-sm-3\">\\n' +\n                '    <div class=\"page-main form-inline\">{{\\'TXT_SHOWING_NO\\' | translate}}&nbsp;<input class=\"text-center\" type=\"text\" ng-model=\"curr.pageNo\"/>&nbsp;/&nbsp;{{totalPages}}&nbsp;{{\\'TXT_PAGE\\' | translate}}&nbsp;' +\n                '        <button class=\"btn btn-xs btn-default\" type=\"button\" ng-click=\"goPage(curr.pageNo)\" translate=\"BTN_GO\"></button>\\n' +\n                '    </div>\\n' +\n                '</div>\\n' +\n                '<div class=\"col-sm-4 text-center\">\\n' +\n                '    <small class=\"text-muted inline m-t-sm m-b-sm\">{{\\'TXT_SHOWING\\' | translate}}&nbsp;{{curr.start}}-{{curr.end}}&nbsp;{{\\'TXT_OF\\' | translate}}&nbsp;{{totalItems}}&nbsp{{\\'TXT_ITEMS\\' | translate}}</small>\\n' +\n                '</div>\\n' +\n                '<div class=\"col-sm-5 text-right text-center-xs\"><div>' +\n                '    <ul class=\"pagination-sm m-t-none m-b pagination ng-isolate-scope ng-valid ng-dirty ng-valid-parse\">\\n' +\n                '        <li ng-class=\"{disabled: curr.isFirst ||ngDisabled}\" class=\"pagination-first\"><a href ng-click=\"goPage(1)\" ng-disabled=\"curr.isFirst\">&laquo;</a></li>\\n' +\n                '        <li ng-class=\"{disabled: curr.isFirst ||ngDisabled}\" class=\"pagination-prev\"><a href ng-click=\"goPage(curr.pageNo - 1)\" ng-disabled=\"curr.isFirst\">&lsaquo;</a></li>\\n' +\n                '        <li ng-if=\"curr.isShowStart\" class=\"disabled\" disabled><a href>...</a></li>\\n' +\n                '        <li ng-repeat=\"page in curr.pages track by $index\" ng-class=\"{active: isCurr(page)}\" class=\"pagination-page\"><a href ng-click=\"goPage(page)\">{{page}}</a></li>\\n' +\n                '        <li ng-if=\"curr.isShowEnd\" class=\"disabled\" disabled><a href>...</a></li>\\n' +\n                '        <li ng-class=\"{disabled: curr.isLast ||ngDisabled}\" class=\"pagination-next\"><a href ng-click=\"goPage(curr.pageNo + 1)\" ng-disabled=\"curr.isLast\">&rsaquo;</a></li>\\n' +\n                '        <li ng-class=\"{disabled: curr.isLast ||ngDisabled}\" class=\"pagination-last\"><a href ng-click=\"goPage(totalPages)\" ng-disabled=\"curr.isLast\">&raquo;</a></li>\\n' +\n                '    </ul>\\n' +\n                '</div>');\n        }\n\n        // 无数据分页样式\n        if (!$templateCache.get(templateKeyNoData)) {\n            $templateCache.put(templateKeyNoData,\n                '<div class=\"col-sm-7 col-sm-offset-2 text-center\">\\n' +\n                '    <small class=\"text-muted inline m-t-sm m-b-sm\">{{\\'TXT_SHOWING\\' | translate}}&nbsp;0-0&nbsp;{{\\'TXT_OF\\' | translate}}&nbsp;0&nbsp{{\\'TXT_ITEMS\\' | translate}}</small>\\n' +\n                '</div>');\n        }\n\n        var defConfig = {curr: 1, total: 0, size: 20, showPageNo:5};\n\n        return {\n            restrict: \"AE\",\n            //templateUrl: templateKey,\n            replace: false,\n            scope: {\n                $$configNameForA: \"@vpagination\",\n                $$configNameForE: \"@config\"\n            },\n            link: function (scope, element) {\n\n                // 获取用户的config配置\n                var userConfigName = scope.$$configNameForA || scope.$$configNameForE;\n                var userConfig = scope.$parent.$eval(userConfigName);\n\n                // 将用户配置覆盖到默认配置后，在重新覆盖到用户配置上，用于补全配置属性\n                var userWithDefConfig = angular.extend({}, defConfig, userConfig);\n                scope.config = angular.extend(userConfig, userWithDefConfig);\n\n                var p = new vpagination(scope.config);\n\n                // 监视配置变动\n                scope.$parent.$watch(userConfigName, function () {\n                    refresh();\n                }, true);\n\n                /**\n                 * 跳转到指定页\n                 * @param num\n                 */\n                scope.goPage = function (num) {\n                    p.goPage(isNaN(Number(num)) ? 1 : Number(num));\n                };\n\n                /**\n                 * 判断是否是当前页\n                 * @param num\n                 * @returns {*|boolean}\n                 */\n                scope.isCurr = function (num) {\n                    return p.isCurr(num);\n                };\n\n                function refresh() {\n\n                    // 获取总页数\n                    scope.totalPages = p.getPageCount();\n                    // 获取总items数\n                    scope.totalItems = p.getTotal();\n                    // 获取当前页的信息\n                    scope.curr = p.getCurr();\n\n                    // 根据总数量显示不同的分页样式\n                    var tempHtml;\n                    if(p.getTotal() == 0) {\n                        tempHtml = $compile($templateCache.get(templateKeyNoData))(scope);\n                    } else {\n                        tempHtml = $compile($templateCache.get(templateKey))(scope);\n                    }\n                    element.html(tempHtml);\n\n                }\n            }\n        };\n    });","/**\n * @Description:\n *\n * @User: linanbin\n * @Version: 2.0.0, 15/12/25\n */\n\nangular.module('voyageone.angular.directives.validator', [])\n\n    // 定义ng-char-maxlength\n    .directive('ngCharMaxlength', function () {\n\n        return {\n            restrict: 'A',\n            require: '?ngModel',\n            link: function(scope, elm, attr, ctrl) {\n                if (!ctrl) return;\n\n                var maxlength = -1;\n                attr.$observe('ngCharMaxlength', function(value) {\n                    var intVal =  parseInt(value) ;\n                    maxlength = isNaN(intVal) ? -1 : intVal;\n                    ctrl.$validate();\n                });\n                ctrl.$validators.maxlength = function(modelValue, viewValue) {\n                    return (maxlength < 0) || ctrl.$isEmpty(viewValue) || (getByteLength(viewValue) <= maxlength);\n                };\n            }\n        };\n\n        /**\n         * 取得字段的字节长度.\n         * @param value\n         * @returns {number}\n         */\n        function getByteLength(value) {\n            var byteLen = 0,len = value.length;\n            if(value){\n                for(var i = 0; i<len; i++){\n                    if(value.charCodeAt(i)>255){\n                        byteLen += 2;\n                    }\n                    else{\n                        byteLen++;\n                    }\n                }\n                return byteLen;\n            }\n            else{\n                return 0;\n            }\n        }\n    })\n\n    // 定义ng-char-minlength\n    .directive('ngCharMinlength', function () {\n\n        return {\n            restrict: 'A',\n            require: '?ngModel',\n            link: function(scope, elm, attr, ctrl) {\n                if (!ctrl) return;\n\n                var minlength = -1;\n                attr.$observe('ngCharMinlength', function(value) {\n                    var intVal =  parseInt(value) ;\n                    minlength = isNaN(intVal) ? -1 : intVal;\n                    ctrl.$validate();\n                });\n                ctrl.$validators.minlength = function(modelValue, viewValue) {\n                    return (minlength < 0) || ctrl.$isEmpty(viewValue) || (getByteLength(viewValue) >= minlength);\n                };\n            }\n        };\n\n        /**\n         * 取得字段的字节长度.\n         * @param value\n         * @returns {number}\n         */\n        function getByteLength(value) {\n            var byteLen = 0,len = value.length;\n            if(value){\n                for(var i = 0; i<len; i++){\n                    if(value.charCodeAt(i)>255){\n                        byteLen += 2;\n                    }\n                    else{\n                        byteLen++;\n                    }\n                }\n                return byteLen;\n            }\n            else{\n                return 0;\n            }\n        }\n    })\n\n    // 定义ng-maxvalue\n    .directive('ngMaxvalue', function () {\n        return {\n            restrict: 'A',\n            require: '?ngModel',\n            link: function (scope, elm, attr, ctrl) {\n                if (!ctrl) return;\n\n                var maxvalue = -1;\n                attr.$observe('ngMaxvalue', function(value) {\n                    if(/^(\\d{4})\\/(\\d{1,2})\\/(\\d{1,2})$/.test(value))\n                        maxvalue = new Date(value);\n                    else if (/^(\\d+)(\\.[0-9]{0,2})?$/.test(value))\n                        maxvalue = isNaN(parseFloat(value)) ? -1 : parseFloat(value);\n                    else if (/^(\\d+)$/.test(value))\n                        maxvalue = isNaN(parseInt(value)) ? -1 : parseInt(value);\n                    else\n                        maxvalue = -1;\n                    ctrl.$validate();\n                });\n                ctrl.$validators.maxvalue = function(modelValue, viewValue) {\n                    return (maxvalue < 0) || ctrl.$isEmpty(viewValue) || (viewValue <= maxvalue);\n                };\n            }\n        }\n    })\n\n    // 定义ng-minvalue\n    .directive('ngMinvalue', function () {\n        return {\n            restrict: 'A',\n            require: '?ngModel',\n            link: function (scope, elm, attr, ctrl) {\n                if (!ctrl) return;\n\n                var minvalue = -1;\n                attr.$observe('ngMinvalue', function(value) {\n                    if(/^(\\d{4})\\/(\\d{1,2})\\/(\\d{1,2})$/.test(value))\n                        minvalue = new Date(value);\n                    else if (/^(\\d+)(\\.[0-9]{0,2})?$/.test(value))\n                        minvalue = isNaN(parseFloat(value)) ? -1 : parseFloat(value);\n                    else if (/^(\\d+)$/.test(value))\n                        minvalue = isNaN(parseInt(value)) ? -1 : parseInt(value);\n                    else\n                        minvalue = -1;\n                    ctrl.$validate();\n                });\n                ctrl.$validators.minvalue = function(modelValue, viewValue) {\n                    return (minvalue < 0) || ctrl.$isEmpty(viewValue) || (viewValue >= minvalue);\n                };\n            }\n        }\n    })\n\n    // 定义ng-maxinputnum\n    .directive('ngMaxinputnum', function () {\n        return {\n            restrict: 'A',\n            require: '?ngModel',\n            link: function (scope, elm, attr, ctrl) {\n                if (!ctrl) return;\n\n                var maxvalue = -1;\n                attr.$observe('ngMaxinputvalue', function(value) {\n                    maxvalue = isNaN(parseInt(value)) ? -1 : parseInt(value);\n                    ctrl.$validate();\n                });\n                ctrl.$validators.maxinputnum = function(modelValue, viewValue) {\n                    return (maxvalue < 0) || ctrl.$isEmpty(viewValue) || (viewValue.length <= maxvalue);\n                };\n            }\n        }\n    })\n\n    // 定义ng-mininputnum\n    .directive('ngMininputnum', function () {\n        return {\n            restrict: 'A',\n            require: '?ngModel',\n            link: function (scope, elm, attr, ctrl) {\n                if (!ctrl) return;\n\n                var minvalue = -1;\n                attr.$observe('ngMininputnum', function(value) {\n                    minvalue = isNaN(parseInt(value)) ? -1 : parseInt(value);\n                    ctrl.$validate();\n                });\n                ctrl.$validators.mininputnum = function(modelValue, viewValue) {\n                    return (minvalue < 0) || ctrl.$isEmpty(viewValue) || (viewValue.length >= minvalue);\n                };\n            }\n        }\n    })\n;","/**\n * @description\n *\n * 自动创建基于地址定义的数据访问 service.\n * 传入的定义必须是 {object}, 并且至少有 root 属性\n *\n * @User: Jonas\n * @Date: 2015-12-10 19:32:37\n * @Version: 2.0.0\n */\n\n//@Skip\nangular.module('voyageone.angular.vresources', [])\n  .provider('$vresources', function ($provide) {\n\n    /**\n     * @description 构建请求地址的 url\n     * @param {string} root 请求的根路径\n     * @param {string} action 请求的名称\n     * @returns {string}\n     */\n    function getActionUrl(root, action) {\n      return root + (root.lastIndexOf('/') === root.length - 1 ? '' : '/') + action;\n    }\n\n    /**\n     * 闭包声明一个数据访问的 Service\n     * @param {string} name Service 的名称\n     * @param {object} actions 方法和地址定义\n     * @param {AjaxService} ajaxService 封装的 ajax 发送服务\n     */\n    function closureDataService(name, actions, ajaxService) {\n      /**\n       * @description 与 actions 一同闭包的构造函数\n       * @constructor\n       */\n      function DataResource() {\n        if (!actions) {\n          return;\n        }\n\n        if (typeof actions !== \"object\") {\n          console.log(\"Failed to new DataResource: [\" + actions + \"] is not a object\");\n          return;\n        }\n\n        if (!actions.root) {\n          console.log(\"Failed to new DataResource: no root prop\" + (JSON && JSON.stringify ? \": \" + JSON.stringify(actions) : \"\"));\n          return;\n        }\n\n        // 遍历配置\n        for (var name in actions) {\n          // 不对 root 进行创建\n          if (name === \"root\") continue;\n          // 额外的检查\n          if (actions.hasOwnProperty(name)) {\n            // 闭包创建函数\n            this[name] = (function (actionUrl) {\n              return function (data) {\n                return ajaxService.post(actionUrl, data);\n              };\n            })(getActionUrl(actions.root, actions[name]));\n          }\n        }\n      }\n\n      $provide.service(name, DataResource);\n    }\n\n    this.$get = function (ajaxService) {\n\n      return {\n        register: function (name, actions) {\n\n          if (!actions) return;\n\n          if (typeof actions !== 'object') return;\n\n          // 如果有 root 这个属性,就创建 service\n          if (actions.root) {\n            closureDataService(name, actions, ajaxService);\n            return;\n          }\n\n          // 否则继续访问子属性\n          for (var childName in actions) {\n            // 额外的检查\n            if (actions.hasOwnProperty(childName)) {\n\n              this.register(childName, actions[childName]);\n            }\n          }\n        }\n      };\n    };\n  })\n\n  .run(function ($vresources, $actions) {\n    $vresources.register(null, $actions);\n  });","/**\n * @Date:    2015-11-16 18:48:29\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.services.ajax', [])\n  .service('$ajax', $Ajax)\n  .service('ajaxService', AjaxService);\n\nfunction $Ajax($http, blockUI, $q) {\n  this.$http = $http;\n  this.blockUI = blockUI;\n  this.$q = $q;\n}\n$Ajax.prototype.post = function (url, data) {\n\n  var defer = this.$q.defer();\n  this.$http.post(url, data).then(function (response) {\n    var res = response.data;\n    if (!res) {\n      alert('相应结果不存在?????');\n      defer.reject(null);\n      return;\n    }\n    if (res.message || res.code) {\n      defer.reject(res);\n      return;\n    }\n    defer.resolve(res);\n  }, function (response) {\n    defer.reject(null, response);\n  });\n  return defer.promise;\n};\n\nfunction AjaxService($q, $ajax, messageService) {\n  this.$q = $q;\n  this.$ajax = $ajax;\n  this.messageService = messageService;\n}\nAjaxService.prototype.post = function (url, data) {\n\n  var defer = this.$q.defer();\n\n  this.$ajax.post(url, data).then(function(res) {\n    // 成功\n    defer.resolve(res);\n    return res;\n  }, (function (_this) {\n    // 失败\n    return function(res) {\n      _this.messageService.show(res);\n      defer.reject(res);\n      return res;\n    };\n  })(this));\n\n  return defer.promise;\n};","/**\n * @Date:    2015-11-16 20:30:37\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.services.cookie', [])\n    .service('cookieService', CookieService);\n\nvar keys = {\n    language: 'voyageone.user.language',\n    company: 'voyageone.user.company',\n    channel: 'voyageone.user.channel',\n    application: \"voyageone.user.application\"\n};\n\nfunction gentProps(key) {\n    return function (val) {\n        if (arguments.length === 1) {\n            return this.set(key, val);\n        } else if (arguments.length > 1) {\n            return this.set(key, arguments);\n        }\n        return this.get(key);\n    };\n}\n\nfunction CookieService($cookieStore) {\n    this.$cookieStore = $cookieStore;\n}\n\nCookieService.prototype.get = function (key) {\n    var result = this.$cookieStore.get(key);\n    return result == undefined || result == null ? \"\" : this.$cookieStore.get(key);\n};\n\nCookieService.prototype.set = function (key, value) {\n    return this.$cookieStore.put(key, value);\n};\n\nCookieService.prototype.language = gentProps(keys.language);\n\nCookieService.prototype.company = gentProps(keys.company);\n\nCookieService.prototype.channel = gentProps(keys.channel);\n\nCookieService.prototype.application = gentProps(keys.application);\n\nCookieService.prototype.removeAll = function () {\n    this.$cookieStore.remove(keys.language);\n    this.$cookieStore.remove(keys.company);\n    this.$cookieStore.remove(keys.channel);\n    this.$cookieStore.remove(keys.application);\n};\n","/**\n * 对后台的信息进行自动处理\n * @Date:    2015-11-19 14:47:23\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.services.message', [])\n  .service('messageService', MessageService);\n\n// 同步,DisplayType 枚举\nvar DISPLAY_TYPES = {\n  /**\n   * 弹出提示\n   */\n  ALERT: 1,\n  /**\n   * 顶端弹出自动关闭\n   */\n  NOTIFY: 2,\n  /**\n   * 右下弹出自动关闭\n   */\n  POP: 3,\n  /**\n   * 用户自定义处理\n   */\n  CUSTOM: 4\n};\n\nfunction MessageService(alert, confirm, notify) {\n  this.alert = alert;\n  this.confirm = confirm;\n  this.notify = notify;\n}\n\nMessageService.prototype = {\n  /**\n   * 根据类型自动显示信息\n   * @param {{displayType:Number, message:String}} res\n   */\n  show: function(res) {\n\n    var displayType = res.displayType;\n    var message = res.message;\n\n    switch (displayType) {\n      case DISPLAY_TYPES.ALERT:\n        this.alert(message);\n        break;\n      case DISPLAY_TYPES.NOTIFY:\n        this.notify(message);\n        break;\n      case DISPLAY_TYPES.POP:\n        this.notify({message: message, position: 'right bottom'});\n        break;\n    }\n  }\n};","/**\n * @Date:    2015-11-19 14:26:43\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.services.permission', [])\n  .service('permissionService', PermissionService);\n\nfunction PermissionService($rootScope) {\n  this.$rootScope = $rootScope;\n  this.permissions = [];\n}\n\nPermissionService.prototype = {\n  /**\n   * set the action permissions.\n   * @param permissions\n   */\n  setPermissions: function(permissions) {\n    this.permissions = permissions;\n    this.$rootScope.$broadcast('permissionsChanged');\n  },\n  /**\n   * check the permission has been in action permissions.\n   * @param permission\n   * @returns {boolean|*}\n   */\n  has: function(permission) {\n    return _.contains(this.permissions, permission.trim());\n  }\n};\n","/**\n * @Date:    2015-11-19 14:35:25\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.services.translate', [])\n  .service('translateService', TranslateService);\n\nfunction TranslateService($translate) {\n  this.$translate = $translate;\n}\n\nTranslateService.prototype = {\n  languages: {\n    en: \"en\",\n    zh: \"zh\"\n  },\n  /**\n   * set the web side language type.\n   * @param key\n   */\n  setLanguage: function(language) {\n    if (!_.contains(this.languages, language)) {\n      language = this.getBrowserLanguage();\n    }\n    this.$translate.use(language);\n    return language;\n  },\n  /**\n   * get the browser language type.\n   * @returns {string}\n   */\n  getBrowserLanguage: function() {\n    var currentLang = navigator.language;\n    if (!currentLang)\n      currentLang = navigator.browserLanguage;\n    return currentLang.substr(0, 2);\n  }\n};\n"],"sourceRoot":"components/angular"}