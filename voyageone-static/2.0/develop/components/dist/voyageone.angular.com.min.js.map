{"version":3,"sources":["voyageone.angular.com.min.js","directives/enterClick.directive.js","filestyle.directive.js","directives/filestyle.directive.js","interceptor.factory.js","factories/interceptor.factory.js","ajax.service.js","services/ajax.service.js","cookie.service.js","services/cookie.service.js","message.service.js","services/message.service.js","permission.service.js","services/permission.service.js","translate.service.js","services/translate.service.js"],"names":["define","angular","module","directive","restrict","link","scope","elem","attr","$","keyup","e","keyCode","targetElem","selectExp","enterClick","handler","click","element","length","$eval","controller","$scope","$element","options","data","classInput","filestyle","InterceptorFactory","request","config","response","res","requestError","responseError","factory","AjaxService","$http","blockUI","this","service","$inject","prototype","post","url","start","success","_this","stop","gentProps","key","val","arguments","set","get","CookieService","$cookieStore","keys","language","company","channel","value","put","$messageHelper","$modal","$filter","$templateCache","tran","translationId","values","templateUrl","_","isObject","content","id","title","modalInstance","open","extend","size","close","dismiss","ok","MessageService","alert","isAlert","confirm","PermissionService","$rootScope","permissions","setPermissions","$broadcast","has","permission","contains","trim","TranslateService","$translate","languages","en","zh","setLanguage","getBrowserLanguage","use","currentLang","navigator","browserLanguage","substr"],"mappings":"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","file":"voyageone.angular.com.min.js","sourcesContent":["define(function(){\n(function(){\n/**\n * @Date: 2015-11-19 15:13:02\n * @User: Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.directives.enterClick', [])\n  .directive('enterClick', function() {\n    return {\n      restrict: \"A\",\n      link: function(scope, elem, attr) {\n        $(elem).keyup(function(e) {\n          if (e.keyCode !== 13) return;\n\n          var selectExp = attr.enterClick;\n\n          var targetElem, handler = function() {\n            targetElem.click();\n          };\n\n          try {\n            targetElem = angular.element(selectExp);\n          } catch (e) {\n            targetElem = null\n          }\n\n          if (!targetElem || !targetElem.length) {\n            // 如果取不到元素，则尝试作为表达式执行\n            handler = function() {\n              scope.$eval(selectExp);\n            };\n          } else if (targetElem.attr(\"disabled\")) {\n            // 如果元素存在，但是是禁用状态的，放弃执行\n            return;\n          }\n\n          handler();\n        });\n      }\n    };\n  });\n})();\n(function(){\n/**\n * @Description:\n * 引入对上传框插件 fileStyle 的指令支持\n * @Date:    2015-11-19 17:35:22\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.directives.fileStyle', [])\n  .directive('fileStyle', function () {\n    return {\n      restrict: 'A',\n      controller: [\"$scope\", \"$element\", function ($scope, $element) {\n        var options = $element.data();\n        // old usage support\n        options.classInput = $element.data('classinput') || options.classInput;\n        $element.filestyle(options);\n      }]\n    };\n  });})();\n(function(){\n/**\n * @Date:    2015-11-16 20:51:05\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.factories.interceptor', [])\n  .factory('interceptorFactory', InterceptorFactory);\n\nfunction InterceptorFactory() {\n  return {\n    request: function(config) {\n      return config;\n    },\n    response: function(res) {\n      return res;\n    },\n    requestError: function(config) {\n      return config;\n    },\n    responseError: function(res) {}\n  };\n}\n})();\n(function(){\n/**\n * @Date:    2015-11-16 18:48:29\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.services.ajax', [])\n  .service('ajaxService', AjaxService);\n\nfunction AjaxService($http, blockUI) {\n  this.$http = $http;\n  this.blockUI = blockUI;\n}\nAjaxService.$inject = [\"$http\", \"blockUI\"];\n\nAjaxService.prototype.post = function(url, data) {\n  this.blockUI.start();\n  return this.$http.post(url, data).success((function(_this) {\n    return function(response) {\n      _this.blockUI.stop();\n      return response;\n    }\n  })(this));\n};\n})();\n(function(){\n/**\n * @Date:    2015-11-16 20:30:37\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.services.cookie', [])\n  .service('cookieService', CookieService);\n\nvar keys = {\n  language: 'voyageone.user.language',\n  company: 'voyageone.user.company',\n  channel: 'voyageone.user.channel'\n};\n\nfunction gentProps(key) {\n  return function(val) {\n    if (arguments.length === 1) {\n      return this.set(key, val);\n    } else if (arguments.length > 1) {\n      return this.set(key, arguments);\n    }\n    return this.get(key);\n  };\n}\n\nfunction CookieService($cookieStore) {\n  this.$cookieStore = $cookieStore;\n  // init\n  this.set(this.keys.language, '');\n  this.set(this.keys.company, '');\n  this.set(this.keys.channel, '');\n}\nCookieService.$inject = [\"$cookieStore\"];\n\nCookieService.prototype.get = function(key) {\n  return this.$cookieStore.get(key);\n};\n\nCookieService.prototype.set = function(key, value) {\n  return this.$cookieStore.put(key, value);\n};\n\nCookieService.prototype.language = gentProps(keys.language);\n\nCookieService.prototype.company = gentProps(keys.company);\n\nCookieService.prototype.channel = gentProps(keys.channel);\n})();\n(function(){\n/**\n * @Date:    2015-11-19 14:47:23\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.services.message', [])\n  .factory(\"$messageHelper\", $messageHelper)\n  .service('messageService', MessageService);\n\nfunction $messageHelper($modal, $filter, $templateCache) {\n\n  var templateUrl = \"voyageone/cms/angular/service/messageHelper.tpl.html\";\n\n  $templateCache.put(templateUrl, '<div class=\"vo_modal\">' +\n    '<div class=\"modal-header\">' +\n    '<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"close()\"><span' +\n    'aria-hidden=\"true\"><i ng-click=\"close()\" class=\"fa fa-close\"></i></span></button>' +\n    '<h4 class=\"modal-title\" ng-bind-html=\"title\"></h4>' +\n    '</div>' +\n    '<div class=\"modal-body wrapper-lg\">' +\n    '<div class=\"row\">' +\n    '<p ng-bind-html=\"content\"></p>' +\n    '</div>' +\n    '</div>' +\n    '<div class=\"modal-footer\">' +\n    '<button class=\"btn btn-default btn-sm\" ng-if=\"!isAlert\" ng-click=\"close()\" translate=\"CORE_BUTTON_CANCEL\"></button>' +\n    '<button class=\"btn btn-vo btn-sm\" ng-click=\"ok()\" translate=\"CORE_BUTTON_OK\"></button>' +\n    '</div>' +\n    '</div>');\n\n  function tran(translationId, values) {\n    return $filter('translate')(translationId, values);\n  }\n\n  return function(options) {\n    if (!_.isObject(options)) throw \"arg type must be object\";\n    var values;\n    if (_.isObject(options.content)) {\n      values = options.content.values;\n      options.content = options.content.id;\n    }\n    options.title = tran(options.title);\n    options.content = tran(options.content, values);\n    var modalInstance = $modal.open({\n      templateUrl: templateUrl,\n      controller: [\"$scope\", function(scope) {\n        _.extend(scope, options);\n      }],\n      size: 'md'\n    });\n    options.close = function() {\n      modalInstance.dismiss('close')\n    };\n    options.ok = function() {\n      modalInstance.close('');\n    };\n    return modalInstance;\n  };\n}\n$messageHelper.$inject = [\"$modal\", \"$filter\", \"$templateCache\"];\n\nfunction MessageService($messageHelper) {\n  this.$messageHelper = $messageHelper;\n}\nMessageService.$inject = [\"$messageHelper\"];\n\nMessageService.prototype = {\n  alert: function(content, title) {\n    return this.$messageHelper({\n      title: title || 'CORE_TXT_ALERT',\n      content: content,\n      isAlert: true\n    });\n  },\n  confirm: function(content, title) {\n    return this.$messageHelper({\n      title: title || 'CORE_TXT_CONFIRM',\n      content: content,\n      isAlert: false\n    });\n  }\n};\n})();\n(function(){\n/**\n * @Date:    2015-11-19 14:26:43\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.services.permission', [])\n  .service('permissionService', PermissionService);\n\nfunction PermissionService($rootScope) {\n  this.$rootScope = $rootScope;\n  this.permissions = [];\n}\nPermissionService.$inject = [\"$rootScope\"];\n\nPermissionService.prototype = {\n  /**\n   * set the action permissions.\n   * @param permissions\n   */\n  setPermissions: function(permissions) {\n    this.permissions = permissions;\n    this.$rootScope.$broadcast('permissionsChanged');\n  },\n  /**\n   * check the permission has been in action permissions.\n   * @param permission\n   * @returns {boolean|*}\n   */\n  has: function(permission) {\n    return _.contains(this.permissions, permission.trim());\n  }\n};\n})();\n(function(){\n/**\n * @Date:    2015-11-19 14:35:25\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.services.translate', [])\n  .service('translateService', TranslateService);\n\nfunction TranslateService($translate) {\n  this.$translate = $translate;\n}\nTranslateService.$inject = [\"$translate\"];\n\nTranslateService.prototype = {\n  languages: {\n    en: \"en\",\n    zh: \"zh\"\n  },\n  /**\n   * set the web side language type.\n   * @param key\n   */\n  setLanguage: function(language) {\n    if (!_.contains(this.languages, language)) {\n      language = this.getBrowserLanguage();\n    }\n    this.$translate.use(language);\n    return language;\n  },\n  /**\n   * get the browser language type.\n   * @returns {string}\n   */\n  getBrowserLanguage: function() {\n    var currentLang = navigator.language;\n    if (!currentLang)\n      currentLang = navigator.browserLanguage;\n    return currentLang.substr(0, 2);\n  }\n};\n})();angular.module('voyageone.angular.services', [\n  'voyageone.angular.services.ajax',\n  'voyageone.angular.services.cookie',\n  'voyageone.angular.services.message',\n  'voyageone.angular.services.permission',\n  'voyageone.angular.services.translate'\n]);\nangular.module('voyageone.angular.factories', [\n  'voyageone.angular.factories.interceptor'\n]);\nangular.module('voyageone.angular.directives', [\n  'voyageone.angular.directives.enterClick'\n]);\nangular.module('voyageone.angular.filters', [\n]);\nreturn angular.module('voyageone.angular', [\n  'voyageone.angular.services',\n  'voyageone.angular.factories',\n  'voyageone.angular.directives',\n  'voyageone.angular.filters'\n]);\n});","/**\n * @Date: 2015-11-19 15:13:02\n * @User: Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.directives.enterClick', [])\n  .directive('enterClick', function() {\n    return {\n      restrict: \"A\",\n      link: function(scope, elem, attr) {\n        $(elem).keyup(function(e) {\n          if (e.keyCode !== 13) return;\n\n          var selectExp = attr.enterClick;\n\n          var targetElem, handler = function() {\n            targetElem.click();\n          };\n\n          try {\n            targetElem = angular.element(selectExp);\n          } catch (e) {\n            targetElem = null\n          }\n\n          if (!targetElem || !targetElem.length) {\n            // 如果取不到元素，则尝试作为表达式执行\n            handler = function() {\n              scope.$eval(selectExp);\n            };\n          } else if (targetElem.attr(\"disabled\")) {\n            // 如果元素存在，但是是禁用状态的，放弃执行\n            return;\n          }\n\n          handler();\n        });\n      }\n    };\n  });\n",null,"/**\n * @Description:\n * 引入对上传框插件 fileStyle 的指令支持\n * @Date:    2015-11-19 17:35:22\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.directives.fileStyle', [])\n  .directive('fileStyle', function () {\n    return {\n      restrict: 'A',\n      controller: [\"$scope\", \"$element\", function ($scope, $element) {\n        var options = $element.data();\n        // old usage support\n        options.classInput = $element.data('classinput') || options.classInput;\n        $element.filestyle(options);\n      }]\n    };\n  });",null,"/**\n * @Date:    2015-11-16 20:51:05\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.factories.interceptor', [])\n  .factory('interceptorFactory', InterceptorFactory);\n\nfunction InterceptorFactory() {\n  return {\n    request: function(config) {\n      return config;\n    },\n    response: function(res) {\n      return res;\n    },\n    requestError: function(config) {\n      return config;\n    },\n    responseError: function(res) {}\n  };\n}\n",null,"/**\n * @Date:    2015-11-16 18:48:29\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.services.ajax', [])\n  .service('ajaxService', AjaxService);\n\nfunction AjaxService($http, blockUI) {\n  this.$http = $http;\n  this.blockUI = blockUI;\n}\n\nAjaxService.prototype.post = function(url, data) {\n  this.blockUI.start();\n  return this.$http.post(url, data).success((function(_this) {\n    return function(response) {\n      _this.blockUI.stop();\n      return response;\n    }\n  })(this));\n};\n",null,"/**\n * @Date:    2015-11-16 20:30:37\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.services.cookie', [])\n  .service('cookieService', CookieService);\n\nvar keys = {\n  language: 'voyageone.user.language',\n  company: 'voyageone.user.company',\n  channel: 'voyageone.user.channel'\n};\n\nfunction gentProps(key) {\n  return function(val) {\n    if (arguments.length === 1) {\n      return this.set(key, val);\n    } else if (arguments.length > 1) {\n      return this.set(key, arguments);\n    }\n    return this.get(key);\n  };\n}\n\nfunction CookieService($cookieStore) {\n  this.$cookieStore = $cookieStore;\n  // init\n  this.set(this.keys.language, '');\n  this.set(this.keys.company, '');\n  this.set(this.keys.channel, '');\n}\n\nCookieService.prototype.get = function(key) {\n  return this.$cookieStore.get(key);\n};\n\nCookieService.prototype.set = function(key, value) {\n  return this.$cookieStore.put(key, value);\n};\n\nCookieService.prototype.language = gentProps(keys.language);\n\nCookieService.prototype.company = gentProps(keys.company);\n\nCookieService.prototype.channel = gentProps(keys.channel);\n",null,"/**\n * @Date:    2015-11-19 14:47:23\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.services.message', [])\n  .factory(\"$messageHelper\", $messageHelper)\n  .service('messageService', MessageService);\n\nfunction $messageHelper($modal, $filter, $templateCache) {\n\n  var templateUrl = \"voyageone/cms/angular/service/messageHelper.tpl.html\";\n\n  $templateCache.put(templateUrl, '<div class=\"vo_modal\">' +\n    '<div class=\"modal-header\">' +\n    '<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"close()\"><span' +\n    'aria-hidden=\"true\"><i ng-click=\"close()\" class=\"fa fa-close\"></i></span></button>' +\n    '<h4 class=\"modal-title\" ng-bind-html=\"title\"></h4>' +\n    '</div>' +\n    '<div class=\"modal-body wrapper-lg\">' +\n    '<div class=\"row\">' +\n    '<p ng-bind-html=\"content\"></p>' +\n    '</div>' +\n    '</div>' +\n    '<div class=\"modal-footer\">' +\n    '<button class=\"btn btn-default btn-sm\" ng-if=\"!isAlert\" ng-click=\"close()\" translate=\"CORE_BUTTON_CANCEL\"></button>' +\n    '<button class=\"btn btn-vo btn-sm\" ng-click=\"ok()\" translate=\"CORE_BUTTON_OK\"></button>' +\n    '</div>' +\n    '</div>');\n\n  function tran(translationId, values) {\n    return $filter('translate')(translationId, values);\n  }\n\n  return function(options) {\n    if (!_.isObject(options)) throw \"arg type must be object\";\n    var values;\n    if (_.isObject(options.content)) {\n      values = options.content.values;\n      options.content = options.content.id;\n    }\n    options.title = tran(options.title);\n    options.content = tran(options.content, values);\n    var modalInstance = $modal.open({\n      templateUrl: templateUrl,\n      controller: [\"$scope\", function(scope) {\n        _.extend(scope, options);\n      }],\n      size: 'md'\n    });\n    options.close = function() {\n      modalInstance.dismiss('close')\n    };\n    options.ok = function() {\n      modalInstance.close('');\n    };\n    return modalInstance;\n  };\n}\n\nfunction MessageService($messageHelper) {\n  this.$messageHelper = $messageHelper;\n}\n\nMessageService.prototype = {\n  alert: function(content, title) {\n    return this.$messageHelper({\n      title: title || 'CORE_TXT_ALERT',\n      content: content,\n      isAlert: true\n    });\n  },\n  confirm: function(content, title) {\n    return this.$messageHelper({\n      title: title || 'CORE_TXT_CONFIRM',\n      content: content,\n      isAlert: false\n    });\n  }\n};\n",null,"/**\n * @Date:    2015-11-19 14:26:43\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.services.permission', [])\n  .service('permissionService', PermissionService);\n\nfunction PermissionService($rootScope) {\n  this.$rootScope = $rootScope;\n  this.permissions = [];\n}\n\nPermissionService.prototype = {\n  /**\n   * set the action permissions.\n   * @param permissions\n   */\n  setPermissions: function(permissions) {\n    this.permissions = permissions;\n    this.$rootScope.$broadcast('permissionsChanged');\n  },\n  /**\n   * check the permission has been in action permissions.\n   * @param permission\n   * @returns {boolean|*}\n   */\n  has: function(permission) {\n    return _.contains(this.permissions, permission.trim());\n  }\n};\n",null,"/**\n * @Date:    2015-11-19 14:35:25\n * @User:    Jonas\n * @Version: 0.2.0\n */\n\nangular.module('voyageone.angular.services.translate', [])\n  .service('translateService', TranslateService);\n\nfunction TranslateService($translate) {\n  this.$translate = $translate;\n}\n\nTranslateService.prototype = {\n  languages: {\n    en: \"en\",\n    zh: \"zh\"\n  },\n  /**\n   * set the web side language type.\n   * @param key\n   */\n  setLanguage: function(language) {\n    if (!_.contains(this.languages, language)) {\n      language = this.getBrowserLanguage();\n    }\n    this.$translate.use(language);\n    return language;\n  },\n  /**\n   * get the browser language type.\n   * @returns {string}\n   */\n  getBrowserLanguage: function() {\n    var currentLang = navigator.language;\n    if (!currentLang)\n      currentLang = navigator.browserLanguage;\n    return currentLang.substr(0, 2);\n  }\n};\n"],"sourceRoot":"/source/"}