<div>
    <object id="AutoScale" classid="clsid:0F8E58C5-FB1B-11E3-B02E-74867A50EFA7" style="display: none;"></object>
</div>
<div class="container-fluid" ng-controller="receiveListCtrl">
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title">
                Advanced Search
            </h3>
        </div>
        <div class="panel-body">
            <div class="mb10 form-inline">
                <span class="input-group">
                    <label for="pickup-orderNumber" class="input-group-addon" translate="WMS_ORDERNUMBER"></label>
                    <input id="pickup-orderNumber" class="form-control" type="text" ng-model="vm.search.orderNumber" placeholder="OrderNumber"/>
                </span>
                <span class="input-group">
                    <label for="pickup-reservationID" class="input-group-addon" translate="WMS_RESID"></label>
                    <input id="pickup-reservationID" class="form-control" type="text" ng-model="vm.search.reservationId" placeholder="ReservationID"/>
                </span>
                <span class="input-group">
                    <label for="pickup-sku" class="input-group-addon" translate="WMS_SKU"></label>
                    <input id="pickup-sku" class="form-control" type="text" ng-model="vm.search.sku" placeholder="SKU"/>
                </span>
                <span class="input-group">
                    <label for="pickup-status" class="input-group-addon" translate="WMS_STATUS"></label>
                    <select chosen style="width: 190px"
                            id="pickup-status"
                            class="form-control"
                            ng-model="vm.search.status"
                            ng-options="i.id as i.name for i in vm.status">
                        <option value="">All</option>
                    </select>
                </span>
                <span class="input-group">
                    <label for="pickup-store" class="input-group-addon" translate="WMS_STORE"></label>
                    <select chosen style="width: 100px"
                            id="pickup-store"
                            class="form-control"
                            ng-model="vm.search.store"
                            ng-options="i.store_id as i.store_name for i in vm.stores">
                    </select>
                </span>
                <span class="input-group">
                    <label class="input-group-addon" translate="WMS_FROM"></label>
                    <input class="form-control" type="text" ng-model="vm.search.fromDate" is-open="fromOpened" max-date="vm.search.toDate" ng-click="fromOpened = true"
                           placeholder="Select a date" datepicker-popup="yyyy-MM-dd" datepicker-append-to-body="1"/>
                    <label class="input-group-addon" translate="WMS_TO"></label>
                    <input class="form-control" type="text" ng-model="vm.search.toDate" is-open="toOpened"  min-date="vm.search.fromDate" ng-click="toOpened = true"
                           placeholder="Select a date" datepicker-popup="yyyy-MM-dd" datepicker-append-to-body="1"/>
                </span>
                <button class="btn btn-primary" type="button" ng-click="searchPickup()" translate="WMS_SEARCH"></button>
            </div>
        </div>
    </div>
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title">
                Receive
            </h3>
        </div>
        <div class="panel-body ng-binding form-inline">
           <div class="input-group">
                <!--<label for="select-store" class="input-group-addon" translate="WMS_STORE"></label>-->
                <!--<select chosen style="width: 100px"-->
                        <!--id="select-store"-->
                        <!--class="form-control"-->
                        <!--ng-model="vm.scan.store"-->
                        <!--ng-options="i.store_id as i.store_name for i in vm.selectStores">-->
                <!--</select>-->
               <label class="input-group-addon" translate="WMS_STORE"></label>
               <div class="input-group">
                <ui-select ng-model="vm.scan.store" style="min-width: 130px">
                   <ui-select-match placeholder="select a store">{{$select.selected.store_name}}</ui-select-match>
                   <ui-select-choices repeat="i.store_id as i in vm.selectStores | filter: $select.search" >
                       <div ng-bind-html="i.store_name"></div>
                   </ui-select-choices>
                </ui-select>
               </div>
                &nbsp;&nbsp;
            </div>
            <div class="input-group">
                <label class="control-label" translate="WMS_TYPE"></label>
                <div class="btn-group" bs-radio-group>
                    <label class="radio-inline">
                        <input type="radio" name="inlineRadioOptions" value="Scan" ng-model="vm.scan.mode" ng-click="changePickup()"><span class="ng-scope" translate="WMS_SCAN"></span>
                    </label>
                    <br/>
                    <label class="radio-inline">
                        <input type="radio" name="inlineRadioOptions" value="ReLabel" ng-model="vm.scan.mode" ng-click="changePickup()"><span class="ng-scope" translate="WMS_RELABEL"></span>
                    </label>
                </div>
            </div>
            <div class="form-group">
                <input id="scanNo" class="form-control" ng-model="vm.scan.no" type="text" enter-click="#btnScan" placeholder="BarCode"/>
                <button id="btnScan" class="btn btn-sm btn-primary" ng-click="scanPickup()" translate="WMS_SCAN"></button>
                &nbsp;&nbsp;
            </div>
            <div class="form-group">
                <div class="table-responsive mb10">
                    <table class="table table-striped table-bordered table-hover table-condensed">
                        <thead>
                        <tr>
                            <th style="text-align: center;" translate="WMS_ORDERNUMBER"></th>
                            <th style="text-align: center;" translate="WMS_RESID"></th>
                            <th style="text-align: center;" translate="WMS_CHANNEL"></th>
                            <th style="text-align: center;" translate="WMS_SHIP"></th>
                            <th style="text-align: center;" translate="WMS_STORE"></th>
                            <th style="text-align: center;" translate="WMS_SKU"></th>
                            <th style="text-align: center;" translate="WMS_DESCRIPTION"></th>
                            <th style="text-align: center;" translate="WMS_STATUS"></th>
                            <th style="text-align: center;" translate="WMS_CREATETIME"></th>
                            <th style="text-align: center;" translate="WMS_MODIFYTIME"></th>
                            <th style="text-align: center;" translate="WMS_OPERATION"></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr class="success" ng-if="!vm.lastPrint || !vm.lastPrint.length">
                            <td colspan="10" class="text-center"></td>
                            <td ><a class="btn btn-xs btn-primary" ng-click="reLabelPickup()" translate="WMS_RELABEL"></a></td>
                        </tr>
                        <tr class="success" ng-repeat="r in vm.lastPrint">
                            <td style="text-align: center;">{{ r.order_number }}</td>
                            <td style="text-align: center;">{{ r.id }}</td>
                            <td style="text-align: center;">{{ r.order_channel_name }}</td>
                            <td style="text-align: center;">{{ r.ship_channel }}</td>
                            <td style="text-align: center;">{{ r.store }}</td>
                            <td>{{ r.sku }}</td>
                            <td>{{ r.product }}</td>
                            <td>{{ r.status_name }}</td>
                            <td style="text-align: center;">{{ r.created_local }}</td>
                            <td style="text-align: center;">{{ r.modified_local }}</td>
                            <td><a class="btn btn-xs btn-primary" ng-click="reLabelPickup()" translate="WMS_RELABEL"></a></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="panel panel-primary">
        <br/>
        <div class="col-lg-12">
            <span translate="WMS_RECORDNUMBER"></span><span ng-bind="vm.paging.total"></span>
        </div>
        <!--<div class="text-right col-lg-8">-->
            <!--<a class="btn btn-xs btn-primary"  href="./wms/pickup/list/download?type=1" target="_blank" translate="WMS_DLPICKUPITEMSBYRESVERTION"></a>-->
            <!--<a class="btn btn-xs btn-primary"  href="./wms/pickup/list/download?type=2" target="_blank" translate="WMS_DLPICKUPITEMSBYSKU"></a>-->
        <!--</div>-->
        <div class="panel-body">
            <div class="table-responsive mb10">
                <table if-no-rows="reservationList" class="table table-striped table-bordered table-hover table-condensed">
                    <thead>
                    <tr>
                        <th class="col-fix-no">#</th>
                        <th style="text-align: center;" translate="WMS_ORDERNUMBER"></th>
                        <th style="text-align: center;" translate="WMS_RESID"></th>
                        <th style="text-align: center;" translate="WMS_CHANNEL"></th>
                        <th style="text-align: center;" translate="WMS_SHIP"></th>
                        <th style="text-align: center;" translate="WMS_STORE"></th>
                        <th style="text-align: center;" translate="WMS_SKU"></th>
                        <th style="text-align: center;" translate="WMS_DESCRIPTION"></th>
                        <th style="text-align: center;" translate="WMS_STATUS"></th>
                        <th style="text-align: center;" translate="WMS_LOCATION"></th>
                        <th style="text-align: center;" translate="WMS_CREATETIME"></th>
                        <th style="text-align: center;" translate="WMS_MODIFYTIME"></th>
                        <th style="text-align: center;" translate="WMS_OPERATION"></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="r in reservationList">
                        <td class="col-fix-no">{{ $index | dbIndex:vm.paging }}</td>
                        <td style="text-align: center;">{{ r.order_number }}</td>
                        <td style="text-align: center;">{{ r.reservation_id }}</td>
                        <td style="text-align: center;">{{ r.order_channel_name }}</td>
                        <td style="text-align: center;">{{ r.ship_channel }}</td>
                        <td style="text-align: center;">{{ r.store_name }}</td>
                        <td>{{ r.sku }}</td>
                        <td>{{ r.product }}</td>
                        <td>{{ r.res_status_name }}</td>
                        <td>{{ r.location_name }}</td>
                        <td style="text-align: center;">{{ r.created_local }}</td>
                        <td style="text-align: center;">{{ r.modified_local }}</td>
                        <td style="text-align: center;" class="col-fix-op">
                            <!--<button class="btn btn-xs btn-success" context-menu="reservation-info-operations" ng-click="setValue(r)" >-->
                                <!--<span translate="WMS_OPERATION"></span>-->
                                <!--<span class="caret"></span>-->
                            <!--</button>-->
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="text-center" paging="vm.paging"></div>
        </div>
    </div>
    <ul id="reservation-info-operations" class="dropdown-menu">
        <li><a href="javascript:" ng-click="changeKind('2','')" translate="WMS_NOTE"></a></li>
        <li><a href="javascript:" ng-click="changeKind('3','Cancelled')" ng-show="liViewCtl.cancel" translate="WMS_CANCEL"></a></li>
        <li><a href="javascript:" ng-click="changeKind('4','BackOrdered')" ng-show="liViewCtl.backOrder" translate="WMS_BACKORDER"></a></li>
        <li><a href="javascript:" ng-click="changeKind('5','Open')" ng-show="liViewCtl.open" translate="WMS_OPEN"></a></li>
        <li><a href="javascript:" ng-click="changeKind('6','BackOrderConfirmed')" ng-show="liViewCtl.backOrderConfirmed" translate="WMS_CONFIRMED"></a></li>
    </ul>
</div>

