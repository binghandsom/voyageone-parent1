<div class="container-fluid" ng-controller="locationBindCtrl">
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title" translate="WMS_LOCATIONBIND"></h3>
        </div>
        <div class="panel-body">
            <!--商品搜索按钮组-->
            <div class="form-inline mb10">
                <span class="input-group">
                    <label for="location-bind-store" class="input-group-addon" translate="WMS_STORE"></label>
                    <select id="location-bind-store" class="form-control" ng-model="vm.search.store"
                            chosen style="width: 220px"
                            ng-options="i.store_id as i.store_name for i in vm.stores">
                    </select>
                </span>
                <span class="input-group">
                    <label for="location-bind-code" class="input-group-addon" translate="WMS_PRODUCTCODE_BIND"></label>
                    <input id="location-bind-code" type="text" class="form-control" ng-model="vm.search.code" enter-click="#location-bind-search"/>
                </span>
                <button id="location-bind-search" class="btn btn-primary" ng-click="searchItemLocation()" translate="WMS_SEARCH"></button>
                <span class="input-group">
                    <label for="location-bind-sku" class="input-group-addon" translate="WMS_PRODUCTSKU_BIND"></label>
                    <input id="location-bind-sku" type="text" class="form-control" ng-model="vm.search.sku" enter-click="#location-bind-searchBySKU"/>
                </span>
                <button id="location-bind-searchBySKU" class="btn btn-primary" ng-click="searchItemLocationBySku()" translate="WMS_SEARCH"></button>
            </div>
            <div class="row">
                <div class="col-md-8">
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered table-hover table-condensed">
                            <thead>
                            <tr>
                                <th colspan="3">
                                    Store：{{ vm.curr.store }}({{ vm.curr.store_name }}) &nbsp; Code：{{ vm.curr.code }}  &nbsp; SKU：{{ vm.curr.sku }}
                                </th>
                            </tr>
                            <tr>
                                <th class="col-fix-no">#</th>
                                <th translate="WMS_LOCATION"></th>
                                <th class="col-fix-op" translate="WMS_OPERATION"></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td class="col-fix-no"> </td>
                                <td><input id="location-bind-location" type="text" class="form-control" ng-model="vm.add.location" enter-click="#location-bind-add"/></td>
                                <td class="col-fix-op">
                                    <button id="location-bind-add" class="btn btn-success btn-xs btn-block" ng-click="addItemLocation()" translate="WMS_ADD"></button>
                                </td>
                            </tr>
                            <tr ng-repeat="i in vm.itemLocations">
                                <td class="col-fix-no">{{ $index + 1 }}</td>
                                <td>{{ i.location_name }}</td>
                                <td class="col-fix-op">
                                    <button class="btn btn-danger btn-xs btn-block" ng-click="deleteItemLocation(i, $index)" translate="WMS_DELETE"></button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <!--日志信息-->
                <div class="col-md-4">
                    <div class="table-responsive">
                        <table if-no-rows="vm.itemLocationLogs" class="table table-striped table-bordered table-hover table-condensed">
                            <thead>
                            <tr>
                                <th class="col-fix-no">#</th>
                                <th translate="WMS_LOGS"></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="l in vm.itemLocationLogs">
                                <td class="col-fix-no">{{ $index + 1 }}</td>
                                <td>{{ l.comment + ' " ' + l.location_name + ' " by ' + l.modifier + ' on ' + l.modified_local }}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>