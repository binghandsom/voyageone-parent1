<!-- 0827 yoenka -->
<div class="new-menu-nav" ng-controller="cmsNavController" ng-init="initialize()">
    <ul>
        <li class="active has-sub" ng-class="{active:currentMenu === 'category'}">
            <a href="">
                <span class="pull-right text-muted"><i class="fa fa-fw fa-angle-right text"></i></span>
                <i class="glyphicons glyphicons-show-thumbnails icon text-vo"></i>&nbsp;<span translate="CMS_TXT_MENU_CATEGORY"></span>
            </a>
            <ul>
                <li class="nav-sub-header">
                    <a href="">
                        <span translate="CMS_TXT_MENU_CATEGORY"></span>
                    </a>
                </li>
                <!--鎼滅储妗�-->
                <li ng-controller="navigationController">
                    <div class="vo_nav_r">
                        <form ui-shift="prependTo" target=".navbar-collapse" role="search" class="input-group">
                            <!--<div class="input-group">-->
                            <input type="text" ng-model="selectedCategory" typeahead="category as category.name for category in $root.cmsMaster.categoryList | filter:$viewValue | limitTo:8" class="form-control input-sm bg-light no-border rounded padder" placeholder="Search...">
                                      <span class="input-group-btn">
                                        <button type="submit" class="btn btn-sm bg-light rounded" ng-click="goCategoryPageForBtn(selectedCategory.categoryId)"><i class="fa fa-search"></i></button>
                                      </span>
                            <!--</div>-->
                        </form>
                    </div>
                </li>
                <!--category-->
                <li class="active" ng-repeat="item in $root.cmsMaster.categoryMenuList" ng-class="{'has-sub':item.children.length}" ng-controller="navigationController">
                    <a ng-href="{{goCategoryPage(item.categoryId)}}" href="">
                        <span class="pull-right text-muted" ng-if="item.children.length"><i class="fa fa-fw fa-angle-right text"></i></span>
                        <span ng-bind="item.name"></span>
                    </a>
                    <ul ng-if="item.children.length" ng-include="'categoryMenu'" ng-init="categoryMenu = item.children"></ul>
                </li>
            </ul>
        </li>
        <!--end category-->

        <!--bg promotion-->
        <li class="active has-sub" ng-class="{active:currentMenu === 'promotion'}">
            <a href="">
                <span class="pull-right text-muted"><i class="fa fa-fw fa-angle-right text"></i></span>
                <i class="glyphicons glyphicons-star-empty icon text-vo"></i>&nbsp;<span translate="CMS_TXT_MENU_PROMOTION"></span>
            </a>
            <ul>
                <li class="nav-sub-header">
                    <a href=""><span translate="CMS_TXT_MENU_PROMOTION"></span></a>
                </li>

                <!-- searc inside of category dropdown -->
                <li ng-controller="navigationController">
                    <!-- search form -->
                    <div class="vo_nav_r">
                    <!--<a>-->
                        <form ui-shift="prependTo" target=".navbar-collapse" role="search" class="input-group">
                            <!--<div class="input-group">-->
                                <input type="text" ng-model="selectedPromotion" typeahead="promotion as promotion.name for promotion in $root.cmsMaster.promotionList | filter:$viewValue | limitTo:8" class="form-control input-sm bg-light no-border rounded padder" placeholder="Search...">
                                  <span class="input-group-btn">
                                    <button type="submit" class="btn btn-sm bg-light rounded" ng-click="goPromotionPageForBtn('3', selectedPromotion.promotionId)"><i class="fa fa-search"></i></button>
                                  </span>
                            <!--</div>-->
                        </form>
                    </div>
                    <!--</a>-->
                    <!-- / search form -->
                </li>

                <!-- promotion鑿滃崟 -->
                <li class="active" ng-repeat="item in $root.cmsMaster.promotionMenuList" ng-class="{'has-sub':item.promotionMonthList.length}" ng-controller="navigationController">
                    <a ng-href="{{goPromotionPage('1', item.promotionYear)}}">
                        <span class="pull-right text-muted" ng-if="item.promotionMonthList.length"><i class="fa fa-fw fa-angle-right text"></i></span>
                        <span ng-bind="item.promotionYear"></span>
                    </a>
                    <ul ng-if="item.promotionMonthList.length" ng-include="'promotionMenu'"></ul>
                </li>
            </ul>
        </li>
        <!--end promotion-->

        <!--begin new-->
        <li class="active has-sub" ng-class="{active:currentMenu === 'new'}">
            <a href="">
                <span class="pull-right text-muted"><i class="fa fa-fw fa-angle-right text"></i></span>
                <i class="glyphicons glyphicons-circle-plus text-vo"></i>&nbsp;<span translate="CMS_TXT_MENU_CREATE"></span>
            </a>
            <ul>
                <li class="nav-sub-header">
                    <a href=""><span translate="CMS_TXT_MENU_CREATE"></span></a>
                </li>
                <!--<li ui-sref-active="active">-->
                    <!--<a ui-sref="cms.new.category" href="#/cms/new/category">-->
                        <!--<span translate="CMS_TXT_NEW_CATEGORY"></span>-->
                    <!--</a>-->
                <!--</li>-->
                <!--<li ui-sref-active="active">-->
                    <!--<a ui-sref="cms.new.model" href="#/cms/new/model">-->
                        <!--<span translate="CMS_TXT_NEW_MODEL"></span>-->
                    <!--</a>-->
                <!--</li>-->
                <li ui-sref-active="active">
                    <a ui-sref="cms.new.promotion" href="#/cms/new/promotion">
                        <span translate="CMS_TXT_NEW_PROMOTION"></span>
                    </a>
                </li>
            </ul>
        </li>
        <!--end new-->

        <!--begin search-->
        <li class="active has-sub" ng-class="{active:currentMenu === 'search'}">
            <a href="">
                <span class="pull-right text-muted"><i class="fa fa-fw fa-angle-right text"></i></span>
                <i class="glyphicons glyphicons-search text-vo"></i>&nbsp;<span translate="CMS_TXT_MENU_SEARCH"></span>
            </a>
            <ul>
                <li class="nav-sub-header" ui-sref-active="active">
                    <a  ui-sref="cms.search">
                        <span translate="CMS_TXT_MENU_SEARCH"></span>
                    </a>
                </li>
                <li ui-sref-active="active">
                    <a ui-sref="cms.search.complex" href="#/cms/search/complex">
                        <span translate="CMS_TXT_TITLE_COMPLEX_SEARCH"></span>
                    </a>
                </li>
                <li ui-sref-active="active">
                    <a ui-sref="cms.search.advance" href="#/cms/search/advance">
                        <span translate="CMS_TXT_TITLE_ADVANCE_SEARCH"></span>
                    </a>
                </li>
            </ul>
        </li>
        <!--end search-->

        <!--begin images-->
        <!--<li class="active has-sub" ng-class="{active:currentMenu === 'image'}">
            <a href="">
                <span class="pull-right text-muted"><i class="fa fa-fw fa-angle-right text"></i></span>
                <i class="glyphicons glyphicons-picture icon text-vo"></i>&nbsp;<span translate="CMS_TXT_MENU_IMAGES"></span>
            </a>
            <ul>
                <li class="nav-sub-header" ui-sref-active="active">
                    <a  ui-sref="cms.search">
                        <span translate="CMS_TXT_MENU_IMAGES"></span>
                    </a>
                </li>
                <li ui-sref-active="active">
                    <a ui-sref="cms.imagesdownloadimages">
                        <span translate="CMS_TXT_UPLOAD_IMAGES"></span>
                    </a>
                </li>
                <li ui-sref-active="active">
                    <a ui-sref="cms.imagesdownloadimages">
                        <span translate="CMS_TXT_DOWNLOAD_IMAGES"></span>
                    </a>
                </li>
            </ul>
        </li>-->
        <!--end images-->

        <!--master category setting-->
        <li class="active has-sub" ng-class="{active:currentMenu === 'masterCategory'}">
            <a href="">
                <span class="pull-right text-muted"><i class="fa fa-fw fa-angle-right text"></i></span>
                <i class="glyphicon glyphicon-transfer icon text-vo"></i>&nbsp;<span translate="CMS_TXT_MENU_MASTER_CATEGORY"></span>
            </a>
            <ul>
                <li class="nav-sub-header" ui-sref-active="active">
                    <a  ui-sref="cms.master">
                        <span translate="CMS_TXT_MENU_MASTER_CATEGORY"></span>
                    </a>
                </li>
                <li ui-sref-active="active">
                    <a ui-sref="cms.master.match" href="#/cms/masterCategory/match">
                        <span translate="CMS_TXT_MASTER_CATEGORY_MATCH"></span>
                    </a>
                </li>
                <li ui-sref-active="active">
                    <a ui-sref="cms.master.match" href="#/cms/feedCommonProperty/setting">
                        <span translate="CMS_TXT_MASTER_CATEGORY_DEFAULT_PROPERTY_SETTING"></span>
                    </a>
                </li>
            </ul>
        </li>
        <!--end master category setting-->

        <!--begin line-->
        <!--line-->
        <li class="line dk"></li>

        <li class="hidden-folded padder m-t m-b-sm text-muted text-xs" style="padding-left: 10px;">
            <span translate="CMS_TXT_MENU_SETTING"></span>
        </li>
        <!--endline-->

        <!--<li ui-sref-active="active">
            <a ui-sref="cms.settingSystem">
                <i class="glyphicons glyphicons-settings icon"></i>
                <span translate="CMS_TXT_MENU_SYSTEM_SETTING"></span>
            </a>
            <ul><li class="nav-sub-header"><a href=""><span translate="CMS_TXT_MENU_SYSTEM_SETTING"></span></a></li></ul>
        </li>-->

        <!-- personal setting -->
        <!--<li>
            <a ui-sref="cms.settingMy">
                <i class="glyphicons glyphicons-user-asterisk icon"></i>
                <span translate="CMS_TXT_MENU_MY_SETTING"></span>
            </a>
            <ul><li class="nav-sub-header"><a href=""><span translate="CMS_TXT_MENU_MY_SETTING"></span></a></li></ul>
        </li>-->
    </ul>
</div>

<!-- 璁剧疆Category鑿滃崟閫夐」 -->
<script id="categoryMenu" type="text/ng-template">
    <li class="active" ng-repeat="item in categoryMenu" ng-class="{'has-sub':item.children.length}" ng-controller="navigationController">
        <a ng-href="{{goCategoryPage(item.categoryId)}}" href="">
            <span class="pull-right text-muted" ng-if="item.children.length"><i class="fa fa-fw fa-angle-right text"></i></span>
            <span ng-bind="item.name"></span>
        </a>
        <ul ng-if="item.children.length" ng-include="'categoryMenu'" ng-init="categoryMenu = item.children"></ul>
    </li>
</script>
<!--end-->

<script id="promotionMenu" type="text/ng-template">
    <li class="active" ng-repeat="itemMonth in item.promotionMonthList" ng-class="{'has-sub':itemMonth.promotionInfo.length}" ng-controller="navigationController">
        <a ng-href="{{goPromotionPage('2', itemMonth.promotionMonth)}}">
            <span class="pull-right text-muted" ng-if="itemMonth.promotionInfo.length"><i class="fa fa-fw fa-angle-right text"></i></span>
            <span ng-bind="itemMonth.promotionMonth"></span>
        </a>
        <ul ng-if="itemMonth.promotionInfo.length">
            <li class="active" ng-repeat="promotion in itemMonth.promotionInfo" ng-controller="navigationController">
                <a ng-href="{{goPromotionPage('3', promotion.promotionId)}}">
                    <span ng-bind="promotion.name"></span>
                </a>
            </li>
        </ul>
    </li>
</script>